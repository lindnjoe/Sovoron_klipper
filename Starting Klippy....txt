Starting Klippy...
Args: ['/home/pii/klipper/klippy/klippy.py', '/home/pii/printer_data/config/printer.cfg', '-l', '/home/pii/printer_data/logs/klippy.log', '-I', '/home/pii/printer_data/comms/klippy.serial', '-a', '/home/pii/printer_data/comms/klippy.sock']
Git version: 'v0.13.0-452-g8dd798eb-dirty'
Untracked files: klippy/extras/AFC_M109_deadband.py, klippy/extras/AFC_Toolchanger.py, klippy/extras/autotune_tmc.py, klippy/extras/axiscope.py, klippy/extras/bed_thermal_adjust.py, klippy/extras/fps.py, klippy/extras/gcode_shell_command.py, klippy/extras/hdc1080.py, klippy/extras/hdc1080_loader.py, klippy/extras/manual_rail.py, (+44 files)
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper.git
CPU: 4 core ?
Device: Raspberry Pi 5 Model B Rev 1.0
Linux: Linux version 6.12.47+rpt-rpi-2712 (serge@raspberrypi.com) (aarch64-linux-gnu-gcc-12 (Debian 12.2.0-14+deb12u1) 12.2.0, GNU ld (GNU Binutils for Debian) 2.40) #1 SMP PREEMPT Debian 1:6.12.47-1+rpt1~bookworm (2025-09-16)
Python: '3.11.2 (main, Apr 28 2025, 14:11:48) [GCC 12.2.0]'
Start printer at Sun Jan  4 12:28:15 2026 (1767547695.4 296.5)
===== Config file =====
[axis_twist_compensation]

[autotune_tmc AFC_stepper lane0]
motor = ldo-36sth20-1004ahg
tuning_goal = performance
voltage = 24

[autotune_tmc AFC_stepper lane1]
motor = ldo-36sth20-1004ahg
tuning_goal = performance
voltage = 24

[autotune_tmc AFC_stepper lane2]
motor = ldo-36sth20-1004ahg
tuning_goal = performance
voltage = 24

[autotune_tmc AFC_stepper lane3]
motor = ldo-36sth20-1004ahg
tuning_goal = performance
voltage = 24

[shaketune]

[mcu]
canbus_uuid = eb736576443d

[printer]
kinematics = corexy
max_velocity = 500
max_accel = 8000
minimum_cruise_ratio = 0.5
max_z_velocity = 250
max_z_accel = 1500
square_corner_velocity = 5.0

[duplicate_pin_override]
pins = Pico:gpio3, PF3, EBBT5:PB8, EBBT4:PB9, EBBT4:PB7, EBBT5:PB7, EBBT4:PB3, EBBT5:PB3, EBBT4:PB3, EBBT5:PB6, PA0, EBBT4:PB6

[resonance_tester]
probe_points = 
	175, 175, 20
accel_chip = adxl345
accel_chip_z = adxl345 T0
accel_per_hz = 100
sweeping_accel = 400
sweeping_period = 0
min_freq = 1
max_freq = 100
max_smoothing = 0.2
hz_per_sec = 0.5

[virtual_sdcard]
path = ~/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set allow_park = client.park_at_cancel|default(false)|lower == 'true' %}
	{% set retract = client.cancel_retract|default(5.0)|abs %}
	
	{% set park_x = "" if (client.park_at_cancel_x|default(none) is none)
	else "X=" ~ client.park_at_cancel_x %}
	{% set park_y = "" if (client.park_at_cancel_y|default(none) is none)
	else "Y=" ~ client.park_at_cancel_y %}
	{% set custom_park = park_x|length > 0 or park_y|length > 0 %}
	
	
	{% if printer['gcode_macro RESUME'].restore_idle_timeout > 0 %}
	SET_IDLE_TIMEOUT TIMEOUT=300
	{% endif %}
	{% if (custom_park or not printer.pause_resume.is_paused) and allow_park %} _TOOLHEAD_PARK_PAUSE_CANCEL {park_x} {park_y} {% endif %}
	
	TURN_OFF_HEATERS
	STOP_TOOL_CRASH_DETECTION
	M106 S0
	{client.user_cancel_macro|default("")}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=idle_state VALUE=False
	
	SET_PAUSE_NEXT_LAYER ENABLE=0
	SET_PAUSE_AT_LAYER ENABLE=0 LAYER=0
	
	
	
	
	CANCEL_PRINT_BASE
	
	
	
	
	
	
	
	
	RESET_AFC_MAPPING
	OAMSM_CLEAR_LANE_MAPPINGS
	{% set fps_names = ["fps1", "fps2"] %}
	{% if 'oams_manager' in printer %}
	{% for fps_name in fps_names %}
	{% set fps_key = 'fps ' ~ fps_name %}
	{% set fps = printer['oams_manager'][fps_key]|default(None) %}
	{% if fps is not none %}
	{% set loaded_lane = fps.current_lane %}
	{% if loaded_lane is not none %}
	TOOL_UNLOAD LANE={loaded_lane}
	{% endif %}
	{% endif %}
	{% endfor %}
	{% endif %}
	DROP_TOOL
	
	AFC_PARK
	SET_VELOCITY_LIMIT ACCEL=10000

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set idle_timeout = client.idle_timeout|default(0) %}
	{% set temp = printer[printer.toolhead.extruder].target if printer.toolhead.extruder != '' else 0 %}
	{% set restore = False if printer.toolhead.extruder == ''
	else True  if params.RESTORE|default(1)|int == 1 else False %}
	
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=last_extruder_temp VALUE="{{'restore': restore, 'temp': temp}}"
	
	{% if idle_timeout > 0 %}
	SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=restore_idle_timeout VALUE={printer.configfile.settings.idle_timeout.timeout}
	SET_IDLE_TIMEOUT TIMEOUT={idle_timeout}
	{% endif %}
	PAUSE_BASE
	{client.user_pause_macro|default("")}
	_TOOLHEAD_PARK_PAUSE_CANCEL {rawparams}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
variable_last_extruder_temp = {'restore': False, 'temp': 0}
variable_restore_idle_timeout = 0
variable_idle_state = False
gcode = 
	INITIALIZE_TOOLCHANGER
	VERIFY_TOOL_DETECTED
	RESUME_BASE

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = 
	{% set pause_next_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_next_layer %}
	{% set ENABLE = params.ENABLE|default(1)|int != 0 %}
	{% set MACRO = params.MACRO|default(pause_next_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{ 'enable': ENABLE, 'call': MACRO }}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% set pause_at_layer = printer['gcode_macro SET_PRINT_STATS_INFO'].pause_at_layer %}
	{% set ENABLE = params.ENABLE|int != 0 if params.ENABLE is defined
	else params.LAYER is defined %}
	{% set LAYER = params.LAYER|default(pause_at_layer.layer)|int %}
	{% set MACRO = params.MACRO|default(pause_at_layer.call, True) %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{ 'enable': ENABLE, 'layer': LAYER, 'call': MACRO }}"

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = { 'enable': False, 'call': "PAUSE" }
variable_pause_at_layer = { 'enable': False, 'layer': 0, 'call': "PAUSE" }
gcode = 
	{% if pause_next_layer.enable %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_next_layer" % pause_next_layer.call}'
	{pause_next_layer.call}
	SET_PAUSE_NEXT_LAYER ENABLE=0
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	RESPOND TYPE=echo MSG='{"%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer)}'
	{pause_at_layer.call}
	SET_PAUSE_AT_LAYER ENABLE=0
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = client.use_custom_pos|default(false)|lower == 'true' %}
	{% set custom_park_x  = client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = client.custom_park_y|default(0.0) %}
	{% set park_dz        = client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop         = client.speed_hop|default(15) * 60 %}
	{% set sp_move        = client.speed_move|default(velocity) * 60 %}
	
	{% set origin    = printer.gcode_move.homing_origin %}
	{% set act       = printer.gcode_move.gcode_position %}
	{% set max       = printer.toolhead.axis_maximum %}
	{% set cone      = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, (max.z - origin.z)]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='Printer not homed'
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set use_fw_retract = (client.use_fw_retract|default(false)|lower == 'true') and (printer.firmware_retraction is defined) %}
	{% set length = params.LENGTH|default(client.unretract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_unretract)|default(35) %}
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.toolhead.extruder != '' %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	RESPOND TYPE=echo MSG='{"\"%s\" not hot enough" % printer.toolhead.extruder}'
	{% endif %}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set client = printer['gcode_macro _CLIENT_VARIABLE']|default({}) %}
	{% set length = params.LENGTH|default(client.retract)|default(1.0)|float %}
	{% set speed = params.SPEED|default(client.speed_retract)|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[gcode_macro _CLIENT_LINEAR_MOVE]
description = Linear move with save and restore of the gcode state
gcode = 
	{% set x_move = "X" ~ params.X if params.X is defined else "" %}
	{% set y_move = "Y" ~ params.Y if params.Y is defined else "" %}
	{% set z_move = "Z" ~ params.Z if params.Z is defined else "" %}
	{% set e_move = "E" ~ params.E if params.E is defined else "" %}
	{% set rate = "F" ~ params.F if params.F is defined else "" %}
	{% set ABSOLUTE = params.ABSOLUTE | default(0) | int != 0 %}
	{% set ABSOLUTE_E = params.ABSOLUTE_E | default(0) | int != 0 %}
	SAVE_GCODE_STATE NAME=_client_movement
	{% if x_move or y_move or z_move %}
	G9{ 0 if ABSOLUTE else 1 }
	{% endif %}
	{% if e_move %}
	M8{ 2 if ABSOLUTE_E else 3 }
	{% endif %}
	G1 { x_move } { y_move } { z_move } { e_move } { rate }
	RESTORE_GCODE_STATE NAME=_client_movement

[rounded_path]
resolution = 0.2
replace_g0 = False

[force_move]
enable_force_move = True

[gcode_macro homing_override_config]
variable_sensorless_x = True
variable_sensorless_y = True
variable_homing_rebound_y = 40
variable_stepper_driver = "tmc5160"
variable_homing_current = 0.55
gcode = 

[gcode_macro SET_TEMPERATURE_WITH_DEADBAND]
variable_default_deadband = 10.0
description = [T<index>] [S<temperature>] [D<Deadband>]
	Set tool temperature and wait.
	T= Tool number [optional]. If this parameter is not provided, the current tool is used.
	S= Target temperature
	D= Dead-band, allows the temperature variance +/- the deadband
gcode = 
	{% set s = params.S|default(0)|int %}
	{% set tn = params.T|default(printer.toolchanger.tool_number)|int %}
	{% set d = params.D|default(default_deadband)|float %}
	
	{% set tool = printer.toolchanger.tool_names[tn]|default('') %}
	{% set extruder = printer[tool].extruder %}
	
	SET_HEATER_TEMPERATURE HEATER={extruder} TARGET={s}
	{% if s > 0 %}
	RESPOND type=echo MSG='{"Waiting For Extruder with Deadband: "~d}'
	TEMPERATURE_WAIT SENSOR={extruder} MINIMUM={s-(d/2)} MAXIMUM={s+(d/2)}
	{% endif %}

[toolchanger]
t_command_restore_axis = ZYX
params_safe_y = 120
params_close_y = 65
params_fast_speed = 50000
params_path_speed = 2000
require_tool_present = False
params_dropoff_path = [{'z': 3.5,  'y': 4, 'f': 3.0},
	{'z': 2,    'y': 1, 'f': 2.0},
	{'z': 1,    'y': 0, 'f': 1.0},
	{'z': 0,    'y': 0, 'f': 0.8},
	{'z': -12,  'y': 0, 'f': 3}]
params_pickup_path = [{'z': -12,  'y': 2, 'f': 3.0},
	{'z': -10,  'y': 0, 'f': 2.0},
	{'z': -5,   'y': 0, 'f': 1.0},
	{'z': 1,    'y': 0, 'f': 0.75, 'verify': 1},
	{'z': 2,    'y': 2, 'f': 1.25},
	{'z': 3,    'y': 5, 'f': 2}]
params_input_shaper_freq_x = 62.4
params_input_shaper_freq_y = 88.6
initialize_on = home
error_gcode = 
	{% macro msg(s, prefix_color="--v-accent-base", msg_color="--p-text-color2") %}
	{% set pre  = "<span style=\"color: var(" ~ prefix_color ~ "); font-weight:bold;\">[toolchanger] </span>" %}
	{ action_respond_info(pre ~ "<span style=\"color: var(" ~ msg_color ~ ");\">" ~ s ~ "</span>") }
	{% endmacro %}
	{% macro err(s) %}{ msg(s, prefix_color="--v-error-base", msg_color="--v-warning-base") }{% endmacro %}
	
	{ err("toolchange failure. saving tooltemps.") }
	{% set dock = { 'x': tool['params_park_x']|float,
	'y': tool['params_park_y']|float,
	'z': tool['params_park_z']|float } %}
	
	{% if printer.toolhead.position.z >= dock.z - 50 %}
	PAUSE_BASE
	SET_VELOCITY_LIMIT ACCEL={ tool.params_failure_acceleration|default(1000) }
	{% set temps = {} %}
	{% for t_name in printer.toolchanger.tool_names %}
	{% set _tool = printer[t_name] %}
	{% set temp  = printer[_tool.extruder].target %}
	{% set _     = temps.update( {_tool.tool_number: temp} ) %}
	M104 T{ _tool.tool_number } S0
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_TOOLCHANGE_ERROR_HANDLER VARIABLE=tool_temps VALUE="{ temps }"
	
	
	_TOOLCHANGE_ERROR_HANDLER T={ tool.tool_number }
	
	{% else %}
	PAUSE_BASE
	_RAISE MSG="toolchange failure, failure in verify! not at expected position! not engaging recovery!!!"
	{% endif %}
before_change_gcode = 
	{% set tn = "T"+(tool.tool_number|string) %}
	{% if printer["gcode_macro " + tn ] %}
	SET_GCODE_VARIABLE MACRO={tn} VARIABLE=color VALUE="''"
	{% endif %}
after_change_gcode = 
	{% set tn = "T"+(tool.tool_number|string) %}
	{% if printer["gcode_macro " + tn ] %}
	SET_GCODE_VARIABLE MACRO={tn} VARIABLE=color VALUE="'c44'"
	{% endif %}
	
	{% if 'input_shaper' in printer.configfile.config %}
	{% set default_x_freq = printer.configfile.config['input_shaper']['shaper_freq_x']|default(0)|float %}
	{% set default_x_type = printer.configfile.config['input_shaper']['shaper_type_x']|default('mzv')|string %}
	{% set default_x_damping = printer.configfile.config['input_shaper']['damping_ratio_x']|default(0.1)|float %}
	{% set default_y_freq = printer.configfile.config['input_shaper']['shaper_freq_y']|default(0)|float %}
	{% set default_y_type = printer.configfile.config['input_shaper']['shaper_type_y']|default('mzv')|string %}
	{% set default_y_damping = printer.configfile.config['input_shaper']['damping_ratio_y']|default(0.1)|float %}
	{% set default_z_freq = printer.configfile.config['input_shaper']['shaper_freq_z']|default(68.6)|float %}
	{% set default_z_type = printer.configfile.config['input_shaper']['shaper_type_z']|default('ei')|string %}
	{% set default_z_damping = printer.configfile.config['input_shaper']['damping_ratio_z']|default(0.057)|float %}
	
	
	SET_INPUT_SHAPER SHAPER_TYPE_X={tool.params_input_shaper_type_x if tool.params_input_shaper_type_x else default_x_type} SHAPER_FREQ_X={tool.params_input_shaper_freq_x if tool.params_input_shaper_freq_x else default_x_freq} SHAPER_TYPE_Y={tool.params_input_shaper_type_y if tool.params_input_shaper_type_y else default_y_type} SHAPER_FREQ_Y={tool.params_input_shaper_freq_y if tool.params_input_shaper_freq_y else default_y_freq} DAMPING_RATIO_X={tool.params_input_shaper_damping_ratio_x if tool.params_input_shaper_damping_ratio_x else default_x_damping} DAMPING_RATIO_Y={tool.params_input_shaper_damping_ratio_y if tool.params_input_shaper_damping_ratio_y else default_y_damping}
	
	{% endif %}
dropoff_gcode = 
	{% set x = tool.params_park_x|float %}
	{% set y = tool.params_park_y|float %}
	{% set z = tool.params_park_z|float %}
	{% set fast = tool.params_fast_speed|float %}
	{% set path = tool.params_dropoff_path %}
	{% set max_z = printer.configfile.config["stepper_z"]["position_max"]|float %}
	{% set cur_z = printer.toolhead.position[2]|float %}
	RESPOND TYPE=echo MSG='Dropping off {tool.name}'
	G90
	G0 Z{ [cur_z+1.0, max_z]|min } F{fast}
	
	ROUNDED_G0 Y={tool.params_safe_y} D=20 F={fast}
	ROUNDED_G0 X={x} D=150 F={fast}
	ROUNDED_G0 Z={z + path[0]['z']|float} D=20 F={fast}
	ROUNDED_G0 Y={y + path[0]['y']|float} D=0 F={fast}
	
	
	{% for pos in path %}
	{% set speed = tool.params_path_speed|float * (pos.get('f', 1.0)|float) %}
	G0 {% if 'x' in pos %}X{x + pos['x']|float}{% endif %} {% if 'y' in pos %}Y{y + pos['y']|float}{% endif %} {% if 'z' in pos %}Z{z + pos['z']|float }{% endif %} F{speed}
	{% endfor %}
	
	{% if pickup_tool is none %}
	G0 Y{tool.params_safe_y} F{fast}
	{% endif %}
pickup_gcode = 
	{% set x = tool.params_park_x|float %}
	{% set y = tool.params_park_y|float %}
	{% set z = tool.params_park_z|float %}
	{% set fast = tool.params_fast_speed|float %}
	{% set path = tool.params_pickup_path %}
	RESPOND TYPE=echo MSG='Picking up {tool.name}'
	G90
	
	ROUNDED_G0 Y={tool.params_close_y} F={fast} D=5
	ROUNDED_G0 X={x} Z={z + path[0]['z']|float} F={fast} D=5
	ROUNDED_G0 Y={y + path[0]['y']|float} F={fast} D=0
	
	
	{% if tool.extruder %}
	M109 T{tool.tool_number} S{printer[tool.extruder].target|int}
	{% endif %}
	
	{% for pos in path %}
	{% set speed = tool.params_path_speed|float * (pos.get('f', 1.0)|float) %}
	G0 {% if 'x' in pos %}X{x + pos['x']|float}{% endif %} {% if 'y' in pos %}Y{y + pos['y']|float}{% endif %} {% if 'z' in pos %}Z{z + pos['z']|float }{% endif %} F{speed}
	{% if 'verify' in pos %}
	VERIFY_TOOL_DETECTED T={tool.tool_number}
	{% endif %}
	{% endfor %}
	
	ROUNDED_G0 Y={tool.params_safe_y} F={fast} D=20
	{% if 'Z' in restore_position %}
	ROUNDED_G0 Z={restore_position.Z} F={fast} D=150
	{% endif %}
	{% if 'X' in restore_position %}
	ROUNDED_G0 X={restore_position.X} F={fast} D=1000
	{% endif %}
	{% if 'Y' in restore_position %}
	ROUNDED_G0 Y={restore_position.Y} F={fast} D=0
	{% endif %}
	ROUNDED_G0 D=0
params_failure_speed_divider = 5
params_failure_acceleration = 1000
recover_gcode = 
	
	{% set dock             = { 'x': tool['params_park_x']|float,
	'y': tool['params_park_y']|float,
	'z': tool['params_park_z']|float } %}
	
	{% set tool_size        = tool.params_tool_size|default({'x': 60, 'y': 60, 'z': 90}) %}
	{% set close_y_force    = tool.params_close_y|default(40)|float %}
	{% set safe_y_force     = tool.params_safe_y|default(120)|float %}
	{% set fast             = tool.params_fast_speed|default(99999)|float %}
	{% set tn               = tool.tool_number %}
	{% set cur_pos          = printer.toolhead.position %}
	
	{% set safe_y           = [safe_y_force, (dock.y + tool_size.y)]|max %}
	{% set safe_y_d         = [10, (10 + (safe_y - tool_size.y) * 0.4142)]|max %}
	
	
	{% set saved = printer['gcode_macro _TOOLCHANGE_ERROR_HANDLER'].get('tool_temps', {}) %}
	{% for _tn, _temp in saved.items() %}
	M104 T{ _tn } S{ _temp }
	{% endfor %}
	M109 T{ tn } S{ saved.get(tn) }
	SET_GCODE_VARIABLE MACRO=_TOOLCHANGE_ERROR_HANDLER VARIABLE=tool_temps VALUE={ {} }
	
	
	{% if cur_pos.z > (dock.z - 20) and cur_pos.y < (safe_y) %}
	ROUNDED_G0 Y={safe_y} F={fast} D={safe_y_d}
	{% endif %}
	
	{% set rx = restore_position.get('X', False) %}
	{% set ry = restore_position.get('Y', False) %}
	{% set rz = restore_position.get('Z', False) %}
	
	
	{% set safe_y_max    = printer.toolhead.axis_maximum.y - tool_size.y - 10 %}
	{% set safe_y_min    = [safe_y_force, (dock.y + tool_size.y)]|max %}
	{% if ry and ry >= (safe_y_min + 10) and ry <= (safe_y_max - 10) %}
	{% set safe_y = ry %}
	{% endif %}
	
	
	{% if rx and (dock.x - rx)|abs < 25.0 and rz %}
	ROUNDED_G0 X={ rx } Z={ rz + 10 } F={ fast } D=200
	{% else %}
	{% if rz %} ROUNDED_G0 Z={ rz + 10 } F={ fast } D=200  {% endif %}
	{% if rx %} ROUNDED_G0 X={ rx }      F={ fast } D=1000 {% endif %}
	{% endif %}
	{% if ry %} ROUNDED_G0 Y={ ry } F={ fast }   D=50 {% endif %}
	{% if rz %} ROUNDED_G0 Z={ rz } F={ fast/5 } D=0  {% endif %}
	
	ROUNDED_G0 D=0
	{% if printer.print_stats.state|lower == 'printing' and 'tool_probe_endstop' in printer %}
	START_TOOL_PROBE_CRASH_DETECTION T={ tn }
	{% endif %}
	
	
	
	M400
	RESTORE_GCODE_STATE NAME=PAUSE_STATE MOVE=0
	SAVE_GCODE_STATE NAME=PAUSE_STATE
	RESUME_BASE

[gcode_macro TOOL_ALIGN_START]
gcode = 
	INITIALIZE_TOOLCHANGER
	_TOOL_ALIGN_START

[gcode_macro _TOOL_ALIGN_START]
gcode = 
	{% set tool = printer[printer.toolchanger.tool] %}
	SET_TOOL_PARAMETER PARAMETER='params_path_speed' VALUE=300
	SET_GCODE_OFFSET X=0 Y=0 Z=0
	G0 Y{tool.params_safe_y} F{tool.params_fast_speed}
	G0 X{tool.params_park_x} Z{tool.params_park_z}
	G0 Y{tool.params_park_y|float + 100.0}

[gcode_macro TOOL_ALIGN_TEST]
gcode = 
	{% set curpos = printer.gcode_move.gcode_position %}
	{% if curpos[1] > 0 %}
	
	RESPOND TYPE=error MSG='Test aborted. Tool too far away from the dock.'
	{% else %}
	INITIALIZE_TOOLCHANGER
	SET_GCODE_OFFSET X=0 Y=0 Z=0
	SET_TOOL_PARAMETER PARAMETER='params_park_x' VALUE={curpos[0]}
	SET_TOOL_PARAMETER PARAMETER='params_park_y' VALUE={curpos[1]}
	SET_TOOL_PARAMETER PARAMETER='params_park_z' VALUE={curpos[2]}
	TEST_TOOL_DOCKING RESTORE_AXIS=XYZ
	{% endif %}

[gcode_macro TOOL_ALIGN_DONE]
gcode = 
	{% set tool = printer[printer.toolchanger.tool] %}
	SAVE_TOOL_PARAMETER PARAMETER='params_park_x'
	SAVE_TOOL_PARAMETER PARAMETER='params_park_y'
	SAVE_TOOL_PARAMETER PARAMETER='params_park_z'
	RESET_TOOL_PARAMETER PARAMETER='params_path_speed'
	G0 Y{tool.params_safe_y} F{tool.params_fast_speed}

[mcu EBBT0]
canbus_uuid = 7b528b6df2b7

[tool T0]
detection_pin = ^!EBBT0:PB6
params_has_filament_sensor = False
toolchanger = toolchanger
tool_number = 0
extruder = extruder
fan = T0_partfan
gcode_x_offset = 0
gcode_y_offset = 0
gcode_z_offset = -0.04
params_type = 'sc'
params_park_x = 144.45
params_park_y = -6.9
params_park_z = 320.0
params_safe_y = 110
params_input_shaper_type_x = 'mzv'
params_input_shaper_type_y = 'mzv'
params_input_shaper_freq_x = 54.2
params_input_shaper_freq_y = 39.6
params_input_shaper_damping_ratio_x = 0.097
params_input_shaper_damping_ratio_y = 0.072
resonance_chip = adxl345 T0

[adxl345 T0]
cs_pin = EBBT0: PB12
spi_software_sclk_pin = EBBT0: PB10
spi_software_mosi_pin = EBBT0: PB11
spi_software_miso_pin = EBBT0: PB2
axes_map = x,z,-y

[tmc2209 extruder]
uart_pin = EBBT0: PA15
interpolate = false
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[extruder]
step_pin = EBBT0:PD0
dir_pin = EBBT0:PD1
enable_pin = !EBBT0:PD2
microsteps = 16
full_steps_per_rotation = 200
rotation_distance = 4.637
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = EBBT0: PB13
sensor_type = ATC Semitec 104NT-4-R025H42G
sensor_pin = EBBT0:PA3
max_power = 1.0
min_temp = -235
max_temp = 500
min_extrude_temp = 170
pressure_advance = 0.032
pressure_advance_smooth_time = 0.040
control = pid
pid_kp = 22.357
pid_ki = 3.857
pid_kd = 15.780
max_extrude_only_distance = 500.0
max_extrude_only_velocity = 120.0
max_extrude_cross_section = 8

[fan_generic T0_partfan]
pin = EBBT0:PA0

[heater_fan T0_hotend_fan]
pin = EBBT0:PA1
heater = extruder
heater_temp = 50.0
kick_start_time = 0.5

[gcode_macro T0]
variable_active = 0
variable_color = ""
gcode = 
	SELECT_TOOL T=0

[mcu EBBT1]
canbus_uuid = e6426489c33d

[tool T1]
detection_pin = ^!EBBT1:PB6
params_has_filament_sensor = False
toolchanger = toolchanger
tool_number = 1
extruder = extruder1
fan = T1_partfan
gcode_x_offset = 0.421
gcode_y_offset = -0.078
gcode_z_offset = 0.0156
params_type = 'sc'
params_park_x = 274.7
params_park_y = -7.05
params_park_z = 320.0
params_safe_y = 110.0
params_input_shaper_type_x = 'mzv'
params_input_shaper_type_y = 'mzv'
params_input_shaper_freq_x = 56.2
params_input_shaper_freq_y = 39.8
params_input_shaper_freq_z = 59.6
params_input_shaper_damping_ratio_z = 0.057
params_input_shaper_damping_ratio_x = 0.062
params_input_shaper_damping_ratio_y = 0.061
resonance_chip = adxl345 T1

[adxl345 T1]
cs_pin = EBBT1: PB12
spi_software_sclk_pin = EBBT1: PB10
spi_software_mosi_pin = EBBT1: PB11
spi_software_miso_pin = EBBT1: PB2
axes_map = z,-y,x

[extruder1]
step_pin = EBBT1:PD0
dir_pin = EBBT1:PD1
enable_pin = !EBBT1:PD2
microsteps = 16
full_steps_per_rotation = 200
rotation_distance = 4.637
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = EBBT1: PB13
sensor_type = ATC Semitec 104NT-4-R025H42G
sensor_pin = EBBT1:PA3
min_temp = -250
max_temp = 305
max_power = 1.0
min_extrude_temp = 150
control = pid
pid_kp = 22.357
pid_ki = 3.857
pid_kd = 15.780
pressure_advance = 0.032
pressure_advance_smooth_time = 0.040
max_extrude_only_distance = 500.0
max_extrude_only_velocity = 120.0
max_extrude_cross_section = 8

[tmc2209 extruder1]
uart_pin = EBBT1: PA15
interpolate = false
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[fan_generic T1_partfan]
pin = EBBT1:PA0

[heater_fan T1_hotend_fan]
pin = EBBT1:PA1
heater = extruder1
max_power = 1.0
heater_temp = 50.0
kick_start_time = 0.5

[gcode_macro T1]
variable_active = 0
variable_color = ""
gcode = 
	SELECT_TOOL T=1

[neopixel led]
pin = EBBT3:PD3
chain_count = 3
color_order = GRBW
initial_red = 0.0
initial_green = 0.0
initial_blue = 0.0
initial_white = 1.0

[mcu EBBT2]
canbus_uuid = b5834e9c2423

[tool T2]
detection_pin = ^!EBBT2:PB6
params_has_filament_sensor = False
toolchanger = toolchanger
tool_number = 2
extruder = extruder2
fan = T2_partfan
gcode_x_offset = 1.73
gcode_y_offset = -0.186
gcode_z_offset = -0.2919
params_type = 'sc'
params_park_x = 79.5
params_park_y = -6.8
params_park_z = 320.0
params_safe_y = 110.0
params_input_shaper_type_x = 'mzv'
params_input_shaper_type_y = 'mzv'
params_input_shaper_freq_x = 55.2
params_input_shaper_freq_y = 40.0
params_input_shaper_freq_z = 59.6
params_input_shaper_damping_ratio_z = 0.057
params_input_shaper_damping_ratio_x = 0.077
params_input_shaper_damping_ratio_y = 0.066
resonance_chip = adxl345 T2

[adxl345 T2]
cs_pin = EBBT2: PB12
spi_software_sclk_pin = EBBT2: PB10
spi_software_mosi_pin = EBBT2: PB11
spi_software_miso_pin = EBBT2: PB2
axes_map = z,-y,x

[extruder2]
step_pin = EBBT2:PD0
dir_pin = EBBT2:PD1
enable_pin = !EBBT2:PD2
microsteps = 16
full_steps_per_rotation = 200
rotation_distance = 4.637
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = EBBT2: PB13
sensor_type = ATC Semitec 104NT-4-R025H42G
sensor_pin = EBBT2:PA3
min_temp = -250
max_temp = 305
max_power = 1.0
min_extrude_temp = 150
control = pid
pid_kp = 22.357
pid_ki = 3.857
pid_kd = 15.780
pressure_advance = 0.032
pressure_advance_smooth_time = 0.040
max_extrude_only_distance = 500.0
max_extrude_only_velocity = 120.0
max_extrude_cross_section = 8

[tmc2209 extruder2]
uart_pin = EBBT2: PA15
interpolate = false
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[fan_generic T2_partfan]
pin = EBBT2:PA1

[heater_fan T2_hotend_fan]
pin = EBBT2:PA0
heater = extruder2
max_power = 1.0
heater_temp = 50.0
kick_start_time = 0.5

[gcode_macro T2]
variable_active = 0
variable_color = ""
gcode = 
	SELECT_TOOL T=2

[mcu EBBT3]
canbus_uuid = 9e284deb9102

[tool T3]
detection_pin = ^!EBBT3:PB6
params_has_filament_sensor = False
toolchanger = toolchanger
tool_number = 3
extruder = extruder3
fan = T3_partfan
gcode_x_offset = 1.390
gcode_y_offset = -1.590
gcode_z_offset = -0.480
params_type = 'sc'
params_park_x = 211
params_park_y = -6.9
params_park_z = 320.0
params_safe_y = 110.0
params_input_shaper_type_x = 'mzv'
params_input_shaper_type_y = 'mzv'
params_input_shaper_freq_x = 58.2
params_input_shaper_freq_y = 40.2
params_input_shaper_freq_z = 59.6
params_input_shaper_damping_ratio_z = 0.057
params_input_shaper_damping_ratio_x = 0.063
params_input_shaper_damping_ratio_y = 0.073
resonance_chip = adxl345 T3

[adxl345 T3]
cs_pin = EBBT3: PB12
spi_software_sclk_pin = EBBT3: PB10
spi_software_mosi_pin = EBBT3: PB11
spi_software_miso_pin = EBBT3: PB2
axes_map = z,-y,x

[extruder3]
step_pin = EBBT3:PD0
dir_pin = !EBBT3:PD1
enable_pin = !EBBT3:PD2
microsteps = 16
full_steps_per_rotation = 200
rotation_distance = 4.637
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = EBBT3: PB13
sensor_type = ATC Semitec 104NT-4-R025H42G
sensor_pin = EBBT3:PA3
min_temp = -250
max_temp = 305
max_power = 1.0
min_extrude_temp = 150
control = pid
pid_kp = 22.357
pid_ki = 3.857
pid_kd = 15.780
pressure_advance = 0.032
pressure_advance_smooth_time = 0.040
max_extrude_only_distance = 500.0
max_extrude_only_velocity = 120.0
max_extrude_cross_section = 8

[tmc2209 extruder3]
uart_pin = EBBT3: PA15
interpolate = false
run_current = 0.5
sense_resistor = 0.110
stealthchop_threshold = 0

[fan_generic T3_partfan]
pin = EBBT3:PA0

[heater_fan T3_hotend_fan]
pin = EBBT3:PA1
heater = extruder3
max_power = 1.0
heater_temp = 50.0
kick_start_time = 0.5

[gcode_macro T3]
variable_active = 0
variable_color = ""
gcode = 
	SELECT_TOOL T=3

[mcu EBBT4]
canbus_uuid = 0a76e9303407

[tool T4]
detection_pin = ^!EBBT4:PB8
params_has_filament_sensor = False
toolchanger = toolchanger
tool_number = 4
extruder = extruder4
fan = T4_partfan
gcode_x_offset = 1.141
gcode_y_offset = -1.293
gcode_z_offset = -0.280
params_type = 'sc'
params_park_x = 344.9
params_park_y = -5.5
params_park_z = 320.0
params_safe_y = 110.0
params_input_shaper_type_x = 'mzv'
params_input_shaper_type_y = 'mzv'
params_input_shaper_freq_x = 46.6
params_input_shaper_freq_y = 34.2
params_input_shaper_freq_z = 59.6
params_input_shaper_damping_ratio_z = 0.057
params_input_shaper_damping_ratio_x = 0.072
params_input_shaper_damping_ratio_y = 0.083
resonance_chip = adxl345 T4

[adxl345 T4]
cs_pin = EBBT4: PB12
spi_software_sclk_pin = EBBT4: PB10
spi_software_mosi_pin = EBBT4: PB11
spi_software_miso_pin = EBBT4: PB2
axes_map = z,-y,x

[extruder4]
step_pin = EBBT4:PD0
dir_pin = EBBT4:PD1
enable_pin = !EBBT4:PD2
microsteps = 16
full_steps_per_rotation = 200
rotation_distance = 4.637
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = EBBT4: PB13
sensor_type = ATC Semitec 104NT-4-R025H42G
sensor_pin = EBBT4:PA3
min_temp = 0
max_temp = 305
max_power = 1.0
min_extrude_temp = 15
control = pid
pid_kp = 20.357
pid_ki = 1.957
pid_kd = 10.780
pressure_advance = 0.032
pressure_advance_smooth_time = 0.040
max_extrude_only_distance = 1000.0
max_extrude_only_velocity = 120.0
max_extrude_cross_section = 8

[tmc2209 extruder4]
uart_pin = EBBT4: PA15
interpolate = false
run_current = 0.65
sense_resistor = 0.110
stealthchop_threshold = 0

[fan_generic T4_partfan]
pin = EBBT4:PA1

[heater_fan T4_hotend_fan]
pin = EBBT4:PA0
heater = extruder4
max_power = 1.0
heater_temp = 50.0
kick_start_time = 0.5

[gcode_macro T4]
variable_active = 0
variable_color = ""
gcode = 
	SELECT_TOOL T=4

[mcu EBBT5]
canbus_uuid = 769414ba3604

[tool T5]
detection_pin = ^!EBBT5:PB3
params_has_filament_sensor = True
toolchanger = toolchanger
tool_number = 5
extruder = extruder5
fan = T5_partfan
gcode_x_offset = 0.547
gcode_y_offset = -1.163
gcode_z_offset = -0.280
params_type = 'sc'
params_park_x = 12.7
params_park_y = -6.5
params_park_z = 320.0
params_safe_y = 110
params_input_shaper_type_x = 'mzv'
params_input_shaper_type_y = 'mzv'
params_input_shaper_freq_x = 56.2
params_input_shaper_freq_y = 40.0
params_input_shaper_freq_z = 59.6
params_input_shaper_damping_ratio_z = 0.057
params_input_shaper_damping_ratio_x = 0.067
params_input_shaper_damping_ratio_y = 0.084
resonance_chip = adxl345 T5

[adxl345 T5]
cs_pin = EBBT5: PB12
spi_software_sclk_pin = EBBT5: PB10
spi_software_mosi_pin = EBBT5: PB11
spi_software_miso_pin = EBBT5: PB2
axes_map = z,-y,x

[extruder5]
step_pin = EBBT5:PD0
dir_pin = EBBT5:PD1
enable_pin = !EBBT5:PD2
microsteps = 16
full_steps_per_rotation = 200
rotation_distance = 51.75
gear_ratio = 11.25:1
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = EBBT5: PB13
sensor_type = ATC Semitec 104NT-4-R025H42G
sensor_pin = EBBT5:PA3
min_temp = -250
max_temp = 305
max_power = 1.0
min_extrude_temp = 20
control = pid
pid_kp = 22.357
pid_ki = 3.857
pid_kd = 15.780
pressure_advance = 0.032
pressure_advance_smooth_time = 0.040
max_extrude_only_distance = 3000.0
max_extrude_only_velocity = 120.0
max_extrude_cross_section = 8

[tmc2209 extruder5]
uart_pin = EBBT5: PA15
interpolate = false
run_current = 0.65
sense_resistor = 0.110
stealthchop_threshold = 0

[fan_generic T5_partfan]
pin = EBBT5:PA0

[heater_fan T5_hotend_fan]
pin = EBBT5:PA1
heater = extruder5
max_power = 1.0
heater_temp = 50.0
kick_start_time = 0.5

[gcode_macro T5]
variable_active = 0
variable_color = ""
gcode = 
	SELECT_TOOL T=5

[gcode_macro _TOOLCHANGER_VARS]
variable_fan_speed = 255
gcode = 

[gcode_macro PRINT_END]
gcode = 
	_TOOLCHANGER_PRINT_END_START {rawparams}
	
	M400
	CLEAR_PAUSE
	
	
	
	M82
	G90
	
	SET_GCODE_OFFSET X=0.0 Y=0.0 Z=0.0
	
	
	M140 S0
	
	_TOOLCHANGER_PRINT_END_END {rawparams}
	TURN_OFF_HEATERS
	M117 Print done

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = _BED_MESH_CALIBRATE
gcode = 
	{% set TARGET_TEMP = printer.heater_bed.target %}
	M140 S0
	_BED_MESH_CALIBRATE {rawparams}
	M140 S{TARGET_TEMP}

[gcode_macro CLEAR_PAUSE]
rename_existing = BASE_CLEAR_PAUSE
gcode = 
	_TOOLCHANGER_CLEAR_PAUSE
	BASE_CLEAR_PAUSE

[gcode_macro _TOOLCHANGER_HOMING_START]
gcode = 
	{% if printer["gcode_macro STATUS_HOMING"] is defined %}
	STATUS_HOMING
	{% endif %}
	{% if printer["gcode_macro _KNOMI_STATUS"] is defined %}
	SET_GCODE_VARIABLE MACRO=_KNOMI_STATUS VARIABLE=homing VALUE=True
	{% endif %}

[gcode_macro _TOOLCHANGER_HOMING_END]
gcode = 
	{% if printer["gcode_macro _KNOMI_STATUS"] is defined %}
	SET_GCODE_VARIABLE MACRO=_KNOMI_STATUS VARIABLE=homing VALUE=False
	{% endif %}
	{% if printer["gcode_macro STATUS_READY"] is defined %}
	STATUS_READY
	{% endif %}

[gcode_macro _TOOLCHANGER_CLEAR_PAUSE]
gcode = 
	SET_GCODE_VARIABLE MACRO=_TOOLCHANGER_CRASH_RESUME VARIABLE=active_tool VALUE=-1
	SET_GCODE_VARIABLE MACRO=_TOOLCHANGER_CRASH_RESUME VARIABLE=tool_temps VALUE=[]
	SET_GCODE_VARIABLE MACRO=_TOOLCHANGER_CRASH_PAUSE VARIABLE=crashed VALUE=0

[gcode_macro _TOOLCHANGER_CRASH_RESUME]
variable_active_tool = -1
variable_tool_temps = []
gcode = 
	{% if printer.pause_resume.is_paused and printer["gcode_macro _TOOLCHANGER_CRASH_PAUSE"].crashed > 0 %}
	M117 crashed... resuming
	INITIALIZE_TOOLCHANGER
	{% if printer.tool_probe_endstop.active_tool_number != active_tool %}
	T{active_tool}
	{% endif %}
	M117 sequential reheating
	{% for tool_nr in printer.toolchanger.tool_numbers %}
	M109 T{tool_nr} S{tool_temps[tool_nr]}
	{% endfor %}
	_TOOLCHANGER_CLEAR_PAUSE
	M117 resuming print
	{% else %}
	M117 not crashed
	{% endif %}

[gcode_macro _TOOLCHANGER_CRASH_PAUSE]
variable_crashed = 0
gcode = 
	{% if not printer.pause_resume.is_paused and crashed == 0 %}
	{% set temps = [] %}
	M117 crashed... pausing
	SET_GCODE_VARIABLE MACRO=_TOOLCHANGER_CRASH_PAUSE VARIABLE=crashed VALUE=1
	SET_GCODE_VARIABLE MACRO=_TOOLCHANGER_CRASH_RESUME VARIABLE=active_tool VALUE={printer.tool_probe_endstop.active_tool_number}
	{% for tool_nr in printer.toolchanger.tool_numbers %}
	{% set toolname = printer.toolchanger.tool_names[tool_nr] %}
	{% set extruder = printer[toolname].extruder %}
	{% set temp = printer[extruder].target|default(0.0)|float %}
	{% set temps = temps.append(temp) %}
	M104 T{tool_nr} S0
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_TOOLCHANGER_CRASH_RESUME VARIABLE=tool_temps VALUE='{temps}'
	M117 paused
	{% else %}
	M117 printer already paused
	{% endif %}

[gcode_macro _TOOLCHANGER_TOOL_BEFORE_CHANGE]
gcode = 
	{% set tn = params.TN|string %}
	{% set tool = printer['tool ' + tn] %}
	{% if printer["gcode_macro STATUS_BUSY"] is defined %}
	STATUS_BUSY T={tool.tool_number}
	{% endif %}
	
	
	
	
	_TOOL_BEFORE_CHANGE {rawparams}

[gcode_macro _TOOLCHANGER_TOOL_AFTER_CHANGE]
gcode = 
	{% set tn = params.TN|string %}
	{% set tool = printer['tool ' + tn] %}
	
	
	
	
	
	_TOOL_AFTER_CHANGE {rawparams}

[gcode_macro _TOOLCHANGER_TOOL_DROPOFF]
gcode = 
	{% set tn = params.TN|string %}
	{% set tool = printer['tool ' + tn] %}
	
	_TOOL_DROPOFF {rawparams}
	{% if printer["gcode_macro STATUS_READY"] is defined %}
	STATUS_READY T={tool.tool_number}
	{% endif %}

[gcode_macro _TOOLCHANGER_TOOL_PICKUP]
gcode = 
	{% set tn = params.TN|string %}
	{% set tool = printer['tool ' + tn] %}
	{% if printer["gcode_macro STATUS_HEATING"] is defined %}
	STATUS_HEATING T={tool.tool_number}
	{% endif %}
	
	_TOOL_PICKUP {rawparams}
	{% if printer["gcode_macro STATUS_PRINTING"] is defined %}
	STATUS_PRINTING T={tool.tool_number}
	{% endif %}

[gcode_macro _TOOLCHANGER_DISABLE_FILAMENT_SENSORS]
gcode = 
	{% set toolnames = printer.toolchanger.tool_names %}
	{% for toolname in toolnames %}
	
	{% endfor %}

[gcode_macro _TOOLCHANGER_PRINT_START_START]
description = Important toolchanger print_start start calls
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(65)|float %}
	_TOOLCHANGER_DISABLE_EXTRUDER_STEPPERS
	BED_MESH_CLEAR
	SELECT_TOOL T=0
	M140 S{BED_TEMP}
	WAIT_HEAT_SOAK

[gcode_macro _TOOLCHANGER_PRINT_START_END]
description = Important toolchanger print_start end calls
gcode = 
	
	
	START_TOOL_CRASH_DETECTION
	
	
	{% if params.BED_TYPE == "Cool Plate" %}
	SET_GCODE_OFFSET Z_ADJUST=0.00
	{% endif %}
	{% if params.BED_TYPE == "Engineering Plate" %}
	SET_GCODE_OFFSET Z_ADJUST=0.00
	{% endif %}
	{% if params.BED_TYPE == "High Temp Plate" %}
	SET_GCODE_OFFSET Z_ADJUST=0.00
	{% endif %}
	{% if params.BED_TYPE == "Textured PEI Plate" %}
	SET_GCODE_OFFSET Z_ADJUST=0.00
	{% endif %}
	
	{% if printer.toolhead.extruder != "extruder" %}
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET=0
	{% endif %}

[gcode_macro _TOOLCHANGER_PRINT_END_START]
description = Important toolchanger print_end start calls
gcode = 
	STOP_TOOL_CRASH_DETECTION

[gcode_macro _TOOLCHANGER_PRINT_END_END]
description = Important toolchanger print_end end calls
gcode = 
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float  - 10 %}
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set cur_z = printer.toolhead.position.z|float %}
	{% if (cur_z + 15) <= max_z %}
	{% set safe_z = cur_z + 15 %}
	{% else %}
	{% set safe_z = max_z %}
	{% endif %}
	G1 Z{cur_z +15} F3000
	
	
	
	
	RESET_AFC_MAPPING
	OAMSM_CLEAR_LANE_MAPPINGS
	
	{% set fps_names = ["fps1", "fps2"] %}
	{% if 'oams_manager' in printer %}
	{% for fps_name in fps_names %}
	{% set fps_key = 'fps ' ~ fps_name %}
	{% set fps = printer['oams_manager'][fps_key]|default(None) %}
	{% if fps is not none %}
	{% set loaded_lane = fps.current_lane %}
	{% if loaded_lane is not none %}
	TOOL_UNLOAD LANE={loaded_lane}
	{% endif %}
	{% endif %}
	{% endfor %}
	{% endif %}
	DROP_TOOL
	
	
	AFC_PARK
	BED_MESH_CLEAR
	
	SET_VELOCITY_LIMIT ACCEL=10000

[gcode_macro HEATSOAK]
description = "my heatsoak macro"
gcode = 
	M140 S{params.BED_TEMP}
	_MOVE_TO_CENTER Z=15
	
	
	{% for tn in printer.toolchanger.tool_numbers if 'T' ~ tn ~ '_TEMP' in params %}
	M109 T{tn} S130
	{% endfor %}

[delayed_gcode _HEAT_SOAK_UPDATE]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HEAT_SOAK_UPDATE DURATION=0
	{% if printer['gcode_macro PRINT_START'].state %}
	PRINT_START TICK_UPDATE=1
	{% endif %}

[gcode_macro PRINT_START]
variable_soak_settings = {
	'enabled':                 True,
	'min_temp_to_trigger':     46,
	'min_duration_to_trigger': 30,
	'soak_seconds_per_minute': 5,
	
	'skip_if_chamber_within' : 10,
	
	'soak_time': {      'min': 5,
	'max': 45,
	},
	
	}
variable_state = {}
gcode = 
	
	
	{% set BUTS      = {'play': ('[ â–¶ ]', 'success'), 'stop': ('[ â¹ ]', 'error')} %}
	{% set COLS      = ['accent--text text--darken-3', 'accent--text text--lighten-3'] %}
	
	{% set SELF      = 'PRINT_START' %}
	{% set SS        = soak_settings %}
	{% set th        = printer.toolhead %}
	{% set p_stats   = printer.print_stats %}
	{% set t_idled   = p_stats.total_duration  %}
	{% set t_now     = th.estimated_print_time %}
	{% set remaining = state.get('time_to_soak', 0.0) - t_idled %}
	
	{% set state = {} if 'TOOL' in params else state %}
	
	
	{%- macro ui(msg)  -%}          { action_respond_info('action:prompt_' ~ msg) }                  {%- endmacro -%}
	{%- macro add(msg) -%}          { ui(msg) } { ui('show') }                                       {%- endmacro -%}
	{%- macro center_but_val(label) -%}
	{ (('ï¼‹' ~ label if label > 0 else 'âˆ’' ~ label|string|replace('-', '')) ~ 'â€¯ð—†ð—‚ð—‡').center(7, 'â €') }
	{%- endmacro -%}
	{%- macro sign(val) -%}         { val / (val|abs) }                                              {%- endmacro -%}
	
	{%- macro clamp(val) -%}
	{ [ [ SS.soak_time.min * 60.0, val|float(0) ]|max, SS.soak_time.max * 60.0 ]|min }
	{%- endmacro -%}
	
	{%- macro format_time(sec) -%}
	{%- set ns = namespace(remain = sec|int(-1)) -%}
	{%- set units, parts = [ ('days', 86400), ('hours', 3600), ('minutes', 60), ('seconds', 1) ], [] -%}
	{%- for label, size in units -%}
	{% set val = ns.remain // size %}
	{%- if val or (size == 1 and not parts) -%}
	{%- set _ = parts.append(val ~ 'â€¯' ~ (label if val > 1 else label.rstrip('s'))) -%}
	{%- endif -%}
	{%- set ns.remain = ns.remain % size -%}
	{%- endfor -%}
	{%- if parts|length > 1 -%}
	{%- set last = parts.pop() -%}
	{ parts|join(' ') ~ ' and ' ~ last }
	{%- else -%}
	{ parts|first|default('-1s')}
	{%- endif -%}
	{%- endmacro -%}
	
	{%- macro get_duration_from_name(fname) -%}
	{%- set units   = {'d': 86400, 'h': 3600, 'm': 60, 's': 1} -%}
	{%- set ns      = namespace(best = none, fallback = none) -%}
	{%- set groups  = (fname.rstrip('.gcode')|replace('-', '_')|replace('.', '_')).split('_')|reverse -%}
	{%- for g in groups if ns.best is none and g and g[0].isdigit() -%}
	{%- set parts = (g|replace('d',' d ')|replace('h',' h ')|replace('m',' m ')|replace('s',' s ')|trim).split() -%}
	{%- set ok    = namespace(v = (parts|length is even)) -%}
	{%- if ok.v -%}
	{%- set pairs, seen = parts|batch(2), [] -%}
	{%- set tot   = namespace(sec = 0) -%}
	{%- for p in pairs -%}
	{%- set num, u = p[0], p[1] -%}
	{%- if not num.isdigit() or u not in units or u in seen -%}
	{%- set ok.v = False -%}
	{%- else -%}
	{%- set _        = seen.append(u) -%}
	{%- set tot.sec = tot.sec + (num|int * units[u]) -%}
	{%- endif -%}
	{%- endfor -%}
	{%- endif -%}
	{%- if ok.v -%}
	{%- if seen|length == 1 and 's' in seen and ns.fallback is none -%}
	{%- set ns.fallback = tot.sec -%}
	{%- else -%}
	{%- set ns.best = tot.sec -%}
	{%- endif -%}
	{%- endif -%}
	{%- endfor -%}
	{ ns.best if ns.best is not none else ns.fallback|default(-1) }
	{%- endmacro -%}
	
	{%- macro polygon_area(poly) -%}
	{%- set n  = poly|length -%}
	{%- set ns = namespace(acc=0) -%}
	{%- for point in poly -%}
	{%- set j        = (loop.index0 + 1) % n -%}
	{%- set x1, y1   = point[0],   point[1] -%}
	{%- set x2, y2   = poly[j][0], poly[j][1] -%}
	{%- set ns.acc   = ns.acc + (x1 * y2 - x2 * y1) -%}
	{%- endfor -%}
	{(ns.acc/2.0)|abs}
	{%- endmacro -%}
	
	{%- macro max_polygon_area(objs, areas = []) -%}
	{%- for p in objs|map(attribute='polygon') -%} {% set _ = areas.append(polygon_area(p)) %} {% endfor %}
	{areas|map('float')|list|max}
	{%- endmacro -%}
	
	{%- macro get_chamber_target() -%}
	{%- set chamber_target = params.get('CHAMBER_TEMP', state.get('params', {}).get('CHAMBER_TEMP', None)) -%}
	{- chamber_target if chamber_target is not none else '' -}
	{%- endmacro -%}
	
	{%- macro get_chamber_temp() -%}
	{%- set temp = [] -%}
	{%- for heater in printer.heaters.available_sensors  if (heater|lower).endswith('chamber') and not temp -%}
	{%- set _ = temp.append(printer[heater].temperature) -%}
	{%- endfor -%}
	{- temp[0] if temp|length else '' -}
	{%- endmacro -%}
	
	
	
	{%- macro _resume_and_print() -%}
	UPDATE_DELAYED_GCODE ID=_HEAT_SOAK_UPDATE DURATION=0
	M107
	RESTORE_GCODE_STATE NAME=PAUSE_STATE MOVE=0
	SAVE_GCODE_STATE NAME=PAUSE_STATE
	RESUME_BASE
	_PRINT_START {state.params|xmlattr}
	
	{% set _, state = state.pop('params', None), {} %}
	{%- endmacro -%}
	
	
	
	{%- macro _show_UI(soak_for) -%}
	{ ui('begin Heat Soak') }
	{ ui('text upcoming print duration: ' ~ format_time(state.get('print_duration', -1)))}
	{ ui('text heat soaking for: ' ~ format_time(soak_for))}
	{ ui('text largest part area in this print: ' ~ (max_polygon_area(printer.exclude_object.objects)|float / 100)|int ~ 'cmÂ²')}
	{ ui('button_group_start') }
	{% for step in [15, 10, 5, 1, -15, -10, -5, -1] %}
	{ ui('button ' ~ center_but_val(step) ~ '|' ~ SELF ~ ' ADJUST=' ~ step ~ '|' ~ COLS[-1 if step > 0 else 0]) }
	{% endfor %}
	{ ui('button_group_end') }
	{ ui('button_group_start') }
	{ ui('button ' ~ BUTS.stop[0] ~ ' Cancel|' ~ SELF ~ ' CANCEL=1|' ~ BUTS.stop[1]) }
	{ ui('button ' ~ BUTS.play[0] ~ ' Skip|'   ~ SELF ~ ' SKIP=1|'   ~ BUTS.play[1]) }
	{ add('button_group_end') }
	{%- endmacro -%}
	
	
	
	{%- macro _tick(seconds_left) -%}
	{%- set s = seconds_left|int -%}
	{%- if s <= 0 -%}
	{ ui('end') }
	{ _resume_and_print() }
	{%- else -%}
	{%- if s > 300 -%}
	{% set interval = 300 %}
	{%- elif s > 60 -%}
	{% set interval = 60 %}
	{%- elif s > 10 -%}
	{% if state and not state.get('reminded', False) %}
	{ _show_UI(seconds_left) }
	{% set _ = state.update( {'reminded': True} ) %}
	{% endif %}
	{% set interval = 10  %}
	{%- else -%}
	{% set interval = 5   %}
	{%- endif -%}
	UPDATE_DELAYED_GCODE ID=_HEAT_SOAK_UPDATE DURATION={interval}
	{ add('text ' ~ format_time(s) ~ ' remainingâ€¦') }
	{%- endif -%}
	{%- endmacro -%}
	
	
	
	{% if 'params' not in state %}
	{% set print_duration = get_duration_from_name(p_stats.filename)|int %}
	{% set time_to_soak   = clamp(SS.soak_seconds_per_minute * (print_duration / 60.0))|float %}
	
	{% set _ = state.update({ 'params': params, 'time_to_soak': time_to_soak, 'print_duration': print_duration }) %}
	PAUSE_BASE
	UPDATE_DELAYED_GCODE ID=_HEAT_SOAK_UPDATE DURATION=0.1
	{% endif %}
	
	{% if not state.get('initialized', False) and 'params' in state and not 'TOOL' in params %}
	{% set _ = state.update({ 'initialized': True }) %}
	{% set skip = state.get('print_duration', -1) < SS.min_duration_to_trigger %}
	{% set skip = soak_settings.min_temp_to_trigger > state.params.get('BED_TEMP', -1)|int(-1) or skip %}
	{% set skip = not soak_settings.enabled or skip %}
	{% if get_chamber_target() and get_chamber_temp() %}
	{% set skip = soak_settings.skip_if_chamber_within|abs > get_chamber_target()|float - get_chamber_temp()|float or skip %}
	{% endif %}
	{% if skip %}
	{ _resume_and_print() }
	{% else %}
	{ _show_UI(state.get('time_to_soak', -1)) }
	
	HEATSOAK {state.params|xmlattr}
	PART_AREA
	{% endif %}
	{% endif %}
	
	
	{% if 'ADJUST' in params %}
	{% set new_duration = clamp(state.get('time_to_soak', 0.0) + params.ADJUST|float(0.0) * 60.0)|float %}
	{% set _ = state.update( {'time_to_soak': new_duration, 'reminded': False} ) %}
	{ _show_UI(new_duration) }
	{ _tick(new_duration) }
	{% elif 'CANCEL' in params %}
	{% set state = {} %}
	{ ui('end') }
	UPDATE_DELAYED_GCODE ID=_HEAT_SOAK_UPDATE DURATION=0
	CANCEL_PRINT
	{% elif 'SKIP' in params %}
	{ ui('end') }
	{ _resume_and_print() }
	{% elif 'TICK_UPDATE' in params and 'params' in state %}
	
	{% if printer.pause_resume.is_paused %}
	{ _tick(remaining) }
	{% set _ = state.update( {'time_to_soak': remaining} ) %}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO={SELF} VARIABLE=state VALUE="{state}"

[gcode_macro PART_AREA]
description = "Calculate largest object area from exclude_object data"
variable_largest_area_mm2 = 0.0
variable_largest_area_cm2 = 0.0
gcode = 
	{% set objects = printer.exclude_object.objects|default([]) %}
	{% if objects %}
	{% set ns = namespace(max_area=0.0) %}
	{% for obj in objects %}
	{% set poly = obj.polygon|default([]) %}
	{% set n = poly|length %}
	{% if n >= 3 %}
	{% set acc = namespace(val=0.0) %}
	{% for point in poly %}
	{% set j = (loop.index0 + 1) % n %}
	{% set nxt = poly[j] %}
	{% set acc.val = acc.val + (point[0]|float * nxt[1]|float - nxt[0]|float * point[1]|float) %}
	{% endfor %}
	{% set area = (acc.val / 2.0)|abs %}
	{% if area > ns.max_area %}
	{% set ns.max_area = area %}
	{% endif %}
	{% endif %}
	{% endfor %}
	{% set area_mm2 = ns.max_area %}
	{% set area_cm2 = area_mm2 / 100.0 %}
	{% else %}
	{% set area_mm2 = 0.0 %}
	{% set area_cm2 = 0.0 %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=PART_AREA VARIABLE=largest_area_mm2 VALUE={area_mm2}
	SET_GCODE_VARIABLE MACRO=PART_AREA VARIABLE=largest_area_cm2 VALUE={area_cm2}
	{% if area_mm2 > 0.0 %}
	{% set area_cm2_str = "%.2f"|format(area_cm2) %}
	{% set area_mm2_str = "%.0f"|format(area_mm2) %}
	{% set msg = "Largest object area: " ~ area_cm2_str ~ " cm^2 (" ~ area_mm2_str ~ " mm^2)" %}
	RESPOND TYPE=command MSG="{msg}"
	{% else %}
	RESPOND TYPE=command MSG="Largest object area unavailable (no objects defined)."
	{% endif %}

[gcode_macro _PRINT_START]
gcode = 
	{% set TOOL_TEMP = params.TOOL_TEMP|default(147)|float %}
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	INITIALIZE_TOOLCHANGER
	STOP_TOOL_CRASH_DETECTION
	M190 S{ BED_TEMP }
	SET_GCODE_OFFSET Z=0
	M104 S147 T0
	G28
	G32
	SELECT_TOOL T=0
	G90
	AFC_BRUSH
	_MOVE_TO_CENTER
	CARTOGRAPHER_TOUCH_HOME
	BED_MESH_CALIBRATE ADAPTIVE=1
	M104 S0
	
	{% set requested = params.TOOL|default(0)|int %}
	{% if requested in [0, 1, 2, 3] %}
	SELECT_TOOL T={requested}
	{% elif requested in [4, 6, 7, 8] %}
	SELECT_TOOL T=4
	{% elif requested in [5, 9, 10, 11] %}
	SELECT_TOOL T=5
	{% else %}
	RESPOND TYPE=error MSG="AFC_SELECT_TOOL: Unsupported tool index {requested}"
	{% endif %}
	{% if 'TOOL' in params %}
	T{params.TOOL}
	{% else %}
	T{requested}
	{% endif %}
	M400
	M109 S{TOOL_TEMP}
	{% set LastSetTemp = 0 %}
	{% for tool_nr in printer.toolchanger.tool_numbers %}
	{% set tooltemp_param = 'T' ~ tool_nr|string ~ '_TEMP' %}
	{% if tooltemp_param in params %}
	M104 T{tool_nr} S{params[tooltemp_param]}
	{% set LastSetTemp = params[tooltemp_param] %}
	{% endif %}
	{% endfor %}
	M400
	PRIME_LINES INITIAL_TOOL={params.TOOL|default(0)|float}
	_TOOLCHANGER_PRINT_START_END

[gcode_macro AMS_START]
gcode = 
	OAMSM_FOLLOWER ENABLE=1 DIRECTION=1 FPS=fps1
	OAMSM_FOLLOWER ENABLE=1 DIRECTION=1 FPS=fps2

[gcode_macro AMS_STOP]
gcode = 
	OAMSM_FOLLOWER ENABLE=0 DIRECTION=1 FPS=fps1
	OAMSM_FOLLOWER ENABLE=0 DIRECTION=1 FPS=fps2

[gcode_macro LOAD_BED_MESH_PROFILE]
gcode = 
	{% if printer['heater_bed'].temperature <= 70 %}
	BED_MESH_PROFILE LOAD=default
	M117 Bed Mesh default loaded
	{% elif printer['heater_bed'].temperature >= 99 %}
	BED_MESH_PROFILE LOAD=ABS
	M117 Bed Mesh ABS loaded
	{% else %}
	BED_MESH_PROFILE LOAD=hightemp
	M117 Bed Mesh hightemp loaded
	{% endif %}

[gcode_macro CLEAN_NOZZLE]
gcode = 
	_TOOLCHANGER_CLEAN_NOZZLE

[gcode_macro G32]
gcode = 
	BED_MESH_CLEAR
	QUAD_GANTRY_LEVEL
	G28 Z

[gcode_macro PRINT_STATUS]
gcode = 
	{% set obj = params.OBJ %}
	RESPOND TYPE=echo MSG="Status for M190 {obj} is { printer[obj] }"

[gcode_macro UNSAFE_LOWER_TOOLHEAD]
description = Lower the bed 100mm without homing
gcode = 
	G90
	SET_KINEMATIC_POSITION Z=100
	G0 Z0 F6000
	M84

[gcode_macro UNSAFE_RAISE_TOOLHEAD]
description = Raise the bed 100mm without homing
gcode = 
	G90
	SET_KINEMATIC_POSITION Z=0
	G0 Z100 F6000
	M84

[gcode_macro LOAD_FILAMENT]
gcode = 
	OAMSM_CLEAR_ERRORS
	M117 Loading
	M109 S240
	G90
	AFC_POOP
	AFC_KICK
	AFC_BRUSH
	_MOVE_TO_CENTER
	M104 S0

[gcode_macro UNLOAD_FILAMENT]
gcode = 
	M117 Unloading
	M104 S240
	TEMPERATURE_WAIT SENSOR={printer.toolhead.extruder} MINIMUM=240
	M83
	G1 E5 F500
	G1 E-50 F1000
	G1 E-50 F1000
	M82
	M400
	TURN_OFF_HEATERS
	M117 Unloading done

[gcode_macro LOAD_ONE_FILAMENT]
gcode = 
	M117 Loading {params.TOOL}
	M109 T{params.TOOL} S240
	{% set start_extruder = printer.toolhead.extruder %}
	{% set tool_name = printer.toolchanger.tool_names[params.TOOL|int] %}
	{% set extruder = printer[tool_name].extruder %}
	M104 T{params.TOOL} S240
	TEMPERATURE_WAIT SENSOR={extruder} MINIMUM=240
	ACTIVATE_EXTRUDER EXTRUDER={extruder}
	M83
	G1 E50 F300
	G1 E50 F300
	G1 E-4 F1800
	M82
	M400
	M104 S0
	ACTIVATE_EXTRUDER EXTRUDER={start_extruder}
	M117 Loading done

[gcode_macro UNLOAD_ONE_FILAMENT]
gcode = 
	M117 Unloading {params.TOOL}
	M109 T{params.TOOL} S240
	{% set start_extruder = printer.toolhead.extruder %}
	{% set tool_name = printer.toolchanger.tool_names[params.TOOL|int] %}
	{% set extruder = printer[tool_name].extruder %}
	M104 T{params.TOOL} S240
	TEMPERATURE_WAIT SENSOR={extruder} MINIMUM=240
	ACTIVATE_EXTRUDER EXTRUDER={extruder}
	M83
	G1 E5 F500
	G1 E-50 F1000
	G1 E-50 F1000
	M82
	M400
	TURN_OFF_HEATERS
	ACTIVATE_EXTRUDER EXTRUDER={start_extruder}
	M117 Unloading done

[gcode_macro UNLOAD_ALL_FILAMENT]
gcode = 
	{% set start_extruder = printer.toolhead.extruder %}
	{% set tools = printer.toolchanger.tool_names %}
	M117 Unloading
	{% for tool in tools %}
	M104 T{printer[tool].tool_number} S240
	{% endfor %}
	{% for tool in tools %}
	M109 T{printer[tool].tool_number} S240
	ACTIVATE_EXTRUDER EXTRUDER={printer[tool].extruder}
	M83
	G1 E5 F500
	G1 E-50 F1000
	G1 E-50 F1000
	{% endfor %}
	M400
	M82
	TURN_OFF_HEATERS
	ACTIVATE_EXTRUDER EXTRUDER={start_extruder}
	M117 Unloading done

[gcode_macro CHANGE_NOZZLE]
gcode = 
	M117 Nozzle change
	M104 S240
	G90
	G1 X175 Y0 Z100 F1800
	M109 S240
	M83
	G1 E5 F250
	G1 E-50 F1000
	M82
	M117 Ready to swap

[gcode_macro DETECT_ACTIVE_TOOL_PROBE]
description = Report which tool the toolchanger has detected on the shuttle
gcode = 
	{% set detected = printer.toolchanger.detected_tool_number|int %}
	{% if detected >= 0 %}
	RESPOND MSG="Tool {detected} detected on shuttle"
	{% else %}
	RESPOND MSG="No tool detected on shuttle"
	{% endif %}

[gcode_macro _INITIALIZE_FROM_DETECTED_TOOL]
description = If a tool was detected, activate it as the current tool
gcode = 
	{% set detected = printer.toolchanger.detected_tool_number|int %}
	
	{% if detected >= 0 %}
	RESPOND MSG="Activating detected tool T{detected}"
	
	
	
	INITIALIZE_TOOLCHANGER T={detected}
	{% else %}
	RESPOND MSG="No tool detected - toolchanger remains uninitialized"
	{% endif %}

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	G28
	
	{% if printer.configfile.settings.quad_gantry_level %}
	{% if printer.quad_gantry_level.applied == False %}
	QUAD_GANTRY_LEVEL
	G28 Z
	{% endif %}
	{% endif %}
	
	G90
	G1 X{printer.toolhead.axis_maximum.x-50} Y{printer.toolhead.axis_maximum.y-50} F{30*60}
	G28 X Y
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	G0 X{x_min} Y{y_min} Z{bound + 10} F{speed*60}
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	G0 X{x_min} Y{y_min} F{speed*60}
	G0 X{x_min} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_max} F{speed*60}
	G0 X{x_max} Y{y_min} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} ACCEL_TO_DECEL={accel / 2}
	
	
	G28
	
	G90
	G0 X{printer.toolhead.axis_maximum.x-1} Y{printer.toolhead.axis_maximum.y-1} F{30*60}
	G4 P1000
	GET_POSITION
	
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED

[gcode_macro LOOKUP_OBJECT]
gcode = 
	{% set msg = [] %}
	{% set obj = printer.printer.lookup_object(params.OBJECT|default(None), default=None) %}
	{% if obj %}
	{% for name in obj.__dir__()|sort if not name.startswith('_') %}
	{% set attr = obj|attr(name) %}
	{% if attr is callable %}
	{% set _ = msg.append(name ~ " (callable)") %}
	{% else %}
	{% set _ = msg.append(name ~ " (attribute)") %}
	{% endif %}
	{% endfor %}
	RESPOND MSG="{msg|join('<br>')}"
	{% endif %}

[gcode_macro SEARCH]
description = Usage: SEARCH S=<term> [E=<exclude>]
variable_color_path = "rgb(128,128,128)"
variable_color_key = "rgb(0,150,255)"
variable_color_val = "rgb(255,200,50)"
variable_color_typ = "rgb(180,180,180)"
variable_color_match = "rgb(255,0,100)"
variable_color_category = "rgb(50,205,50)"
variable_color_box_bg = "rgb(20,20,20)"
variable_color_box_border = "rgb(40,40,40)"
variable_font_size = "0.9em"
variable_max_depth = 5
variable_search_sep = "Â°"
variable_long_limit = 100
gcode = 
	{%- set base_style = "style='font-size:" ~ font_size ~ "; margin-bottom:3px;'" -%}
	{%- set box_style = "style='font-size:" ~ font_size ~ "; background-color:" ~ color_box_bg ~ "; border:1px solid " ~ color_box_border ~ "; border-radius:4px; padding:5px; margin-top:2px;'" -%}
	{% set raw_search = params.S|default("") %}
	{% set sections = {'gcode_commands': [], 'user_macros': [], 'config_templates': [], 'config_settings': [], 'other': []} %}
	
	
	{%- macro _highlight_text(text, terms, color) -%}
	{%- set ns = namespace(output=text|string) -%}
	{%- for term in terms if term and term in ns.output|lower -%}
	{%- set idx = (ns.output|lower).find(term) -%}
	{%- set term_len = term|length -%}
	{%- if idx != -1 -%}
	{%- set ns.output = ns.output[:idx] ~ "<span style='color:" ~ color ~ "'>" ~ ns.output[idx:idx + term_len] ~ "</span>" ~ ns.output[idx + term_len:] -%}
	{%- endif -%}
	{%- endfor -%}
	{ ns.output }
	{%- endmacro -%}
	
	
	{%- macro _get_category(itm) -%}
	{%- set category = 'other' -%}
	{%- if itm.path.startswith(('gcode_macro', 'configfile.settings.gcode_macro')) -%}
	{%- set category = 'user_macros' -%}
	{%- elif itm.path.startswith('gcode.commands') -%}
	{%- set category = 'gcode_commands' -%}
	{%- elif (type_str == 'str' and ('{%' in itm.obj or '{' in itm.obj)) or itm.path.endswith('.gcode') -%}
	{% set category = 'config_templates' -%}
	{%- elif itm.path.startswith('configfile.settings') -%}
	{%- set category = 'config_settings' -%}
	{%- endif -%}
	{category}
	{%- endmacro -%}
	
	
	{%- macro _render_gcode(item) -%}
	{%- set h_path = _highlight_text(item.path, include_terms, color_match) -%}
	{%- set ns_format = namespace(lines=[], indent=0) -%}
	{%- for line in item.obj.split('\n') %}{%- set stripped = line|trim -%}{%- if stripped -%}
	{%- if '{% end' in stripped or '{% el' in stripped %}{% set ns_format.indent = [ns_format.indent - 1, 0]|max %}{% endif -%}
	{%- set _ = ns_format.lines.append('Â Â ' * ns_format.indent ~ line|e) -%}
	{%- if '{% if' in stripped or '{% for' in stripped or '{% el' in stripped %}{% set ns_format.indent = ns_format.indent + 1 %}{% endif -%}
	{%- endif -%}{% endfor -%}
	{%- set gcode = _highlight_text(ns_format.lines|join('<br>'), include_terms, color_match) -%}
	{%- set summary = "<summary>" ~ h_path ~ "</summary>" -%}
	{%- set details = "<div " ~ box_style ~ "><div style='white-space:pre; font-family:monospace; overflow-x:auto;'>" ~ gcode ~ "</div></div>" -%}
	{ "<details " ~ base_style ~ ">" ~ summary ~ details ~ "</details>" }
	{%- endmacro -%}
	
	
	{%- macro _render_long_string(item) -%}
	{%- set h_path = _highlight_text(item.path, include_terms, color_match) -%}
	{%- set safe_val = item.obj|string|e|replace('\r', '')|replace('\n', '<br>') -%}
	{%- set h_val = _highlight_text(safe_val, include_terms, color_match) -%}
	{%- set summary = "<summary>" ~ h_path ~ "</summary>" -%}
	{%- set details = "<div " ~ box_style ~ ">" ~ h_val ~ "</div>" -%}
	{ "<details " ~ base_style ~ ">" ~ summary ~ details ~ "</details>" }
	{%- endmacro -%}
	
	
	{%- macro _render_primitive(item) -%}
	{%- set h_path = _highlight_text(item.path, include_terms, color_match) -%}
	{%- set safe_val_str = item.obj|string|e|replace('\r', '')|replace('\n', '<br>') -%}
	{%- set val = _highlight_text(safe_val_str, include_terms, color_match) -%}
	{%- set h_type = _highlight_text("(" ~ item.obj.__class__.__name__ ~ ")", include_terms, color_typ) -%}
	{ "<div " ~ base_style ~ ">" ~ h_path ~ ": <span style='color:" ~ color_val ~ "'>" ~ val ~ "</span> <span style='color:"~color_typ~"'>" ~ h_type ~ "</span></div>" }
	{%- endmacro -%}
	
	
	{%- macro _render_mapping(item) -%}
	{%- set h_path = _highlight_text(item.path, include_terms, color_match) -%}
	{%- set children = [] -%}
	{%- if item.obj is mapping and item.obj.items is defined -%}
	{%- for key, value in item.obj.items() | sort(attribute=0) -%}
	{%- set safe_val = value|string|e|replace('\r','')|replace('\n','<br>') -%}
	{%- if value is mapping or (value is sequence and value is not string) -%}
	{%- set child_type = "(" ~ value.__class__.__name__ ~ ")" -%}
	{%- set _ = children.append("<div><span style='color:" ~ color_key ~ "'>" ~
	key ~ ":</span> <span style='color:" ~ color_typ ~ "'>" ~
	child_type ~ "</span></div>") -%}
	{%- else -%}
	{%- set h_val = _highlight_text(safe_val, include_terms, color_match) -%}
	{%- set _ = children.append("<div><span style='color:" ~ color_key ~ "'>" ~
	key ~ ":</span> <span style='color:" ~ color_val ~ "'>" ~
	h_val ~ "</span></div>") -%}
	{%- endif -%}
	{%- endfor -%}
	{%- else -%}
	{%- for key in item.obj.__dir__() | sort -%}
	{%- if not key.startswith('__') -%}
	{%- set value = item.obj | attr(key) -%}
	{%- if value is not callable and value is not none -%}
	{%- set safe_val = value|string|e|replace('\r','')|replace('\n','<br>') -%}
	{%- if value is mapping or (value is sequence and value is not string) -%}
	{%- set child_type = "(" ~ value.__class__.__name__ ~ ")" -%}
	{%- set _ = children.append("<div><span style='color:" ~ color_key ~ "'>" ~
	key ~ ":</span> <span style='color:" ~ color_typ ~ "'>" ~
	child_type ~ "</span></div>") -%}
	{%- else -%}
	{%- set h_val = _highlight_text(safe_val, include_terms, color_match) -%}
	{%- set _ = children.append("<div><span style='color:" ~ color_key ~ "'>" ~
	key ~ ":</span> <span style='color:" ~ color_val ~ "'>" ~
	h_val ~ "</span></div>") -%}
	{%- endif -%}
	{%- endif -%}
	{%- endif -%}
	{%- endfor -%}
	{%- endif -%}
	{%- set summary = "<summary>" ~ h_path ~
	" <span style='color:" ~ color_typ ~ "'>(" ~
	item.obj.__class__.__name__ ~ ")</span></summary>" -%}
	{%- set details = "<div " ~ box_style ~ ">" ~ (children|join) ~ "</div>" -%}
	{ "<details " ~ base_style ~ ">" ~ summary ~ details ~ "</details>" }
	{%- endmacro -%}
	
	
	{%- macro _render_result(item) -%}
	{%- set type_str = item.obj.__class__.__name__ -%}
	{%- if type_str == 'str' and ('{%' in item.obj or '{' in item.obj) -%}{ _render_gcode(item) }
	{%- elif item.obj is mapping -%}{ _render_mapping(item) }
	{%- elif type_str == 'str' and item.obj|length > long_limit|int -%}{ _render_long_string(item) }
	{%- else -%}{ _render_primitive(item) }{%- endif -%}
	{%- endmacro -%}
	
	
	{% if not raw_search %}
	{ action_respond_info("Usage: SEARCH_PRINTER S=<terms> [E=<exclude_terms>]") }
	{% else %}
	{% set include_terms = raw_search.lower().split(search_sep) %}
	{% set exclude_str = params.E|default("") %}
	{% set exclude_terms = (exclude_str|lower).split(search_sep) %}
	{% set depth_limit = params.MAX_DEPTH|default(max_depth)|int %}
	{% set ns = namespace(queue=[], results=[]) %}
	{% for k in printer %}{% set _ = ns.queue.append({'path': k, 'obj': printer[k], 'depth': 1}) %}{% endfor %}
	
	{ action_respond_info("Starting search for '" ~ raw_search|e ~ "'...") }
	{% for i in range(40000) if ns.queue %}
	{% set item = ns.queue.pop(0) %}
	{% set val_str = item.obj|string if not (item.obj is mapping) else "" %}
	{% set combined = (item.path ~ " " ~ val_str)|lower %}
	{% set keep = namespace(v=True) %}
	
	{% for term in include_terms if term and term not in combined %}{% set keep.v = False %}{% endfor %}
	{% for term in exclude_terms if term and term in combined %}    {% set keep.v = False %}{% endfor %}
	{% if 'configfile.config' in item.path %}{% set keep.v = False %}{% endif %}
	
	{% if keep.v %}
	{% set _ = ns.results.append({'path': item.path, 'html': _render_result(item), 'category': _get_category(item)}) %}
	
	{% elif item.depth < depth_limit %}
	{% if item.obj is mapping %}
	{% for k in item.obj %}{% set _ = ns.queue.append({'path': item.path ~ "." ~ k, 'obj': item.obj[k], 'depth': item.depth + 1}) %}{% endfor %}
	{% elif item.obj is sequence and item.obj is not string %}
	{% for i in range(item.obj|length) %}{% set _ = ns.queue.append({'path': item.path ~ "[" ~ i ~ "]", 'obj': item.obj[i], 'depth': item.depth + 1}) %}{% endfor %}
	{% endif %}
	{% endif %}
	{% endfor %}
	
	
	{% if not ns.results %}
	RESPOND MSG="No matches found for '{raw_search|e}'"
	{% else %}
	{% for item in ns.results|sort(attribute='path') %}
	{% set _ = sections[item.category].append(item.html) %}
	{% endfor %}
	
	{% set category_map = [
	('G-Code Commands / Help',  sections.gcode_commands),
	('User-Defined Macros',     sections.user_macros),
	('Config G-Code Templates', sections.config_templates),
	('Configuration Settings',  sections.config_settings),
	('Live State & Other',      sections.other)] %}
	
	{% set output = [] %}
	{% for name, items in category_map if items %}
	{% set summary = "<summary style='color:" ~ color_category ~ "; font-weight:bold;'>" ~ name ~ " (" ~ items|length ~ " matches)</summary>" %}
	{% set _ = output.append("<details>" ~ summary ~ (items|join) ~ "</details>") %}
	{% endfor %}
	RESPOND MSG="Found {ns.results|length} matches for '{raw_search|e}':{output|join}"
	{% endif %}
	{% endif %}

[gcode_macro MEGA_DUMP]
description = Up to N-level BFS. If container path matches, show (dict) and skip inside. [S=fooÂ°barÂ°stack] will return results containing foo, and bar, and stack.
variable_color_path = "rgb(128,128,128)"
variable_color_key = "rgb(0,150,255)"
variable_color_val = "rgb(255,200,50)"
variable_color_typ = "rgb(180,180,180)"
variable_color_match = "rgb(255,0,100)"
variable_long_limit = "120"
variable_max_depth = "5"
gcode = 
	{% set raw_s = params.S|default("")|string %}
	{% set search_lc = raw_s|lower %}
	{% set terms = search_lc.split("Â°") %}
	
	
	{% set nl = '<br>' %}
	
	{% set ns = namespace(lines=[], total=0, stack=[], done=False, doneAtLine="None", val="") %}
	
	{% for top_key in printer %}
	{% set item = [top_key|string, printer[top_key], 1] %}
	{% set ns.stack = ns.stack + [ item ] %}
	{% endfor %}
	
	{% for i in range(99999) %}
	{% if ns.stack|length == 0 %}
	{% set ns.done = 1 %}
	{% else %}
	{% set popped = ns.stack[ ns.stack|length -1 ] %}
	{% set ns.stack = ns.stack[:ns.stack|length -1] %}
	{% set cur_path = popped[0] %}
	{% set cur_obj  = popped[1] %}
	{% set depth    = popped[2] %}
	{% set typ_str  = cur_obj.__class__.__name__|string %}
	
	{% set val_str = "" %}
	{% if typ_str not in ["dict", "list", "tuple", "set"] %}
	{% set val_str = cur_obj|string %}
	{% endif %}
	
	{% set combined = cur_path|lower %}
	{% if val_str %}
	{% set combined = combined ~ " " ~ val_str|lower ~ typ_str|lower %}
	{% endif %}
	
	{% set match_ns = namespace(keep=true) %}
	{% for t in terms %}
	{% if t|length > 0 and not (t in combined) %}
	{% set match_ns.keep = false %}
	{% endif %}
	{% endfor %}
	
	{% if 'configfile.config' in cur_path|lower %}
	{% set match_ns.keep = false %}
	{% endif %}
	
	{% if match_ns.keep %}
	{% set ns.total = ns.total + 1 %}
	{% set ns.final_path = cur_path %}
	{% set ns.final_val  = val_str|replace('"', '&quot;')|replace("'", '&apos;')|replace("<", "&lt;")|replace(">", "&gt;") %}
	{% set ns.final_typ  = "(" ~ typ_str ~ ")" %}
	{% set segments = cur_path.split(".") %}
	{% set ns.final_key = segments[segments|length -1] %}
	
	
	
	{% set hover_path = cur_path|replace('"', '&quot;')|replace("'", '&apos;')|replace("<", "&lt;")|replace(">", "&gt;") %}
	{% set hover = "printer." ~ hover_path %}
	
	
	
	
	
	
	
	
	
	{% set mask = namespace(path = ns.final_path, key  = ns.final_key, val  = ns.final_val, typ  = ns.final_typ) %}
	
	{% for t in terms %}
	{% if t|length > 0 %}
	{% set term = t|lower %}
	
	{% set lower_path = mask.path|lower %}
	{% set lower_key  = mask.key|lower %}
	{% set lower_val  = mask.val|lower %}
	{% set lower_typ  = mask.typ|lower %}
	
	
	{% set idx = lower_path.find(term) %}
	{% if idx != -1 %}
	{% set orig = mask.path[idx:idx + term|length] %}
	{% set mask.path = mask.path[:idx] ~ "<span style='color:" ~ color_match ~ "'>" ~ orig ~ "</span>" ~ mask.path[idx + term|length:] %}
	{% endif %}
	
	{% set idx = lower_key.find(term) %}
	{% if idx != -1 %}
	{% set orig = mask.key[idx:idx + term|length] %}
	{% set mask.key = mask.key[:idx] ~ "<span style='color:" ~ color_match ~ "'>" ~ orig ~ "</span>" ~ mask.key[idx + term|length:] %}
	{% endif %}
	
	{% set idx = lower_val.find(term) %}
	{% if idx != -1 %}
	{% set orig = mask.val[idx:idx + term|length] %}
	{% set mask.val = mask.val[:idx]  ~ "<span style='color:" ~ color_match ~ "'>" ~ orig ~ "</span>"  ~ mask.val[idx + term|length:] %}
	{% endif %}
	
	{% set idx = lower_typ.find(term) %}
	{% if idx != -1 %}
	{% set orig = mask.typ[idx:idx + term|length] %}
	{% set mask.typ = mask.typ[:idx]  ~ "<span style='color:" ~ color_match ~ "'>" ~ orig ~ "</span>"  ~ mask.typ[idx + term|length:] %}
	{% endif %}
	{% endif %}
	{% endfor %}
	
	{% set ns.final_path = mask.path %}
	{% set ns.final_key  = mask.key  %}
	{% set ns.final_val  = mask.val  %}
	{% set ns.final_typ  = mask.typ  %}
	
	{% if typ_str in ["dict", "list", "tuple", "set"] and cur_obj|length > 0 %}
	{% set summary = "<summary><span style='color:" ~ color_path ~ "'>" ~ ns.final_path ~ "</span> {<span style='color:" ~ color_val ~ "'>(" ~ typ_str ~ ")</span>}</summary>" %}
	{% set children = [] %}
	{% set show_keys = cur_obj.keys()|list if typ_str == "dict" else range(cur_obj|length) %}
	{% for k in show_keys[:10] %}
	{% set val_type = cur_obj[k].__class__.__name__ %}
	{% if val_type not in ["dict", "list", "tuple", "set"] %}
	{% set val_str = cur_obj[k]|string %}
	{% if val_str|length > 50 %}
	{% set val_str = val_str[:47] ~ "..." %}
	{% endif %}
	{% set child_line = "<div style='margin-left:1em'><span style='color:" ~ color_key ~ "'>" ~ k|string ~ ":</span> <span style='color:" ~ color_val ~ "'>" ~ val_str|replace('"', '&quot;')|replace("'", '&apos;')|replace("<", "&lt;")|replace(">", "&gt;") ~ "</span> <span style='color:" ~ color_typ ~ "'>(" ~ val_type ~ ")</span></div>" %}
	{% set _ = children.append(child_line) %}
	{% endif %}
	{% endfor %}
	{% set html = "<span style='display:inline-block'><details title='" ~ hover ~ "'>" ~ summary ~ children|join() ~ "</details></span>" %}
	{% set ns.lines = ns.lines + [html] %}
	{% else %}
	
	
	
	
	
	{% set raw_lines = ns.final_val.split('\n') %}
	{% set ns_gcode = namespace(dent = 0, prev_empty = false, unclosed = false) %}
	{% set html_lines = [] %}
	
	{% for ln in raw_lines %}
	{% set t = ln|trim %}
	
	
	{% if '{% end' in t or '{% el' in t %}
	{% set ns_gcode.dent = [ns_gcode.dent - 1, 0]|max %}
	{% endif %}
	
	
	{% set pad = '&nbsp;&nbsp;' * ns_gcode.dent %}
	
	
	{% if t == '' %}
	{% if not ns_gcode.prev_empty %}
	{% set _ = html_lines.append(nl) %}
	{% set ns_gcode.prev_empty = true %}
	{% endif %}
	{% else %}
	{% set _ = html_lines.append(pad ~ t ~ nl) %}
	{% set ns_gcode.prev_empty = false %}
	{% endif %}
	
	
	{% if (t.endswith('{% endif %}') or t.endswith('{% endfor %}')) and (t != ('{% endif %}' or '{% endfor %}')) and not ns_gcode.prev_empty %}
	{% set _ = html_lines.append(nl) %}
	{% endif %}
	
	
	{% if '{% if' in t or '{% for' in t or '{% el' in t %}
	{% set ns_gcode.dent = ns_gcode.dent + 1 %}
	{% endif %}
	{% endfor %}
	
	
	{% set plain_full = html_lines|join('') %}
	
	
	
	
	
	
	{% if plain_full|length <= long_limit|int and '\n' not in plain_full %}
	
	{% set line = "<span title='" ~ hover ~ "'>" ~
	"<span style='color:" ~ color_path ~ "'>" ~ ns.final_path ~ "</span> {" ~
	"<span style='color:" ~ color_key  ~ "'>" ~ ns.final_key  ~ "</span>: " ~
	"<span style='color:" ~ color_val  ~ "'>" ~ plain_full|replace(nl, '') ~ "</span> " ~
	"<span style='color:" ~ color_typ  ~ "'>" ~ ns.final_typ   ~ "</span>}" ~
	"</span>" %}
	{% set ns.lines = ns.lines + [ line ] %}
	
	{% else %}
	
	
	
	{% set first_idx = plain_full.find(color_match) %}
	{% if first_idx == -1 %} {% set first_idx = 0 %} {% endif %}
	
	{% set preview_start = [first_idx - 35, 0]|max %}
	{% set preview_end = preview_start + 75|int %}
	{% set preview = plain_full[preview_start:preview_end] %}
	
	
	{% if preview_start > 0 %} {% set preview = "â€¦" ~ preview %} {% endif %}
	
	{% if preview_end < plain_full|length %} {% set preview = preview ~ "â€¦" %} {% endif %}
	
	
	{% set summary = "<summary><span style='color:" ~ color_path ~ "'>" ~ ns.final_path ~
	"</span> {" ~
	"<span style='color:" ~ color_key ~ "'>" ~ ns.final_key ~ "</span>: " ~
	"<span style='color:" ~ color_val ~ "'>" ~ preview|replace(nl, '') ~ "</span> " ~
	"<span style='color:" ~ color_typ ~ "'>" ~ ns.final_typ ~ "</span>}</summary>" %}
	
	
	{% set details = "<div style='margin-left:1em; white-space:pre; overflow-x:auto;'>" ~ plain_full ~ "</div>" %}
	{% set html = "<span style='display:inline-block'><details title='" ~ hover ~ "'>" ~ summary ~ details ~ "</details></span>" %}
	
	{% set ns.lines = ns.lines + [ html ] %}
	{% endif %}
	{% endif %}
	
	
	
	
	
	{% elif typ_str == "dict" and depth < max_depth|int %}
	{% for child_key in cur_obj %}
	{% set next = cur_path ~ "." ~ child_key|string %}
	{% set entry = [next, cur_obj[child_key], depth + 1] %}
	{% set ns.stack = ns.stack + [ entry ] %}
	{% endfor %}
	{% elif typ_str in ["list", "tuple", "set"] and depth < max_depth|int %}
	{% set idx = 0 %}
	{% for val in cur_obj %}
	{% set next = cur_path ~ "[" ~ idx|string ~ "]" %}
	{% set entry = [next, val, depth + 1] %}
	{% set ns.stack = ns.stack + [ entry ] %}
	{% set idx = idx + 1 %}
	{% endfor %}
	{% endif %}
	{% if ns.done|default(false) and ns.doneAtLine == "None" %}
	{% set ns.doneAtLine=loop.index|string %}
	RESPOND MSG="{loop.index|string}"
	{% endif %}
	{% endif %}
	{% endfor %}
	
	{% if ns.lines|length == 0 %}
	{% set safe = raw_s|replace("'", "&apos;") %}
	RESPOND MSG="No matches found for '{safe}'"
	{% else %}
	
	{% set cfg = [] %}
	{% set oth = [] %}
	{% for line in ns.lines %}
	{% if "<details title='printer.configfile.settings" in line or "<span title='printer.configfile.settings" in line %}
	{% set _ = cfg.append(line) %}
	{% else %}
	{% set _ = oth.append(line) %}
	{% endif %}
	{% endfor %}
	
	
	{% if oth %} {% set summary_oth = "<details><summary>others (" ~ oth|length|string ~ " matches)</summary>" ~ (oth|join(nl)) ~ "</details>" %} {% endif %}
	{% if cfg %} {% set summary_cfg = "<details><summary>config (" ~ cfg|length|string ~ " matches)</summary>" ~ (cfg|join(nl)) ~ "</details>" %} {% endif %}
	
	
	{% set msg = "Found " ~ ns.lines|length|string ~ " matches for " ~ raw_s|replace("'", "&apos;") ~ ":" ~ summary_oth|replace('\n', nl)|replace('\r','') ~ summary_cfg|replace('\n', nl)|replace('\r','') %}
	RESPOND MSG="{msg}"
	{% endif %}

[gcode_macro DUMP_VARIABLES]
description = Dump all values but can filter with NAME. e.g. DUMP_VARIABLES NAME=gcode_move. It can also filter by value VALUE
gcode = 
	{% set filter_name = params.NAME|default('')|string|lower %}
	{% set filter_value = params.VALUE|default('')|string|lower %}
	{% set show_cfg = params.SHOW_CFG|default(0)|int %}
	
	{% set out = [] %}
	
	{% for key1 in printer %}
	{% for key2 in printer[key1] %}
	{% if (show_cfg or not (key1|lower == 'configfile' and key2|lower in ['config', 'settings'])) and (filter_name in key1|lower or filter_name in key2|lower) and filter_value in printer[key1][key2]|string|lower %}
	{% set dummy = out.append("printer['%s'].%s = %s" % (key1, key2, printer[key1][key2])) %}
	{% endif %}
	{% else %}
	{% if filter_name in key1|lower and filter_value in printer[key1]|string|lower %}
	{% set dummy = out.append("printer['%s'] = %s" % (key1, printer[key1])) %}
	{% endif %}
	{% endfor %}
	{% endfor %}
	
	{action_respond_info(out|join("\n"))}

[gcode_macro GET_VARIABLE]
description = Dump the value of an object inside printer object. Use dot-notation, e.g. GET_VARIABLE NAME=gcode_move.gcode_position
gcode = 
	{% set names = (params.NAME).split('.')|list %}
	{% set join = (params.JOIN)|default(1)|int %}
	
	{% set _dummy0 = namespace( break = 0 ) %}
	{% set _dummy1 = namespace( out = printer[names|first] ) %}
	
	{% for name in names if _dummy0.break == 0 %}
	{% if loop.index > 1 %}
	{% if name in _dummy1.out %}
	{% set _dummy1.out = _dummy1.out[name] %}
	{% elif name[0] in '0123456789' and _dummy1.out is iterable and _dummy1.out is not string and _dummy1.out is not mapping and _dummy1.out|length > name[0]|int %}
	{% set _dummy1.out = _dummy1.out[name|int] %}
	{% else %}
	{% set _dummy0.break = loop.index0 %}
	{% endif %}
	{% endif %}
	{% endfor %}
	
	{% if _dummy1.out is boolean %}
	{ action_respond_info('Type: boolean') }
	{% elif _dummy1.out is float %}
	{ action_respond_info('Type: float') }
	{% elif _dummy1.out is integer %}
	{ action_respond_info('Type: integer') }
	{% elif _dummy1.out is mapping %}
	{ action_respond_info('Type: mapping') }
	{% elif _dummy1.out is string %}
	{ action_respond_info('Type: string') }
	{% elif _dummy1.out is iterable %}
	{ action_respond_info('Type: iterable') }
	{% elif _dummy1.out is none %}
	{ action_respond_info('Type: none') }
	{% elif _dummy1.out is undefined %}
	{ action_respond_info('Type: undefined') }
	{% elif _dummy1.out is callable %}
	{ action_respond_info('Type: callable') }
	{% else %}
	{ action_respond_info('Type: unknown') }
	{% endif %}
	
	{% if join and _dummy1.out is iterable and _dummy1.out is not string and _dummy1.out is not mapping %}
	{ action_respond_info('%s' % _dummy1.out|join("\n")) }
	{% else %}
	{ action_respond_info('%s' % _dummy1.out) }
	{% endif %}
	
	{% if _dummy0.break != 0 %}
	{ action_respond_info('"printer.%s" does not contain "%s"!' % (names[0:_dummy0.break]|join('.'), names[_dummy0.break])) }
	{% endif %}

[gcode_macro CARTO_OFFSET_RESULT]
gcode = 
	{% set new_offset_z = "%.3f"|format(printer.cartographer.touch.last_z_result|float * -1) %}
	RESPOND MSG="Carto offset: {new_offset_z}"

[mcu cartographer]
serial = /dev/serial/by-id/usb-Cartographer_614e_26002F000E43304146393320-if00
restart_method = command

[cartographer]
mcu = cartographer
x_offset = 0
y_offset = 50
travel_speed = 400
verbose = yes
z_backlash = 0.0

[cartographer scan]
probe_speed = 5
mesh_runs = 1
mesh_direction = x
mesh_height = 3
mesh_path = snake

[cartographer touch]
samples = 3
max_samples = 10
unsafe_max_touch_temperature = 152

[cartographer coil]
name = cartographer_coil
min_temp = 0
max_temp = 105
calibration = 2.742927925603073e-05,-2.6332609172240384,-0.006659492778558408,654.434916511463

[adxl345]
cs_pin = cartographer:PA3
spi_bus = spi1

[quad_gantry_level]
gantry_corners = 
	-60,-10
	410,420
points = 
	42,0
	42,240
	312,240
	312,0
speed = 500
horizontal_move_z = 2
retry_tolerance = 0.005
retries = 10
max_adjust = 10

[bed_mesh]
zero_reference_position = 175, 175
speed = 300
horizontal_move_z = 3
mesh_min = 16, 45
mesh_max = 330, 335
probe_count = 30, 30
adaptive_margin = 10
mesh_pps = 0,0

[temperature_sensor Cartographer]
sensor_type = temperature_mcu
sensor_mcu = cartographer
min_temp = 0
max_temp = 105

[homing_override]
axes = xyz
gcode = 
	
	{% set uses_tool_probe = printer["tool_probe_endstop"] is defined %}
	
	INITIALIZE_TOOLCHANGER
	
	{% if uses_tool_probe and printer.probe.last_query %}
	RESPOND TYPE=error MSG='Z Probe triggered, cannot home.'
	{% else %}
	SET_GCODE_OFFSET X=0.0 Y=0.0 Z=0.0
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set home_all = 'X' not in params and 'Y' not in params and 'Z' not in params %}
	
	{% set config = printer["gcode_macro homing_override_config"] %}
	
	
	G90
	{% if 'z' not in printer.toolhead.homed_axes %}
	SET_KINEMATIC_POSITION Z=0
	G0 Z10 F1000
	{% elif printer.toolhead.position[2]|float < 10 %}
	G0 Z10 F1000
	{% endif %}
	
	{% if home_all or 'Y' in params or 'X' in params %}
	{% if config.sensorless_y %}
	_SENSORLESS_HOME AXIS=Y
	{% else %}
	G28 Y
	{% endif %}
	G0 Y{ max_y - config.homing_rebound_y } F6000
	{% endif %}
	
	{% if home_all or 'X' in params %}
	{% if config.sensorless_x %}
	_SENSORLESS_HOME AXIS=X
	{% else %}
	G28 X
	{% endif %}
	G0 X{ max_x - 10} F6000
	{% endif %}
	
	{% if home_all or 'Z' in params %}
	{% set random_x = (range(-50, 50) | random) / 10 %}
	{% set random_y = (range(-50, 50) | random) / 10 %}
	
	G90
	G0 X{( max_x / 2 ) + random_x} Y{( max_y / 2 ) + random_y} F12000
	G28 Z
	
	{% if uses_tool_probe %}
	_ADJUST_Z_HOME_FOR_TOOL_OFFSET
	{% endif %}
	
	G0 Z10 F1000
	{% endif %}
	_APPLY_ACTIVE_TOOL_GCODE_OFFSETS
	M400
	{% endif %}

[gcode_macro DATA_SAMPLE]
gcode = 
	{% set bed_temp = params.BED_TEMP|default(90)|int %}
	{% set nozzle_temp = params.NOZZLE_TEMP|default(250)|int %}
	{% set min_temp = params.MIN_TEMP|default(40)|int %}
	{% set max_temp = params.MAX_TEMP|default(65)|int %}
	G90
	M106 S255
	RESPOND TYPE=command MSG='Waiting for Coil to cool to 40'
	M117 Waiting for Coil to cool to 40
	TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MAXIMUM={min_temp}
	RESPOND TYPE=command MSG='Starting Phase 1 of 4'
	M117 Starting Phase 1 of 4
	M106 S0
	G28
	G0 Z1
	M104 S{nozzle_temp}
	M140 S{bed_temp}
	G4 P1000
	TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MINIMUM={min_temp}
	CARTOGRAPHER_STREAM FILENAME=data1
	M117 Waiting for Coil to heat to 70
	RESPOND TYPE=command MSG='Waiting for Coil to heat to 70'
	TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MINIMUM={max_temp}
	CARTOGRAPHER_STREAM FILENAME=data1
	M104 S0
	M140 S0
	M106 S255
	G0 Z80
	RESPOND TYPE=command MSG='Waiting for Coil to cool to 40'
	M117 Waiting for Coil to cool to 40
	TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MAXIMUM={min_temp}
	M117 Starting Phase 2 of 4
	RESPOND TYPE=command MSG='Starting Phase 2 of 4'
	M106 S0
	G28 Z0
	G0 Z2
	M104 S{nozzle_temp}
	M140 S{bed_temp}
	G4 P1000
	CARTOGRAPHER_STREAM FILENAME=data2
	M117 Waiting for Coil to heat to 70
	RESPOND TYPE=command MSG='Waiting for Coil to heat to 70'
	TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MINIMUM={max_temp}
	CARTOGRAPHER_STREAM FILENAME=data2
	M104 S0
	M140 S0
	M106 S255
	G0 Z80
	RESPOND TYPE=command MSG='Waiting for Coil to cool to 40'
	M117 Waiting for Coil to cool to 40
	TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MAXIMUM={min_temp}
	M117 "Starting Phase 3 of 4"
	RESPOND TYPE=command MSG='Starting Phase 3 of 4'
	M106 S0
	G28 Z0
	G0 Z3
	M104 S{nozzle_temp}
	M140 S{bed_temp}
	G4 P1000
	CARTOGRAPHER_STREAM FILENAME=data3
	M117 Waiting for Coil to heat to 70
	RESPOND TYPE=command MSG='Waiting for Coil to heat to 70'
	TEMPERATURE_WAIT SENSOR='temperature_sensor cartographer_coil' MINIMUM={max_temp}
	CARTOGRAPHER_STREAM FILENAME=data3
	M104 S0
	M140 S0
	RESPOND TYPE=command MSG='Testing complete, please move files using: mv ~/klipper/data1 ~/klipper/data2 ~/klipper/data3 ~/cartographer-klipper/'
	M117 "Testing complete, please move files using: mv ~/klipper/data1 ~/klipper/data2 ~/klipper/data3 ~/cartographer-klipper/"
	RESPOND TYPE=command MSG='Follow the remaining instructions here: https://docs.cartographer3d.com/cartographer-probe/advanced-features/temperature-differential-calibration-beta'
	M117 "Follow the remaining instructions here: https://docs.cartographer3d.com/cartographer-probe/advanced-features/temperature-differential-calibration-beta"

[gcode_macro CARTOGRAPHER_TOUCH_WITH_TOOL_OFFSET]
gcode = 
	CARTOGRAPHER_TOUCH_HOME
	_ADJUST_Z_POSITION_WITH_TOOL_OFFSET

[gcode_macro _ADJUST_Z_POSITION_WITH_TOOL_OFFSET]
gcode = 
	{% set tool_name = printer.toolchanger.tool %}
	{% if tool_name %}
	{% set offset = printer[tool_name].gcode_z_offset %}
	SET_KINEMATIC_POSITION Z={printer.toolhead.position.z + offset}
	{% endif %}

[gcode_macro _SENSORLESS_HOME_X]
variable_home_current = 0.55
gcode = 
	
	{% set RUN_CURRENT_X = printer.configfile.settings['tmc5160 stepper_x'].run_current|float %}
	{% set RUN_CURRENT_Y = printer.configfile.settings['tmc5160 stepper_y'].run_current|float %}
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={printer["gcode_macro _SENSORLESS_HOME_X"].home_current}
	
	
	G28 X
	
	G91
	G1 X-60 F1200
	
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={RUN_CURRENT_X}

[gcode_macro _SENSORLESS_HOME_Y]
variable_home_current = 0.55
gcode = 
	
	{% set RUN_CURRENT_X = printer.configfile.settings['tmc5160 stepper_x'].run_current|float %}
	{% set RUN_CURRENT_Y = printer.configfile.settings['tmc5160 stepper_y'].run_current|float %}
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={printer["gcode_macro _SENSORLESS_HOME_Y"].home_current}
	
	
	G28 Y
	
	G91
	G1 Y-175 F1200
	
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={RUN_CURRENT_Y}

[gcode_macro _SENSORLESS_HOME]
gcode = 
	{% set axis = params.AXIS|default('X')|string %}
	{% set config = printer["gcode_macro homing_override_config"] %}
	
	
	{% set RUN_CURRENT_X = printer.configfile.settings[config.stepper_driver ~ ' stepper_x'].run_current|float %}
	{% set RUN_CURRENT_Y = printer.configfile.settings[config.stepper_driver ~ ' stepper_y'].run_current|float %}
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={config.homing_current}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={config.homing_current}
	{% if config.stepper_driver ~ ' stepper_x1' in printer.configfile.settings %}
	{% set RUN_CURRENT_X1 = printer.configfile.settings[config.stepper_driver ~ ' stepper_x1'].run_current|float %}
	SET_TMC_CURRENT STEPPER=stepper_x1 CURRENT=0.1
	{% endif %}
	{% if config.stepper_driver ~ ' stepper_y1' in printer.configfile.settings %}
	{% set RUN_CURRENT_Y1 = printer.configfile.settings[config.stepper_driver ~ ' stepper_y1'].run_current|float %}
	SET_TMC_CURRENT STEPPER=stepper_y1 CURRENT=0.1
	{% endif %}
	
	
	G28 {axis|upper}
	
	
	G4 P1000
	
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={RUN_CURRENT_X}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={RUN_CURRENT_Y}
	{% if config.stepper_driver ~ ' stepper_x1' in printer.configfile.settings %}
	SET_TMC_CURRENT STEPPER=stepper_x1 CURRENT={RUN_CURRENT_X1}
	{% endif %}
	{% if config.stepper_driver ~ ' stepper_y1' in printer.configfile.settings %}
	SET_TMC_CURRENT STEPPER=stepper_y1 CURRENT={RUN_CURRENT_Y1}
	{% endif %}

[gcode_macro _ADJUST_Z_HOME_FOR_TOOL_OFFSET]
gcode = 
	G90
	G0 Z10 F1000
	{% set tool = printer.toolchanger.tool %}
	{% if tool %}
	{% set tool_z_offset = printer[tool].gcode_z_offset %}
	{% set probe_z_offset = printer.tool_probe_endstop.active_tool_probe_z_offset %}
	SET_KINEMATIC_POSITION Z={10.0+tool_z_offset|float+probe_z_offset|float}
	{% endif %}

[gcode_macro _APPLY_ACTIVE_TOOL_GCODE_OFFSETS]
gcode = 
	{% set tool = printer.toolchanger.tool %}
	{% if tool %}
	SET_GCODE_OFFSET X={printer[tool].gcode_x_offset} Y={printer[tool].gcode_y_offset} Z={printer[tool].gcode_z_offset}
	{% endif %}

[gcode_macro TOOL_BED_MESH_CALIBRATE]
gcode = 
	{% set tool_z_offset = printer[printer.toolchanger.tool].gcode_z_offset %}
	G90
	G0 Z10 F1000
	
	SET_KINEMATIC_POSITION Z={10.0-tool_z_offset|float}
	BED_MESH_CALIBRATE
	G0 Z10 F1000
	SET_KINEMATIC_POSITION Z={10.0+tool_z_offset|float}

[gcode_macro _TAP_PROBE_ACTIVATE]
description = Ensure safe temp for bed probing
gcode = 
	{% set max_temp = 150 %}
	{% set actual_temp = printer[params.HEATER].temperature %}
	{% set target_temp = printer[params.HEATER].target %}
	{% if target_temp > max_temp %}
	{ action_respond_info('Extruder temperature target of %.1fC is too high, lowering to %.1fC' % (target_temp, max_temp)) }
	SET_HEATER_TEMPERATURE HEATER={params.HEATER} TARGET={ max_temp|int - 5 }
	{% endif %}
	
	{% if actual_temp > max_temp  + 2 %}
	{ action_respond_info('Extruder temperature %.1fC is still too high, waiting until below %.1fC' % (actual_temp, max_temp)) }
	TEMPERATURE_WAIT SENSOR={params.HEATER} MAXIMUM={ max_temp }
	{% endif %}

[gcode_macro M104]
rename_existing = M104.1
description = [T<index>] [S<temperature>]
	Set tool temperature.
	T= Tool number, optional. If this parameter is not provided, the current tool is used.
	S= Target temperature
gcode = 
	{% if params.T is defined %}
	{% set newparameters = "" %}
	{% set newparameters = newparameters ~ " T="~params.T %}
	{% if params.S is defined %}
	{% set newparameters = newparameters ~ " TARGET="~params.S %}
	{% endif %}
	SET_TOOL_TEMPERATURE{newparameters}
	{% else %}
	M104.1 {rawparams}
	{% endif %}

[gcode_macro M109]
rename_existing = M109.9999
description = [T<index>] [S<temperature>] [D<Deadband>]
	Set tool temperature and wait with deadband option.
	T= Tool number [optional]. If this parameter is not provided, the current tool is used.
	S= Target temperature
	D= Dead-band, allows the temperature variance +/- the deadband
gcode = 
	{% if params.T is defined %}
	{% set newparameters = " T="~params.T %}
	{% endif %}
	
	{% if params.S is defined %}
	{% set newparameters = newparameters~" S="~params.S %}
	{% endif %}
	
	{% if params.D is defined %}
	{% set newparameters = newparameters~" D="~params.D %}
	{% endif %}
	
	SET_TEMPERATURE_WITH_DEADBAND {newparameters}

[tool_crash]

[save_variables]
filename = ~/printer_data/config/variables.cfg

[input_shaper]

[print_stats]

[gcode_macro _CLIENT_VARIABLE]
variable_use_custom_pos = True
variable_custom_park_x = 175.0
variable_custom_park_y = 338.0
variable_custom_park_dz = 2.0
variable_retract = .5
variable_cancel_retract = .5
variable_speed_retract = 120.0
variable_unretract = .5
variable_speed_unretract = 120.0
variable_speed_hop = 50.0
variable_speed_move = 400.0
variable_park_at_cancel = True
variable_park_at_cancel_x = 175.0
variable_park_at_cancel_y = 338.0
variable_use_fw_retract = False
variable_idle_timeout = 0
gcode = 

[temperature_sensor Host_temp]
sensor_type = temperature_host
min_temp = 0
max_temp = 110

[thermistor my_thermistor]
temperature1 = 25
resistance1 = 100000
temperature2 = 50
resistance2 = 18085.4
temperature3 = 100
resistance3 = 5362.6

[heater_bed]
heater_pin = PF6
sensor_pin = PB0
sensor_type = my_thermistor
max_power = 0.65
min_temp = 5
max_temp = 115
control = pid
pid_kp = 66.065
pid_ki = 0.880
pid_kd = 1354.538

[stepper_x]
step_pin = PC13
dir_pin = !PC14
enable_pin = !PE6
microsteps = 64
rotation_distance = 40
endstop_pin = tmc5160_stepper_x: virtual_endstop
position_endstop = 353.8
position_max = 353.8
position_min = -10
homing_speed = 40
homing_retract_dist = 0
full_steps_per_rotation = 400
homing_positive_dir = True

[stepper_y]
step_pin = PE4
dir_pin = !PE5
enable_pin = !PE3
microsteps = 64
rotation_distance = 40
endstop_pin = tmc5160_stepper_y: virtual_endstop
position_endstop = 351
position_max = 351.0
homing_speed = 40
homing_retract_dist = 0
position_min = -11
full_steps_per_rotation = 400
homing_positive_dir = true

[stepper_z]
step_pin = PE1
dir_pin = PE0
enable_pin = !PE2
microsteps = 32
rotation_distance = 40
endstop_pin = probe:z_virtual_endstop
position_min = -15
position_max = 347
homing_speed = 20
homing_retract_dist = 0
gear_ratio = 80:12

[stepper_z1]
step_pin = PB5
dir_pin = !PB4
enable_pin = !PB6
rotation_distance = 40
gear_ratio = 80:12
microsteps = 32

[stepper_z2]
step_pin = PA10
dir_pin = PA9
enable_pin = !PA15
rotation_distance = 40
gear_ratio = 80:12
microsteps = 32

[stepper_z3]
step_pin = PA8
dir_pin = !PC7
enable_pin = !PC9
rotation_distance = 40
gear_ratio = 80:12
microsteps = 32

[servo clippy]
pin = PB14
maximum_servo_angle = 180
minimum_pulse_width = 0.0005
maximum_pulse_width = 0.002500
initial_angle = 120

[verify_heater heater_bed]
max_error = 120
check_gain_time = 40
hysteresis = 5
heating_gain = 2

[multi_pin my_fan]
pins = PA5, PA6

[temperature_fan controllerFan0]
pin = multi_pin:my_fan
sensor_type = temperature_mcu
sensor_mcu = mcu
control = watermark
min_temp = 10
max_temp = 70
target_temp = 43

[tmc5160 stepper_x]
sense_resistor = 0.075
diag1_pin = ^!PF0
run_current = 1.4
stealthchop_threshold = 0
spi_software_mosi_pin = PE14
spi_software_miso_pin = PE13
spi_software_sclk_pin = PE12
cs_pin = PG14
driver_sgt = 1
interpolate = true

[tmc5160 stepper_y]
sense_resistor = 0.075
cs_pin = PG13
diag1_pin = ^!PF2
run_current = 1.4
stealthchop_threshold = 0
spi_software_mosi_pin = PE14
spi_software_miso_pin = PE13
spi_software_sclk_pin = PE12
driver_sgt = 1
interpolate = true

[tmc5160 stepper_z]
sense_resistor = 0.075
cs_pin = PG12
diag1_pin = ^!PF4
run_current = 0.8
stealthchop_threshold = 0
spi_software_mosi_pin = PE14
spi_software_miso_pin = PE13
spi_software_sclk_pin = PE12
interpolate = true

[tmc5160 stepper_z1]
sense_resistor = 0.075
cs_pin = PG10
run_current = 0.8
stealthchop_threshold = 0
spi_software_mosi_pin = PE14
spi_software_miso_pin = PE13
spi_software_sclk_pin = PE12
interpolate = true

[tmc5160 stepper_z2]
sense_resistor = 0.075
cs_pin = PD6
run_current = 0.8
stealthchop_threshold = 0
spi_software_mosi_pin = PE14
spi_software_miso_pin = PE13
spi_software_sclk_pin = PE12
interpolate = true

[tmc5160 stepper_z3]
sense_resistor = 0.075
cs_pin = PG8
run_current = 0.8
stealthchop_threshold = 0
spi_software_mosi_pin = PE14
spi_software_miso_pin = PE13
spi_software_sclk_pin = PE12
interpolate = true

[board_pins]
aliases = 
	
	EXP1_1=PG2, EXP1_2=PD15,
	EXP1_3=PD14, EXP1_4=PD13,
	EXP1_5=PD12, EXP1_6=PD11,
	EXP1_7=PD10, EXP1_8=PE15,
	EXP1_9=<GND>, EXP1_10=<5V>,
	
	
	EXP2_1=PE13, EXP2_2=PE12,
	EXP2_3=PG5, EXP2_4=PE11,
	EXP2_5=PG4, EXP2_6=PE14,
	EXP2_7=PG3, EXP2_8=<RST>,
	EXP2_9=<GND>, EXP2_10=<NC>

[gcode_arcs]
resolution = 1.0

[led main_led]
white_pin = PA3
cycle_time = 0.010
hardware_pwm = False
initial_white = 1.0

[idle_timeout]
gcode = 
	{% if printer.pause_resume.is_paused %}
	M118 Idle timeout while paused, turning off hotend
	SET_HEATER_TEMPERATURE HEATER=extruder TARGET=0
	{% else %}
	M118 Idle timeout
	TURN_OFF_HEATERS
	M84
	{% endif %}
timeout = 300

[firmware_retraction]
retract_length = 2.0
retract_speed = 30
unretract_extra_length = 0
unretract_speed = 30

[exclude_object]

[AFC]
varfile = /home/pii/printer_data/config/AFC/AFC.var
long_moves_speed = 150
long_moves_accel = 250
short_moves_speed = 50
short_moves_accel = 300
short_move_dis = 10
enable_sensors_in_gui = True
default_material_temps = default: 235, PLA:210, PETG:235, ABS:235, ASA:235
common_density_values = PLA:1.24, PETG:1.23, ABS:1.04, ASA:1.07
default_material_type = PLA
temp_wait_tolerance = 10.0
load_to_hub = True
assisted_unload = True
unload_on_runout = False
print_short_stats = True
debug = False
auto_home = True
debounce_delay = 0.5
auto_level_macro = G32
z_hop = 5
resume_speed = 420
resume_z_speed = 40
error_timeout = 360
led_name = AFC_Indicator
led_fault = 1,0,0,0
led_ready = 0,0.8,0,0
led_not_ready = 1,0,0,0
led_loading = 1,1,1,0
led_tool_loaded = 0,0,1,0
led_buffer_advancing = 0,0,1,0
led_buffer_trailing = 0,1,0,0
led_buffer_disable = 0,0,0,0.25
led_spool_illuminate = 1,1,1,0
tool_cut = False
tool_cut_threshold = 10000
tool_cut_cmd = AFC_CUT
park = False
park_cmd = AFC_PARK
poop = True
poop_cmd = LOAD_NOZZLE
kick = False
kick_cmd = AFC_KICK
wipe = False
wipe_cmd = AFC_BRUSH
form_tip = True
form_tip_cmd = AFC

[AFC_prep]
enable = True

[delayed_gcode welcome]
initial_duration = 0.5
gcode = 
	PREP

[AFC_form_tip]
ramming_volume = 0
toolchange_temp = 0
unloading_speed_start = 40
unloading_speed = 15
cooling_tube_position = 35
cooling_tube_length = 10
initial_cooling_speed = 10
final_cooling_speed = 50
cooling_moves = 4
use_skinnydip = True
skinnydip_distance = 30
dip_insertion_speed = 30
dip_extraction_speed = 70
melt_zone_pause = 0
cooling_zone_pause = 0

[AFC_OpenAMS AMS_1]
oams = oams1
extruder = extruder4

[AFC_lane lane4]
unit = AMS_1:1
load_to_hub = False
led_index = AFC_Sndicator:2
hub = Hub_1
map = T4
custom_load_cmd = _TX1 LANE=lane4
custom_unload_cmd = SAFE_UNLOAD_FILAMENT1
extruder = extruder4

[AFC_lane lane6]
unit = AMS_1:2
load_to_hub = False
led_index = AFC_Sndicator:2
hub = Hub_2
map = T6
custom_load_cmd = _TX1 LANE=lane6
custom_unload_cmd = SAFE_UNLOAD_FILAMENT1
extruder = extruder4

[AFC_lane lane7]
unit = AMS_1:3
load_to_hub = False
led_index = AFC_Sndicator:2
hub = Hub_3
map = T7
custom_load_cmd = _TX1 LANE=lane7
custom_unload_cmd = SAFE_UNLOAD_FILAMENT1
extruder = extruder4

[AFC_lane lane8]
unit = AMS_1:4
load_to_hub = False
led_index = AFC_Sndicator:2
hub = Hub_4
map = T8
custom_load_cmd = _TX1 LANE=lane8
custom_unload_cmd = SAFE_UNLOAD_FILAMENT1
extruder = extruder4

[AFC_hub Hub_1]
afc_bowden_length = 2031.0
move_dis = 50
cut = False

[AFC_hub Hub_2]
afc_bowden_length = 2021.0
move_dis = 50
cut = False

[AFC_hub Hub_3]
afc_bowden_length = 2046.0
move_dis = 50
cut = False

[AFC_hub Hub_4]
afc_bowden_length = 2041.0
move_dis = 50
cut = False

[gcode_button T5_unload_button]
pin = ^!EBBT5:PB5
debounce_delay = 0.02
press_gcode = 
release_gcode = 
	{% if printer.print_stats.state != "printing" %}
	
	
	SAFE_UNLOAD_FILAMENT2
	{% endif %}

[AFC_OpenAMS AMS_2]
oams = oams2
extruder = extruder5

[AFC_lane lane5]
unit = AMS_2:1
hub = Hub_5
led_index = AFC_Tndicator:2
map = T5
custom_load_cmd = _TX2 LANE=lane5
custom_unload_cmd = SAFE_UNLOAD_FILAMENT2
extruder = extruder5

[AFC_lane lane9]
unit = AMS_2:2
load_to_hub = False
led_index = AFC_Tndicator:2
hub = Hub_6
map = T9
custom_load_cmd = _TX2 LANE=lane9
custom_unload_cmd = SAFE_UNLOAD_FILAMENT2
extruder = extruder5

[AFC_lane lane10]
unit = AMS_2:3
load_to_hub = False
led_index = AFC_Tndicator:2
hub = Hub_7
map = T10
custom_load_cmd = _TX2 LANE=lane10
custom_unload_cmd = SAFE_UNLOAD_FILAMENT2
extruder = extruder5

[AFC_lane lane11]
unit = AMS_2:4
load_to_hub = False
led_index = AFC_Tndicator:2
hub = Hub_8
map = T11
custom_load_cmd = _TX2 LANE=lane11
custom_unload_cmd = SAFE_UNLOAD_FILAMENT2
extruder = extruder5

[AFC_hub Hub_5]
afc_bowden_length = 2028.0
move_dis = 50
cut = False

[AFC_hub Hub_6]
afc_bowden_length = 2037.0
move_dis = 50
cut = False

[AFC_hub Hub_7]
afc_bowden_length = 2041.0
move_dis = 50
cut = False

[AFC_hub Hub_8]
afc_bowden_length = 2027.0
move_dis = 50
cut = False

[gcode_macro BED_MESH_TOUCH]
description = Bed mesh with touch using cartographer offsets
gcode = 
	{% set cfg = printer.configfile.config %}
	{% set bm = cfg["bed_mesh"] %}
	{% set cm = cfg["cartographer"] %}
	
	{% set mesh_min = bm["mesh_min"].split(",") | map('float') | list %}
	{% set mesh_max = bm["mesh_max"].split(",") | map('float') | list %}
	{% set min_x = mesh_min[0] %}
	{% set min_y = mesh_min[1] %}
	{% set max_x = mesh_max[0] %}
	{% set max_y = mesh_max[1] %}
	
	{% set x_offset = cm["x_offset"]|float if "x_offset" in cm else 0.0 %}
	{% set y_offset = cm["y_offset"]|float if "y_offset" in cm else 0.0 %}
	
	{% set adj_min_x = min_x + (x_offset if x_offset < 0 else 0.0) %}
	{% set adj_max_x = max_x - (x_offset if x_offset > 0 else 0.0) %}
	{% set adj_min_y = min_y + (y_offset if y_offset < 0 else 0.0) %}
	{% set adj_max_y = max_y - (y_offset if y_offset > 0 else 0.0) %}
	
	BED_MESH_CLEAR
	BED_MESH_CALIBRATE METHOD=touch MESH_MIN={adj_min_x},{adj_min_y} MESH_MAX={adj_max_x},{adj_max_y}

[gcode_macro Drop_Tool]
gcode = 
	STOP_TOOL_CRASH_DETECTION
	AFC_UNSELECT_TOOL

[gcode_macro CARTO_CALIBRATE_TOOL_Z]
description = Macro to calibrate Z offsets for all tools using the cartographer touch probe.
gcode = 
	{% if printer.toolhead.homed_axes != 'xyz' %}
	RESPOND TYPE=command MSG="Please home the printer before running this macro."
	{% else %}
	RESPOND TYPE=command MSG="Select tool 0 for touch home"
	SELECT_TOOL T=0
	RESPOND TYPE=command MSG="Heating tool to 147C"
	M109 S147
	
	RESPOND TYPE=command MSG="Calibrating Z offsets for all tools"
	_CARTO_CALIBRATE_TOOL_OFFSET
	{% endif %}

[gcode_macro _CARTO_CALIBRATE_TOOL_OFFSET]
gcode = 
	{% set tools = printer.toolchanger.tool_numbers %}
	SET_GCODE_VARIABLE MACRO=_CARTO_CALIBRATE_TOOL_EVALUATE VARIABLE=z_results VALUE="[]"
	RESPOND TYPE=command MSG="Calibrating Z offsets for tools"
	
	{% for tool in tools %}
	RESPOND TYPE=command MSG="Starting calibration for tool {tool}"
	M104 T{tool} S147
	SELECT_TOOL T={tool}
	M109 S147
	AFC_BRUSH
	_MOVE_TO_CENTER
	CARTOGRAPHER_TOUCH_HOME
	M104 S0
	SET_GCODE_VARIABLE MACRO=_CARTO_CALIBRATE_TOOL_OFFSET_SAVE VARIABLE=cur_tool VALUE={tool}
	_CARTO_CALIBRATE_TOOL_OFFSET_SAVE
	{% endfor %}
	
	_CARTO_CALIBRATE_TOOL_EVALUATE

[gcode_macro _CARTO_CALIBRATE_TOOL_OFFSET_SAVE]
variable_cur_tool = 0
gcode = 
	{% set z_result = printer.cartographer.touch.last_z_result %}
	{% if z_result is not none %}
	{% set adjusted_value = (z_result)|round(4) %}
	{% set result_line = "T" ~ cur_tool|string ~ " gcode_z_offset: " ~ adjusted_value|string %}
	{% set existing = printer["gcode_macro _CARTO_CALIBRATE_TOOL_EVALUATE"].z_results %}
	{% set updated = existing + [result_line] %}
	SET_GCODE_VARIABLE MACRO=_CARTO_CALIBRATE_TOOL_EVALUATE VARIABLE=z_results VALUE="{updated}"
	{% else %}
	RESPOND TYPE=command MSG="Touch failed for tool {cur_tool}"
	{% endif %}

[gcode_macro _CARTO_CALIBRATE_TOOL_EVALUATE]
variable_z_results = []
gcode = 
	RESPOND TYPE=command MSG="Z-offsets from Carto using an offset of 0 from absolute zero"
	{% for line in z_results %}
	RESPOND TYPE=command MSG="{line}"
	G4 P1500
	{% endfor %}

[gcode_shell_command reset_scanner]
command = bash -c 'XDG_RUNTIME_DIR=/run/user/$(id -u) systemctl --user restart usb-qr-scanner'
timeout = 5.
verbose = True

[gcode_macro RESET_SCANNER]
gcode = 
	RUN_SHELL_COMMAND CMD=reset_scanner

[delayed_gcode Scanner_Reset]
initial_duration = 1
gcode = 
	RESET_SCANNER

[gcode_macro _MOVE_TO_CENTER]
gcode = 
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% if "xyz" not in printer.toolhead.homed_axes %}
	G28
	{% endif %}
	G90
	G0 X{max_x//2} Y{max_y//2} F12000

[delayed_gcode init_filament_leds]
initial_duration = 1.0
gcode = 
	
	{% set t4_loaded = False %}
	{% if 'AFC_extruder extruder4' in printer %}
	{% if printer['AFC_extruder extruder4'].lane_loaded %}
	{% set t4_loaded = True %}
	{% endif %}
	{% endif %}
	
	
	{% set t5_loaded = False %}
	{% if 'AFC_extruder extruder5' in printer %}
	{% if printer['AFC_extruder extruder5'].lane_loaded %}
	{% set t5_loaded = True %}
	{% endif %}
	{% endif %}
	
	
	{% if t4_loaded %}
	SET_LED LED=AFC_Sndicator INDEX=1 RED=0 GREEN=1 BLUE=0
	{% else %}
	SET_LED LED=AFC_Sndicator INDEX=1 RED=1 GREEN=0 BLUE=0
	{% endif %}
	
	
	{% if t5_loaded %}
	SET_LED LED=AFC_Tndicator INDEX=1 RED=0 GREEN=1 BLUE=0
	{% else %}
	SET_LED LED=AFC_Tndicator INDEX=1 RED=1 GREEN=0 BLUE=0
	{% endif %}SET_LED LED=AFC_Sndicator INDEX=1 RED=0 GREEN=1 BLUE=0

[axiscope]
pin = PB15
zswitch_x_pos = 329.3
zswitch_y_pos = -9.0
zswitch_z_pos = 3.8
lift_z = 2
move_speed = 60
z_move_speed = 10
start_gcode = M118 Starting calibration G28 -> QGL -> G28Z
	G28
	QUAD_GANTRY_LEVEL
	G28 Z
	G0 X175 Y175 Z30 F3000
before_pickup_gcode = M118 Something Could be Done here
after_pickup_gcode = M118 NozzleScrub
	M109 S150
	
	AFC_BRUSH
	G0 X175 Y175 Z30
finish_gcode = M118 Calibration complete
	T0

[gcode_macro AFC_PARK]
gcode = 
	{% set gVars          = printer['gcode_macro _AFC_GLOBAL_VARS'] %}
	{% set travel_speed   = gVars['travel_speed']     | default(120)*60   | float %}
	{% set verbose        = gVars['verbose']          | default(1)        | int %}
	{% set z_travel_speed = gVars['z_travel_speed']   | default(30)*60    | float %}
	{% set vars           = printer['gcode_macro _AFC_PARK_VARS'] %}
	{% set Px, Py         = vars.park_loc_xy          | default([-1,-1])  | map('float') %}
	{% set Px             = params.X                  | default(Px)       | float %}
	{% set Py             = params.Y                  | default(Py)       | float %}
	
	{% set z_hop          = vars['z_hop']             | default(0)        | float %}
	{% set z_hop          = params.Z_HOP              | default(z_hop)    | float %}
	
	{% set park_z         = vars['park_z']            | default(0.0)      | float %}
	
	{% set max_z          = printer.toolhead.axis_maximum.z - printer.gcode_move.homing_origin.z |float %}
	{% set cur_z          = printer.toolhead.position.z|float %}
	
	{% set z_safe = cur_z + z_hop %}
	{% if z_safe > max_z %}
	{% set z_safe = max_z %}
	{% endif %}
	
	{% if verbose > 0 %}
	RESPOND TYPE=command MSG='AFC_Park: Park Toolhead'
	{% endif %}
	
	G90
	
	AFC_DISABLE_SKEW
	
	G1 Z{z_safe} F{z_travel_speed}
	G1 X{Px} Y{Py} F{travel_speed}
	
	AFC_ENABLE_SKEW
	
	
	{% if park_z > 0 and park_z < z_safe %}
	G1 Z{park_z} F{z_travel_speed}
	{% endif %}

[gcode_macro LOAD_NOZZLE]
gcode = 
	{% set lane = printer['AFC'].current_load %}
	
	{% if lane in ['lane0', 'lane1', 'lane2', 'lane3'] %}
	AFC_POOP
	AFC_KICK
	
	{% else %}
	{% set msg = "Lane loaded from AMS " ~ lane %}
	M117 {msg}
	RESPOND PREFIX=AFC MSG="{msg}"
	{% endif %}

[gcode_macro PURGE_NOZZLE]
gcode = 
	{% set TOOL_NUM = params.TOOL|default("4")|string %}
	{% set purge_amount = printer["gcode_macro _oams_purge_settings"].purge_amount|int %}
	{% set purge_speed = printer["gcode_macro _oams_purge_settings"].purge_speed|int %}
	M83
	G1 E{purge_amount} F{purge_speed}
	G1 E-8 F{purge_speed}
	M106 S255 T{TOOL_NUM}
	G4 P4500

[gcode_macro AFC_MAP_RESET]
gcode = 
	RESET_AFC_MAPPING

[gcode_macro SHOW_LATEST_SHAPER_PLOT]
description = Find latest shaper CSV (X/Y), render plot(s), and post clickable previews
variable_settings = {
	'max_px':    400,
	'python':    '',
	'script':    '~/klipper/scripts/calibrate_shaper.py',
	'save_path': '~/printer_data/config/toolchanger/ShaperManagement/shaper_img',
	'prefix':    'shaper_plot_',
	'axis':      'XY'
	
	}
gcode = 
	{% for p in params if p|lower in settings %}
	{% set _ = settings.update({p|lower: params[p]|int(params[p])}) %}
	{% endfor %}
	
	{% set gbl     = printer.printer.__class__.__init__.__globals__ %}
	{% set imp_mod = gbl.importlib.import_module %}
	{% set sp      = imp_mod('subprocess') %}
	{% set bi      = imp_mod('builtins') %}
	{% set os      = imp_mod('os') %}
	{% set glob    = imp_mod('glob') %}
	{% set time    = imp_mod('time') %}
	{% set b64     = imp_mod('base64') %}
	{% set sys     = imp_mod('sys') %}
	
	{% set expand = os.path.expanduser %}
	{% set py_cfg = settings.python %}
	{% set py     = expand(py_cfg) if py_cfg else '' %}
	{% set script = expand(settings.script) %}
	{% if not py or not os.path.exists(py) %}
	{% set py = sys.executable if os.path.exists(sys.executable) else '/usr/bin/python3' %}
	{% endif %}
	
	{%- macro newest_csv_for_axis(ax) -%}
	{%- set pats = {
	'X': ['/tmp/resonances_x_*.csv','/tmp/shaper*_x_*.csv','/tmp/calibration_data_x_*.csv'],
	'Y': ['/tmp/resonances_y_*.csv','/tmp/shaper*_y_*.csv','/tmp/calibration_data_y_*.csv']
	} -%}
	{%- set files = [] -%}
	{%- for pat in pats[ax] -%}
	{%- for f in glob.glob(pat) -%}
	{%- set _ = files.append(f) -%}
	{%- endfor -%}
	{%- endfor -%}
	{ bi.max(files, key=os.path.getmtime) if files|length > 0 else '' }
	{%- endmacro -%}
	
	{%- macro plot_tmp_path(ax) -%}
	{%- set csv = newest_csv_for_axis(ax) -%}
	{%- if csv -%}
	{%- set ts  = time.strftime('%Y-%m-%d_%H-%M-%S') -%}
	{%- set out = '/tmp/shaper_plot_' ~ ax ~ '_' ~ ts ~ '.png' -%}
	{%- set cmd = [py, script, csv, '-o', out] -%}
	{%- set res = sp.run(cmd, stdout=sp.PIPE, stderr=sp.PIPE) -%}
	{%- set rc  = res.returncode|int -%}
	{ out if rc == 0 and os.path.exists(out) else '' }
	{%- endif -%}
	{%- endmacro -%}
	
	{%- macro save_plot(tmp_path, ax, save_dir, prefix) -%}
	{%- if tmp_path and save_dir -%}
	{%- set sdir     = os.path.expanduser(save_dir) -%}
	{%- set _        = os.makedirs(sdir, 511, True) if not os.path.exists(sdir) -%}
	{%- set ts       = time.strftime('%Y-%m-%d_%H-%M') -%}
	{%- set base     = prefix ~ '_' ~ ax ~ '_' ~ ts ~ '.png' -%}
	{%- set dst      = os.path.join(sdir, base) -%}
	{%- set buf      = bi.open(tmp_path, 'rb').read() -%}
	{%- set b_write  = bi.open(dst, 'wb').write(buf) -%}
	{ dst }
	{%- endif -%}
	{%- endmacro -%}
	
	{%- macro send_plot(tmp_path, title, max_px) -%}
	{%- if not tmp_path -%}
	{ '<div style="font-family:monospace">No plot rendered.</div>' }
	{%- else -%}
	{%- set data = bi.open(tmp_path, 'rb').read() -%}
	{%- set enc  = b64.b64encode(data) -%}
	{%- set uri  = 'data:image/png;base64,' ~ enc.decode('ascii') -%}
	{ img_click_open(uri, max_px, title) }
	{%- endif -%}
	{%- endmacro -%}
	
	{%- macro axis_block(ax) -%}
	{%- set tmp = plot_tmp_path(ax) -%}
	{%- if not tmp -%}
	{ 'No ' ~ ax ~ '-axis CSV found in /tmp or render failed.' }
	{%- else -%}
	{%- set saved = save_plot(tmp, ax, settings.save_path, settings.prefix) -%}
	{%- set html  = send_plot(tmp, ax ~ '-axis shaper plot', settings.max_px) -%}
	{%- if saved -%}
	{ html ~ '<div style="font-family:monospace;font-size:11px;opacity:0.85;margin-top:4px">Saved: ' ~ saved ~ '</div>' }
	{%- else -%}
	{ html }
	{%- endif -%}
	{%- endif -%}
	{%- endmacro -%}
	
	{%- macro img_click_open(src, max_px=400, title='Click to open full-size') -%}
	{%- set js %}{% raw %}
	(function(img){
	try{
	var box = img.closest('.svg_click_open'); if (!box){ img.remove(); return; }
	if (box.dataset && box.dataset.bound){ img.remove(); return; }
	box.dataset.bound = '1';
	var theme = box.closest('.theme--dark') || document.body;
	function copyAllCustomProps(fromEl,toEl){
	try{
	var cs = getComputedStyle(fromEl);
	for (var i=0;i<cs.length;i++){
	var name = cs[i];
	if (name && name.indexOf('--')===0){
	var v = cs.getPropertyValue(name);
	if (v){ toEl.style.setProperty(name, v.trim()); }
	}
	}
	}catch(e){}
	}
	box.addEventListener('click', function(){
	try{
	var pic = box.querySelector('img[data-main]'); if (!pic) return;
	var natW = pic.naturalWidth || pic.width || 1000;
	var natH = pic.naturalHeight || pic.height || 1000;
	var s = document.createElementNS('http://www.w3.org/2000/svg','svg');
	s.setAttribute('viewBox','0 0 '+natW+' '+natH);
	s.setAttribute('preserveAspectRatio','xMidYMid meet');
	s.setAttribute('style','display:block;width:100%;height:100%');
	var im = document.createElementNS('http://www.w3.org/2000/svg','image');
	im.setAttributeNS('http://www.w3.org/1999/xlink','href', pic.src);
	im.setAttribute('x','0'); im.setAttribute('y','0');
	im.setAttribute('width',String(natW)); im.setAttribute('height',String(natH));
	s.appendChild(im);
	var panel = document.createElement('div');
	panel.setAttribute('style','position:absolute;left:0;top:0;display:flex;align-items:center;justify-content:center;transform-origin:0 0;cursor:auto;');
	copyAllCustomProps(theme, panel);
	panel.appendChild(s);
	var ov = document.createElement('div');
	ov.setAttribute('style','position:fixed;left:0;top:0;right:0;bottom:0;background:transparent;overflow:hidden;z-index:99999;cursor:zoom-out;');
	copyAllCustomProps(theme, ov);
	function fitScale(){var w=window.innerWidth,h=window.innerHeight;var k=Math.min(w*0.95/natW,h*0.95/natH);if(!(k>0))k=1;return k;}
	var k=fitScale(); var tx=Math.floor((window.innerWidth-natW*k)/2); var ty=Math.floor((window.innerHeight-natH*k)/2);
	function apply(){panel.style.transform='translate('+tx+'px,'+ty+'px) scale('+k+')'; panel.style.width=natW+'px'; panel.style.height=natH+'px';}
	apply();
	var dragging=false,lastX=0,lastY=0;
	panel.addEventListener('mousedown',function(ev){try{if(ev.button===0){dragging=true;lastX=ev.clientX;lastY=ev.clientY;panel.style.cursor='grabbing';ev.preventDefault();}}catch(e){}});
	window.addEventListener('mouseup',function(){try{if(dragging){dragging=false;panel.style.cursor='auto';}}catch(e){}});
	window.addEventListener('mousemove',function(ev){try{if(!dragging)return;var dx=ev.clientX-lastX,dy=ev.clientY-lastY;lastX=ev.clientX;lastY=ev.clientY;tx+=dx;ty+=dy;apply();}catch(e){}});
	s.addEventListener('wheel',function(ev){try{ev.preventDefault();var rect=panel.getBoundingClientRect();var mx=ev.clientX,my=ev.clientY;var u=(mx-rect.left)/k;var v=(my-rect.top)/k;var step=ev.ctrlKey?0.15:0.08;var factor=ev.deltaY>0?(1+step):(1-step);if(!(factor>0))factor=1;var k2=Math.max(k*factor,0.01);var tx2=Math.round(mx-u*k2);var ty2=Math.round(my-v*k2);k=k2;tx=tx2;ty=ty2;apply();}catch(e){}},{passive:false});
	function onResize(){try{var mx=window.innerWidth/2,my=window.innerHeight/2;var rect=panel.getBoundingClientRect();var u=(mx-rect.left)/k;var v=(my-rect.top)/k;var k2=fitScale();var tx2=Math.round(mx-u*k2);var ty2=Math.round(my-v*k2);k=k2;tx=tx2;ty=ty2;apply();}catch(e){}}
	function onKey(e){ if(e&&e.key==='Escape') close(); }
	function close(){window.removeEventListener('resize',onResize);document.removeEventListener('keydown',onKey);if(ov.parentNode)ov.parentNode.removeChild(ov);}
	ov.addEventListener('click',function(){ close(); });
	panel.addEventListener('click',function(e){ e.stopPropagation(); });
	window.addEventListener('resize',onResize);
	document.addEventListener('keydown',onKey);
	ov.appendChild(panel);
	theme.appendChild(ov);
	}catch(e){}});
	}catch(e){} finally{ img.remove(); }
	})(this)
	{% endraw %}{%- endset -%}
	{-
	'<div class="svg_click_open" title="' ~ title ~ '" ' ~
	'style="max-inline-size:' ~ max_px ~ 'px; max-block-size:' ~ max_px ~ 'px; inline-size:100%; background:transparent; cursor:zoom-in;">' ~
	'<div class="img_box" style="inline-size:100%; aspect-ratio:1/1; display:flex; align-items:center; justify-content:center; background:var(--p-background-darker);">' ~
	'<img data-main src="' ~ src ~ '" alt="shaper plot" ' ~
	'style="display:block; inline-size:100%; block-size:100%; object-fit:contain;" ' ~
	'onload="(function(img){try{var box=img.closest(\'.img_box\'); if(!box) return; var w=img.naturalWidth||img.width||0; var h=img.naturalHeight||img.height||0; if(w>0&&h>0){ box.style.aspectRatio = w+\' / \'+h; }}catch(e){}})(this)">' ~
	'</div>' ~
	'<img src=x style="display:none" onerror="' ~ js|replace('\n','') ~ '">' ~
	'</div>'
	-}
	{%- endmacro -%}
	
	{% set axes = (settings.axis|string).strip()|upper %}
	
	{% set parts = [
	'<div style="margin-block:0.4em"><b>Latest shaper plots (' ~ axes ~ ')</b></div>',
	'<div style="display:grid;grid-template-columns:1fr;gap:12px">'
	] %}
	{% for axis in axes %}
	{% set _ = parts.append('<div>' ~ axis_block(axis) ~ '</div>') %}
	{% endfor %}
	{% set _ = parts.append('</div>') %}
	
	{ action_respond_info(parts|join|replace('\n','')) }

[AFC_Toolchanger Tools]

[AFC_extruder extruder]
pin_tool_start = EBBT0:PB3
tool_stn = 92
tool_stn_unload = 110
tool_sensor_after_extruder = 0
tool_unload_speed = 25
tool_load_speed = 25
deadband = 10
tool = tool T0
toolchanger_unit = Tools

[AFC_extruder extruder1]
pin_tool_start = EBBT1:PB3
tool_stn = 92
tool_stn_unload = 110
tool_sensor_after_extruder = 0
tool_unload_speed = 25
tool_load_speed = 25
deadband = 10
tool = tool T1
toolchanger_unit = Tools

[AFC_extruder extruder2]
pin_tool_start = EBBT2:PB3
tool_stn = 92
tool_stn_unload = 110
tool_sensor_after_extruder = 0
tool_unload_speed = 25
tool_load_speed = 25
deadband = 10
tool = tool T2
toolchanger_unit = Tools

[AFC_extruder extruder3]
pin_tool_start = EBBT3:PB3
tool_stn = 92
tool_stn_unload = 110
tool_sensor_after_extruder = 0
tool_unload_speed = 25
tool_load_speed = 25
deadband = 10
tool = tool T3
toolchanger_unit = Tools

[AFC_extruder extruder4]
pin_tool_start = AMS_extruder4
tool_stn = 55
tool_stn_unload = 45
tool_sensor_after_extruder = 0
tool_unload_speed = 25
tool_load_speed = 25
deadband = 10
tool = tool T4
toolchanger_unit = Tools

[AFC_extruder extruder5]
pin_tool_start = AMS_extruder5
tool_stn = 55
tool_stn_unload = 45
tool_sensor_after_extruder = 0
tool_unload_speed = 25
tool_load_speed = 25
deadband = 10
tool = tool T5
toolchanger_unit = Tools
led_name = AFC_led AFC_Tndicator
status_led_idx = 1

[AFC_M109_deadband]
enabled = 1

[gcode_macro BT_TOOL_UNLOAD]
description = Unloads the currently loaded lane
gcode = 
	TOOL_UNLOAD

[gcode_macro BT_CHANGE_TOOL]
description = Switch to a new lane by ejecting the previously loaded one and then load the lane specified by LANE parameter. Lane parameter is an integer and defaults to 1. ex. `BT_CHANGE_TOOL LANE=2`
gcode = 
	{% set lane_num = params.LANE|default(1)|int %}
	{% set stepper = printer['gcode_macro _AFC_GLOBAL_VARS'].stepper_name|string %}
	
	CHANGE_TOOL LANE={stepper ~ lane_num}

[gcode_macro BT_LANE_EJECT]
description = Fully eject the filament from the lane so spool can be removed. Lane parameter is an integer and defaults to 1. ex. `BT_LANE_EJECT LANE=2`
gcode = 
	{% set lane_num = params.LANE|default(1)|int %}
	{% set stepper = printer['gcode_macro _AFC_GLOBAL_VARS'].stepper_name|string %}
	
	LANE_UNLOAD LANE={stepper ~ lane_num}

[gcode_macro BT_LANE_MOVE]
description = Move the specified lane the specified amount. Lane parameter is an integer and defaults to 1. Distance parameter is and integer and defaults to 20. Distance over 200 uses long load speeds. ex `BT_LANE_MOVE LANE=2 DISTANCE=100`
gcode = 
	{% set lane_num = params.LANE|default(1)|int %}
	{% set dist_str = params.DISTANCE|default('20')|string %}
	{% set stepper = printer['gcode_macro _AFC_GLOBAL_VARS'].stepper_name|string %}
	
	{% set valid_chars = '0123456789' %}
	{% set is_valid = true %}
	
	{% if dist_str|length > 0 %}
	{% if dist_str[-1] not in valid_chars %}
	{% set is_valid = false %}
	{% endif %}
	{% else %}
	{% set is_valid = false %}
	{% endif %}
	
	{% if is_valid %}
	{% set dist = dist_str|float %}
	LANE_MOVE LANE={stepper ~ lane_num} DISTANCE={dist}
	{% else %}
	{ action_respond_info("Error: Invalid DISTANCE parameter: " ~ dist_str) }
	{% endif %}

[gcode_macro BT_RESUME]
description = Resume the print after an error, using normal resume will also call AFC_RESUME
gcode = 
	{% if not printer.pause_resume.is_paused %}
	RESPOND MSG="Print is not paused. Resume ignored"
	{% else %}
	AFC_RESUME
	{% endif %}

[gcode_macro BT_PREP]
description = Run the AFC PREP sequence
gcode = 
	PREP

[gcode_macro AFC_DISABLE_SKEW]
gcode = 
	{% set gVars = printer['gcode_macro _AFC_GLOBAL_VARS'] %}
	{% set verbose = gVars['verbose']|int %}
	{% set disable_skew = gVars['disable_skew_correction']|default(false)|lower == 'true' %}
	
	
	{% if disable_skew %}
	SET_GCODE_VARIABLE MACRO=AFC_ENABLE_SKEW VARIABLE=skew_profile VALUE='"{printer.skew_correction.current_profile_name}"'
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC: Disabling skew correction'
	{% endif %}
	SET_SKEW CLEAR=1
	{% if verbose > 1 %}
	GET_CURRENT_SKEW
	{% endif %}
	{% endif %}

[gcode_macro AFC_ENABLE_SKEW]
variable_skew_profile = "my_skew_profile"
gcode = 
	{% set gVars = printer['gcode_macro _AFC_GLOBAL_VARS'] %}
	{% set verbose = gVars['verbose']|int %}
	{% set disable_skew = gVars['disable_skew_correction']|default(false)|lower == 'true' %}
	
	
	{% if disable_skew %}
	{% if verbose > 1 %}
	{ action_respond_info("AFC: Restoring skew correction profile " ~ skew_profile) }
	{% endif %}
	SKEW_PROFILE LOAD={skew_profile}
	{% if verbose > 1 %}
	GET_CURRENT_SKEW
	{% endif %}
	{% endif %}

[gcode_macro AFC_BRUSH]
description = Wipe the nozzle on the brush
gcode = 
	{% set gVars             = printer['gcode_macro _AFC_GLOBAL_VARS'] %}
	{% set accel             = gVars['accel']           | default(2000)  | float %}
	{% set travel_speed      = gVars['travel_speed']    | default(120)*60| float %}
	{% set z_travel_speed    = gVars['z_travel_speed']  | default(30)*60 | float %}
	{% set verbose           = gVars['verbose']         | default(1)     | int %}
	{% set vars              = printer['gcode_macro _AFC_BRUSH_VARS'] %}
	{% set Bx, By, Bz        = vars.brush_loc           | default([-1,-1,-1])| map('float') %}
	{% set brush_clean_accel = vars['brush_clean_accel']| default(0)         | float %}
	{% set y_brush           = vars['y_brush']          | default(false)     | lower == 'true' %}
	{% set brush_clean_speed = vars['brush_clean_speed']| default(150)*60    | float %}
	{% set brush_width       = vars['brush_width']      | default(30)        | float %}
	{% set brush_depth       = vars['brush_depth']      | default(10)        | float %}
	{% set brush_count       = vars['brush_count']      | default(4)         | int %}
	{% set z_move            = vars['z_move']           | default(-1)        | float %}
	{% set tool_servo_enable = vars['tool_servo_enable']|default(false)      | lower == 'true' %}
	
	
	
	{% if printer.dual_carriage is defined %}
	{% if printer.dual_carriage.carriage_0 == "INACTIVE" %}
	
	{% set x_max = printer.configfile.config.dual_carriage.position_max|float|round(3) %}
	{% set x_min = printer.configfile.config.dual_carriage.position_min|float|round(3) %}
	{% else %}
	
	{% set x_max = printer.toolhead.axis_maximum.x %}
	{% set x_min = printer.toolhead.axis_minimum.x %}
	{% endif %}
	{% else %}
	
	{% set x_max = printer.toolhead.axis_maximum.x %}
	{% set x_min = printer.toolhead.axis_minimum.x %}
	{% endif %}
	{% set y_max = printer.toolhead.axis_maximum.y %}
	{% set y_min = printer.toolhead.axis_minimum.y %}
	
	
	{% set brush_x_max = Bx + brush_width / 2 %}
	{% set brush_x_min = Bx - brush_width / 2 %}
	{% set brush_y_max = By + brush_depth / 2 %}
	{% set brush_y_min = By - brush_depth / 2 %}
	
	
	{% set saved_accel = printer.toolhead.max_accel %}
	
	
	{% if brush_clean_accel > 0 %}
	{% set selected_accel = brush_clean_accel %}
	{% else %}
	{% set selected_accel = accel %}
	{% endif %}
	
	AFC_DISABLE_SKEW
	
	SET_VELOCITY_LIMIT ACCEL={selected_accel}
	
	
	{% if tool_servo_enable %}
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='Brush Servo Extended'
	{% endif %}
	
	_BRUSH_SERVO POS=out
	{% endif %}
	
	{% if verbose > 0 %}
	RESPOND TYPE=command MSG='AFC_Brush: Clean Nozzle'
	{% endif %}
	
	
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Brush: Move to Brush.'
	{% endif %}
	
	G90
	
	G1 X{Bx} Y{By} F{travel_speed}
	
	{% if Bz >= 0 %}
	G1 Z{Bz} F{z_travel_speed}
	{% endif %}
	
	
	{% if y_brush %}
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Brush: Y Brush Moves'
	{% endif %}
	{% for wipe in range(brush_count) %}
	
	{% if brush_y_min >= y_min %}
	G1 Y{brush_y_min} F{brush_clean_speed}
	{% endif %}
	
	{% if brush_y_max <= y_max %}
	G1 Y{brush_y_max} F{brush_clean_speed}
	{% endif %}
	
	G1 Y{By} F{brush_clean_speed}
	
	{% endfor %}
	{% endif %}
	
	
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Brush: X Brush Moves'
	{% endif %}
	{% for wipe in range(brush_count) %}
	{% if brush_x_min >= x_min %}
	G1 X{brush_x_min} F{brush_clean_speed}
	{% endif %}
	
	{% if brush_x_max <= x_max %}
	G1 X{brush_x_max} F{brush_clean_speed}
	{% endif %}
	
	G1 X{Bx} F{brush_clean_speed}
	
	{% endfor %}
	
	{% if z_move >= 0 %}
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Brush: Finish z_move.'
	{% endif %}
	G91
	G1 Z{z_move} F{z_travel_speed}
	G90
	{% endif %}
	
	G90
	
	
	{% if tool_servo_enable %}
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='Brush Servo Retracted'
	{% endif %}
	
	_BRUSH_SERVO POS=in
	{% endif %}
	
	
	SET_VELOCITY_LIMIT ACCEL={saved_accel}
	
	AFC_ENABLE_SKEW

[gcode_macro _BRUSH_SERVO]
variable_dwell_time = 200
gcode = 
	{% set c1 = printer['gcode_macro _AFC_BRUSH_VARS'] %}
	{% set pos = params.POS %}
	{% if pos == "in" %}
	SET_SERVO SERVO={c1.tool_servo_name} ANGLE={c1.tool_servo_angle_in}
	G4 P{dwell_time}
	{% elif pos == "out" %}
	SET_SERVO SERVO={c1.tool_servo_name} ANGLE={c1.tool_servo_angle_out}
	G4 P{dwell_time}
	{% else %}
	{action_respond_info("Brush Servo: provide POS=[in|out]")}
	{% endif %}
	SET_SERVO SERVO={c1.tool_servo_name} WIDTH=0

[gcode_macro AFC_CUT]
description = Cut filament by pressing the cutter on a pin
gcode = 
	{% set gVars                = printer['gcode_macro _AFC_GLOBAL_VARS'] %}
	{% set accel                = gVars['accel']                |default(2000)  | float %}
	{% set travel_speed         = gVars['travel_speed']         |default(120)*60| float %}
	{% set verbose              = gVars['verbose']              |default(1)     | int %}
	{% set vars                 = printer['gcode_macro _AFC_CUT_TIP_VARS'] %}
	{% set pin_loc_x, pin_loc_y = vars.pin_loc_xy               |default([-1, -1])| map('float') %}
	{% set pin_park_dist        = vars['pin_park_dist']         |default(6.0)   | float %}
	{% set retract_length       = vars['retract_length']        |default(8.5)   | float %}
	{% set quick_tip_forming    = vars['quick_tip_forming']     |default(true)  | lower == 'true' %}
	{% set rip_length           = vars['rip_length']            |default(1.0)   | float %}
	{% set cut_direction        = vars['cut_direction']         |default('')    | lower %}
	{% set cut_accel            = vars['cut_accel']             |default(0)     | float %}
	{% set pushback_length      = vars['pushback_length']       |default(15)    | float %}
	{% set pushback_dwell_time  = vars['pushback_dwell_time']   |default(20)    | int %}
	{% set extruder_move_speed  = vars['extruder_move_speed']   |default(25)*60 | float %}
	{% set restore_position     = vars['restore_position']      |default(true)  | lower == 'true' %}
	{% set cut_count            = vars['cut_count']             |default(2)     | int %}
	{% set y_cut                = vars['y_cut']                 |default(false) | lower == 'true' %}
	{% set awd                  = vars['awd']                   |default(false) | lower == 'true' %}
	{% set tool_servo_enable    = vars['tool_servo_enable']     |default(false) | lower == 'true' %}
	
	{% set cut_current_x        = vars['cut_current_stepper_x'] |default(0)     | float %}
	{% set cut_current_dc       = vars['cut_current_dual_carriage']|default(0)  | float %}
	{% set cut_current_y        = vars['cut_current_stepper_y'] |default(0)     | float %}
	{% set cut_current_z        = vars['cut_current_stepper_z'] |default(0)     | float %}
	
	{% if verbose > 0 %}
	RESPOND TYPE=command MSG='AFC_Cut: Cut Filament'
	{% endif %}
	
	{% set location_factor = {
	'left'  : { 'x':  1, 'y':  0 },
	'right' : { 'x': -1, 'y':  0 },
	'front' : { 'x':  0, 'y':  1 },
	'back'  : { 'x':  0, 'y': -1 }
	} %}
	
	
	{% if cut_direction == "left" or cut_direction == "right" %}
	{% set pin_park_x_loc = pin_loc_x + location_factor[cut_direction].x * pin_park_dist %}
	{% set pin_park_y_loc = pin_loc_y %}
	{% elif cut_direction == "front" or cut_direction == "back" %}
	{% set pin_park_x_loc = pin_loc_x %}
	{% set pin_park_y_loc = pin_loc_y + location_factor[cut_direction].y * pin_park_dist %}
	{% else %}
	{ action_raise_error("Invalid cut direction. Check the cut_direction in your AFC_Macro_Vars.cfg file!") }
	{% endif %}
	
	
	{% set _extruder_moved_dist = 0 %}
	
	{% if "xy" not in printer.toolhead.homed_axes %}
	G28 X Y
	{% endif %}
	
	SAVE_GCODE_STATE NAME=_AFC_CUT
	
	
	{% set saved_accel = printer.toolhead.max_accel %}
	
	
	{% if cut_accel > 0 %}
	{% set selected_accel = cut_accel %}
	{% else %}
	{% set selected_accel = accel %}
	{% endif %}
	
	SET_VELOCITY_LIMIT ACCEL={selected_accel}
	
	{% set prev_pa = printer.extruder.pressure_advance %}
	SET_PRESSURE_ADVANCE ADVANCE=0
	
	AFC_DISABLE_SKEW
	
	G90
	M83
	G92 E0
	{% if retract_length > 0 %}
	
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Cut: Retract Filament for Cut'
	{% endif %}
	
	G1 E-{retract_length} F{extruder_move_speed}
	
	{% if quick_tip_forming %}
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Cut: Performing Quick Tip Form'
	{% endif %}
	G1 E{retract_length / 2} F{extruder_move_speed}
	G1 E-{retract_length / 2} F{extruder_move_speed}
	{% endif %}
	
	{% set _extruder_moved_dist = _extruder_moved_dist + retract_length %}
	{% endif %}
	
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Cut: Move to Cut Pin Location'
	{% endif %}
	_MOVE_TO_CUTTER_PIN PIN_PARK_X_LOC={pin_park_x_loc} PIN_PARK_Y_LOC={pin_park_y_loc}
	
	
	{% if tool_servo_enable %}
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='Cut Servo Extended'
	{% endif %}
	
	_CUTTER_SERVO POS=out
	{% endif %}
	
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Cut: Cut Move...'
	{% endif %}
	
	{% if cut_current_x > 0 or cut_current_dc > 0 %}
	
	{% if printer.dual_carriage is defined %}
	{% if printer.dual_carriage.carriage_0 == "INACTIVE" %}
	
	{% set conf_name = vars['conf_name_dual_carriage']|default('tmc2209 dual_carriage') %}
	{% set conf_current_dc = printer.configfile.settings[conf_name].run_current|float %}
	SET_TMC_CURRENT STEPPER=dual_carriage CURRENT={cut_current_dc}
	{% else %}
	
	{% set conf_name = vars['conf_name_stepper_x']|default('tmc2209 stepper_x') %}
	{% set conf_current_x = printer.configfile.settings[conf_name].run_current|float %}
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={cut_current_x}
	{% endif %}
	{% else %}
	
	{% set conf_name = vars['conf_name_stepper_x']|default('tmc2209 stepper_x') %}
	{% set conf_current_x = printer.configfile.settings[conf_name].run_current|float %}
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={cut_current_x}
	
	{% if awd %}
	SET_TMC_CURRENT STEPPER=stepper_x1 CURRENT={cut_current_x}
	{% endif %}
	
	{% endif %}
	{% endif %}
	
	{% if cut_current_y > 0 %}
	{% set conf_name = vars['conf_name_stepper_y']|default('tmc2209 stepper_y') %}
	{% set conf_current_y = printer.configfile.settings[conf_name].run_current|float %}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={cut_current_y}
	
	{% if awd %}
	SET_TMC_CURRENT STEPPER=stepper_y1 CURRENT={cut_current_y}
	{% endif %}
	
	{% endif %}
	
	{% if cut_current_z > 0 %}
	{% set conf_name = vars['conf_name_stepper_z']|default('tmc2209 stepper_z') %}
	{% set conf_current_z = printer.configfile.settings[conf_name].run_current|float %}
	SET_TMC_CURRENT STEPPER=stepper_z CURRENT={cut_current_z}
	{% endif %}
	
	{% for cut in range(cut_count - 1) %}
	_DO_CUT_MOTION PIN_PARK_X_LOC={pin_park_x_loc} PIN_PARK_Y_LOC={pin_park_y_loc} RIP_LENGTH=0
	{% endfor %}
	
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Cut: Final Cut...'
	{% endif %}
	
	
	_DO_CUT_MOTION PIN_PARK_X_LOC={pin_park_x_loc} PIN_PARK_Y_LOC={pin_park_y_loc} RIP_LENGTH={rip_length}
	{% if cut_current_x > 0 or cut_current_dc > 0 %}
	
	{% if printer.dual_carriage is defined %}
	{% if printer.dual_carriage.carriage_0 == "INACTIVE" %}
	
	SET_TMC_CURRENT STEPPER=dual_carriage CURRENT={conf_current_dc}
	{% else %}
	
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={conf_current_x}
	{% endif %}
	{% else %}
	
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={conf_current_x}
	{% if awd %}
	SET_TMC_CURRENT STEPPER=stepper_x1 CURRENT={conf_current_x}
	{% endif %}
	{% endif %}
	{% endif %}
	
	
	{% if tool_servo_enable %}
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='Cut Servo Retracted'
	{% endif %}
	
	_CUTTER_SERVO POS=in
	{% endif %}
	
	{% if cut_current_y > 0 %}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={conf_current_y}
	{% if awd %}
	SET_TMC_CURRENT STEPPER=stepper_y1 CURRENT={conf_current_y}
	{% endif %}
	{% endif %}
	
	{% if cut_current_z > 0 %}
	SET_TMC_CURRENT STEPPER=stepper_z CURRENT={conf_current_z}
	{% endif %}
	
	{% set _extruder_moved_dist = _extruder_moved_dist + rip_length %}
	
	
	{% if pushback_length > 0 %}
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Cut: Push cut tip back into hotend'
	{% endif %}
	G1 E{pushback_length} F{extruder_move_speed}
	G4 P{pushback_dwell_time}
	G1 E-{pushback_length} F{extruder_move_speed}
	
	{% set _extruder_moved_dist = _extruder_moved_dist - pushback_length %}
	{% endif %}
	
	SET_PRESSURE_ADVANCE ADVANCE={prev_pa}
	
	
	SET_VELOCITY_LIMIT ACCEL={saved_accel}
	
	AFC_ENABLE_SKEW
	
	
	RESTORE_GCODE_STATE NAME=_AFC_CUT MOVE={1 if restore_position else 0} MOVE_SPEED={travel_speed}

[gcode_macro _MOVE_TO_CUTTER_PIN]
description = Helper to move the toolhead to the target pin in either safe or faster way, depending on toolhead clearance
gcode = 
	{% set pin_park_x_loc = params.PIN_PARK_X_LOC|float %}
	{% set pin_park_y_loc = params.PIN_PARK_Y_LOC|float %}
	{% set gVars = printer['gcode_macro _AFC_GLOBAL_VARS'] %}
	{% set travel_speed = gVars['travel_speed'] * 60|float %}
	{% set vars = printer['gcode_macro _AFC_CUT_TIP_VARS'] %}
	{% set cut_direction = vars['cut_direction']|default('')|lower %}
	{% set safe_margin_x, safe_margin_y = vars.safe_margin_xy|map('float') %}
	
	{% if ((printer.gcode_move.gcode_position.x - pin_park_x_loc)|abs < safe_margin_x) or ((printer.gcode_move.gcode_position.y - pin_park_y_loc)|abs < safe_margin_y) %}
	
	{% if cut_direction == "left" or cut_direction == "right" %}
	G1 X{pin_park_x_loc} F{travel_speed}
	G1 Y{pin_park_y_loc} F{travel_speed}
	{% elif cut_direction == "front" or cut_direction == "back" %}
	G1 Y{pin_park_y_loc} F{travel_speed}
	G1 X{pin_park_x_loc} F{travel_speed}
	{% else %}
	{ action_raise_error("Invalid cut direction. Check the cut_direction in your AFC_Macro_Vars.cfg file!") }
	{% endif %}
	{% else %}
	G1 X{pin_park_x_loc} Y{pin_park_y_loc} F{travel_speed}
	{% endif %}

[gcode_macro _DO_CUT_MOTION]
description = Helper to do a single horizontal cut movement
gcode = 
	{% set pin_park_x_loc = params.PIN_PARK_X_LOC|float %}
	{% set pin_park_y_loc = params.PIN_PARK_Y_LOC|float %}
	{% set rip_length = params.RIP_LENGTH|float %}
	
	{% set vars = printer['gcode_macro _AFC_CUT_TIP_VARS'] %}
	{% set cut_move_dist = vars['cut_move_dist']|float %}
	{% set cut_direction = vars['cut_direction']|default('')|lower %}
	{% set cut_fast_move_fraction = vars['cut_fast_move_fraction']|float %}
	{% set pin_park_dist = vars['pin_park_dist']|float %}
	{% set cut_fast_move_speed = vars['cut_fast_move_speed'] * 60|float %}
	{% set cut_slow_move_speed = vars['cut_slow_move_speed'] * 60|float %}
	{% set cut_dwell_time = vars['cut_dwell_time']|float %}
	{% set evacuate_speed = vars['evacuate_speed'] * 60|float %}
	{% set rip_speed = vars['rip_speed'] * 60|float %}
	
	
	
	{% if printer.dual_carriage is defined %}
	{% if printer.dual_carriage.carriage_0 == "INACTIVE" %}
	
	{% set x_max = printer.configfile.config.dual_carriage.position_max|float|round(3) %}
	{% set x_min = printer.configfile.config.dual_carriage.position_min|float|round(3) %}
	{% else %}
	
	{% set x_max = printer.toolhead.axis_maximum.x %}
	{% set x_min = printer.toolhead.axis_minimum.x %}
	{% endif %}
	{% else %}
	
	{% set x_max = printer.toolhead.axis_maximum.x %}
	{% set x_min = printer.toolhead.axis_minimum.x %}
	{% endif %}
	{% set y_max = printer.toolhead.axis_maximum.y %}
	{% set y_min = printer.toolhead.axis_minimum.y %}
	
	
	{% set cut_dist = cut_move_dist + pin_park_dist %}
	
	{% set location_factor = {
	'left'  : { 'x': -1, 'y':  0 },
	'right' : { 'x':  1, 'y':  0 },
	'front' : { 'x':  0, 'y': -1 },
	'back'  : { 'x':  0, 'y':  1 }
	} %}
	
	{% if cut_direction == "left" or cut_direction == "right" %}
	{% set fast_slow_transition_loc_x = pin_park_x_loc + location_factor[cut_direction].x * (cut_dist * cut_fast_move_fraction)| float %}
	{% set full_cut_loc_x = pin_park_x_loc + location_factor[cut_direction].x * cut_dist| float %}
	
	{% if full_cut_loc_x > x_max or full_cut_loc_x < x_min %}
	{ action_raise_error("X Cut move is outside your printer bounds. Check the cut_move_dist in your AFC_Macro_Vars.cfg file!") }
	{% else %}
	G1 X{fast_slow_transition_loc_x} F{cut_fast_move_speed}
	G1 X{full_cut_loc_x} F{cut_slow_move_speed}
	G4 P{cut_dwell_time}
	{% if rip_length > 0 %}
	G1 E-{rip_length} F{rip_speed}
	{% endif %}
	G4 P200
	G1 X{pin_park_x_loc} F{evacuate_speed}
	G4 P200
	{% endif %}
	{% elif cut_direction == "front" or cut_direction == "back" %}
	{% set fast_slow_transition_loc_y = pin_park_y_loc + location_factor[cut_direction].y * (cut_dist * cut_fast_move_fraction)| float %}
	{% set full_cut_loc_y = pin_park_y_loc + location_factor[cut_direction].y * cut_dist| float %}
	
	{% if full_cut_loc_y > y_max or full_cut_loc_y < y_min %}
	{ action_raise_error("Y Cut move is outside your printer bounds. Check the cut_move_dist in your AFC_Macro_Vars.cfg file!") }
	{% else %}
	G1 Y{fast_slow_transition_loc_y} F{cut_fast_move_speed}
	G1 Y{full_cut_loc_y} F{cut_slow_move_speed}
	G4 P{cut_dwell_time}
	{% if rip_length > 0 %}
	G1 E-{rip_length} F{rip_speed}
	{% endif %}
	G4 P200
	G1 Y{pin_park_y_loc} F{evacuate_speed}
	G4 P200
	{% endif %}
	{% else %}
	{ action_raise_error("Invalid cut direction. Check the cut_direction in your AFC_Macro_Vars.cfg file!") }
	{% endif %}

[gcode_macro _CUTTER_SERVO]
variable_dwell_time = 200
gcode = 
	{% set c1 = printer['gcode_macro _AFC_CUT_TIP_VARS'] %}
	{% set pos = params.POS %}
	{% if pos == "in" %}
	SET_SERVO SERVO={c1.tool_servo_name} ANGLE={c1.tool_servo_angle_in}
	G4 P{dwell_time}
	{% elif pos == "out" %}
	SET_SERVO SERVO={c1.tool_servo_name} ANGLE={c1.tool_servo_angle_out}
	G4 P{dwell_time}
	{% else %}
	{action_respond_info("Cutter Servo: provide POS=[in|out]")}
	{% endif %}
	SET_SERVO SERVO={c1.tool_servo_name} WIDTH=0

[gcode_macro AFC_KICK]
gcode = 
	{% set gVars              = printer['gcode_macro _AFC_GLOBAL_VARS'] %}
	{% set accel              = gVars['accel']            | default(2000)     | float %}
	{% set travel_speed       = gVars['travel_speed']     | default(120)*60   | float %}
	{% set z_travel_speed     = gVars['z_travel_speed']   | default(30)*60    | float %}
	{% set verbose            = gVars['verbose']          | default(1)        | int %}
	{% set vars               = printer['gcode_macro _AFC_KICK_VARS'] %}
	{% set kick_start_x, kick_start_y, kick_start_z = vars.kick_start_loc|default([-1,-1,5])|map('float') %}
	{% set kick_z             = vars['kick_z']            | default(1.5)      | float %}
	{% set kick_direction     = vars['kick_direction']    | default('')       | lower %}
	{% set kick_move_dist     = vars['kick_move_dist']    | default(45)       | float %}
	{% set z_after_kick       = vars['z_after_kick']      | default(10)       | float %}
	{% set kick_speed         = vars['kick_speed']        | default(150)*60   | float %}
	{% set kick_accel         = vars['kick_accel']        | default(0)        | float %}
	
	
	
	{% if printer.dual_carriage is defined %}
	{% if printer.dual_carriage.carriage_0 == "INACTIVE" %}
	
	{% set x_max = printer.configfile.config.dual_carriage.position_max|float|round(3) %}
	{% set x_min = printer.configfile.config.dual_carriage.position_min|float|round(3) %}
	{% else %}
	
	{% set x_max = printer.toolhead.axis_maximum.x %}
	{% set x_min = printer.toolhead.axis_minimum.x %}
	{% endif %}
	{% else %}
	
	{% set x_max = printer.toolhead.axis_maximum.x %}
	{% set x_min = printer.toolhead.axis_minimum.x %}
	{% endif %}
	{% set y_max = printer.toolhead.axis_maximum.y %}
	{% set y_min = printer.toolhead.axis_minimum.y %}
	
	
	{% set saved_accel = printer.toolhead.max_accel %}
	
	
	{% if kick_accel > 0 %}
	{% set selected_accel = kick_accel %}
	{% else %}
	{% set selected_accel = accel %}
	{% endif %}
	
	SET_VELOCITY_LIMIT ACCEL={selected_accel}
	
	{% if verbose > 0 %}
	RESPOND TYPE=command MSG='AFC_Kick: Starting Filament Kick'
	{% endif %}
	
	
	G90
	AFC_DISABLE_SKEW
	
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Kick: Move to Start Position'
	{% endif %}
	G1 X{kick_start_x} Y{kick_start_y} F{travel_speed}
	G1 Z{kick_start_z} F{z_travel_speed}
	
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Kick: Drop Z For Kick Move'
	{% endif %}
	{% if kick_z > 0 %}
	G1 Z{kick_z} F{z_travel_speed}
	{% else %}
	RESPOND TYPE=command MSG='AFC-KICK: kick_z value to low. Please adjust in AFC_Macro_Vars.cfg. Defaulting to 0.5mm z-height'
	G1 Z0.5 F{z_travel_speed}
	{% endif %}
	
	{% set location_factor = {
	'left'  : { 'x': -1, 'y':  0 },
	'right' : { 'x':  1, 'y':  0 },
	'front' : { 'x':  0, 'y': -1 },
	'back'  : { 'x':  0, 'y':  1 }
	} %}
	
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Kick: Kick filament'
	{% endif %}
	{% if kick_direction == "left" or kick_direction == "right" %}
	{% if (kick_start_x + location_factor[kick_direction].x * kick_move_dist) > x_max or (kick_start_x + location_factor[kick_direction].x * kick_move_dist) < x_min %}
	{ action_raise_error("X Kick move is outside your printer bounds. Check the kick_move_dist in your AFC_Macro_Vars.cfg file!") }
	{% else %}
	G1 X{kick_start_x + location_factor[kick_direction].x * kick_move_dist}  F{kick_speed}
	{% endif %}
	{% elif kick_direction == "front" or kick_direction == "back" %}
	{% if (kick_start_y + location_factor[kick_direction].y * kick_move_dist) > y_max or (kick_start_y + location_factor[kick_direction].y * kick_move_dist) < y_min %}
	{ action_raise_error("Y Kick move is outside your printer bounds. Check the kick_move_dist in your AFC_Macro_Vars.cfg file!") }
	{% else %}
	G1 Y{kick_start_y + location_factor[kick_direction].y * kick_move_dist}  F{kick_speed}
	{% endif %}
	{% else %}
	{ action_raise_error("Error in kick movement. Check the directions in your AFC_Macro_Vars.cfg file!") }
	{% endif %}
	
	G1 Z{z_after_kick} F{z_travel_speed}
	
	
	SET_VELOCITY_LIMIT ACCEL={saved_accel}
	AFC_ENABLE_SKEW

[gcode_macro AFC_POOP]
variable_max_iteration_length = 40
variable_iteration_z_raise = 6
variable_iteration_z_change = 0.6
variable_max_iterations_per_blob = 3
variable_pressure_release_time = 1000
variable_purge_z = 0
gcode = 
	{% set gVars                  = printer['gcode_macro _AFC_GLOBAL_VARS'] %}
	{% set travel_speed           = gVars['travel_speed']     | default(120)*60   | float %}
	{% set z_travel_speed         = gVars['z_travel_speed']   | default(30)*60    | float %}
	{% set verbose                = gVars['verbose']          | default(1)        | int %}
	{% set vars                   = printer['gcode_macro _AFC_POOP_VARS'] %}
	{% set purge_x, purge_y       = vars.purge_loc_xy         | default([-1,-1])  | map('float') %}
	{% set purge_spd              = vars['purge_spd']         | default(6.5)*60   | float %}
	{% set z_poop                 = vars['z_purge_move']      | default(true)     | lower == 'true' %}
	{% set fast_z                 = vars['fast_z']            | default(200)*60   | float %}
	{% set z_lift                 = vars['z_lift']            | default(10)       | float %}
	
	{% set part_cooling_fan_speed = vars['part_cooling_fan_speed']| default(1.0)  | float %}
	{% set purge_cool_time        = vars['purge_cool_time']   | default(2)*1000   | float %}
	{% set purge_length           = vars['purge_length']      | default(72.111)   | float %}
	{% set purge_length_minimum   = vars['purge_length_minimum']| default(60.999) | float %}
	{% set purge_start            = vars['purge_start']       | default(0.6)      | float %}
	{% set restore_position       = vars['restore_position']  | default(true)     | lower == 'true' %}
	{% set TOOL_NUM = params.TOOL|default("0")|string %}
	
	{% if verbose > 0 %}
	RESPOND TYPE=command MSG='AFC_Poop: Starting poop'
	{% endif %}
	
	SAVE_GCODE_STATE NAME=_AFC_POOPING
	
	
	
	RESPOND TYPE=command MSG='AFC_Poop: Set Cooling Fan to Full Speed'
	
	
	M106 S255
	
	
	{% set backup_feedrate = printer.gcode_move.speed_factor %}
	M220 S100
	
	{% if params.PURGE_LENGTH %}
	{% set purge_len = params.PURGE_LENGTH|float %}
	{% else %}
	{% set purge_len = purge_length %}
	{% endif %}
	
	
	{% set purge_len = [purge_len, purge_length_minimum]|max %}
	G90
	
	AFC_DISABLE_SKEW
	
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Poop: Move To Purge Location'
	{% endif %}
	
	G1 X{purge_x} Y{purge_y} F{travel_speed}
	
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Poop: z_poop {z_poop}'
	{% endif %}
	
	{% if z_poop %}
	G1 Z{purge_z + purge_start} F{z_travel_speed}
	{% endif %}
	
	{% set iterations = (purge_len / max_iteration_length)|round(0, 'ceil')|int %}
	
	
	{% for n in range(iterations) %}
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Poop: Purge Iteration {n}'
	{% endif %}
	
	
	{% set step = n % max_iterations_per_blob %}
	{% if step == 0 %}
	{% if z_poop %}
	G1 Z{purge_z + purge_start} F{z_travel_speed}
	{% endif %}
	{% endif %}
	
	{% set purge_amount_left = purge_len - (max_iteration_length * n) %}
	{% set extrude_amount = [purge_amount_left, max_iteration_length]|min %}
	{% set extrude_ratio = extrude_amount / max_iteration_length %}
	
	G91
	M83
	
	{% set step_triangular = step * (step + 1) / 2 %}
	{% set z_raise_substract = purge_start if step == 0 else step_triangular * iteration_z_change %}
	{% set raise_z = (iteration_z_raise - z_raise_substract) * extrude_ratio %}
	{% set raise_z = [raise_z, 0]|max %}
	
	{% set duration = extrude_amount / purge_spd %}
	
	{% if z_poop %}
	{% set speed = raise_z / duration %}
	G1 Z{raise_z} E{extrude_amount} F{speed}
	{% else %}
	G1 E{extrude_amount} F{purge_spd}
	{% endif %}
	
	
	{% set max_iterations_reached = step == max_iterations_per_blob - 1 %}
	{% set purge_length_reached = purge_len - max_iteration_length * (n + 1) <= 0 %}
	
	{% if max_iterations_reached or purge_length_reached %}
	M83
	G4 P{purge_cool_time}
	{% endif %}
	{% endfor %}
	
	G90
	
	{% set final_poop_height = purge_z + purge_start + (iterations * iteration_z_raise) %}
	{% set new_z = final_poop_height + z_lift %}
	
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Poop: Lifting Z to {new_z} mm'
	{% endif %}
	
	{% if z_poop %}
	G1 Z{new_z} F{fast_z}
	{% endif %}
	
	{% if verbose > 1 %}
	RESPOND TYPE=command MSG='AFC_Poop: Restore fan speed and feedrate'
	{% endif %}
	
	M106 S0
	
	M220 S{(backup_feedrate * 100)|int}
	
	AFC_ENABLE_SKEW
	
	RESTORE_GCODE_STATE NAME=_AFC_POOPING MOVE={1 if restore_position else 0}

[gcode_macro _AFC_GLOBAL_VARS]
description = Global variables used in multiple macros
gcode = 
variable_stepper_name = 'lane'
variable_travel_speed = 400
variable_z_travel_speed = 120
variable_accel = 10000
variable_verbose = 2

[gcode_macro _AFC_CUT_TIP_VARS]
description = Toolhead tip cutting macro configuration variables
gcode = 
variable_pin_loc_xy = 1.0, 169.50
variable_cut_accel = 0
variable_cut_direction = "back"
variable_pin_park_dist = 15.0
variable_cut_move_dist = 12.5
variable_cut_fast_move_speed = 20
variable_cut_slow_move_speed = 10
variable_evacuate_speed = 150
variable_cut_dwell_time = 75
variable_cut_fast_move_fraction = 0.85
variable_extruder_move_speed = 25
variable_restore_position = False
variable_retract_length = 10
variable_quick_tip_forming = False
variable_cut_count = 2
variable_rip_length = 1.0
variable_rip_speed = 3
variable_pushback_length = 0
variable_pushback_dwell_time = 0
variable_safe_margin_xy = 110, 100
variable_cut_current_stepper_x = 3.4
variable_cut_current_stepper_y = 3.4
variable_cut_current_stepper_z = 2.4
variable_conf_name_stepper_x = "tmc5160 stepper_x"
variable_conf_name_stepper_y = "tmc5160 stepper_y"
variable_conf_name_stepper_z = "tmc5160 stepper_z"
variable_tool_servo_enable = False
variable_tool_servo_name = "clippy"
variable_tool_servo_angle_out = -10
variable_tool_servo_angle_in = 120

[gcode_macro _AFC_POOP_VARS]
description = Poop macro configuration variables
gcode = 
variable_purge_loc_xy = 304, 10
variable_purge_spd = 6.5
variable_z_purge_move = True
variable_fast_z = 200
variable_z_lift = 20
variable_restore_position = False
variable_purge_start = 0.2
variable_part_cooling_fan = True
variable_part_cooling_fan_speed = 1.0
variable_purge_cool_time = 2
variable_purge_length = 72.111
variable_purge_length_minimum = 60.999

[gcode_macro _AFC_KICK_VARS]
description = Kick macro configuration variables
gcode = 
variable_kick_start_loc = 286,39,5
variable_kick_z = 1.5
variable_kick_speed = 150
variable_kick_accel = 0
variable_kick_direction = "front"
variable_kick_move_dist = 22
variable_z_after_kick = 10

[gcode_macro _AFC_BRUSH_VARS]
description = Brush macro configuration variables
gcode = 
variable_brush_loc = 232.85,-6.5,2.2
variable_brush_clean_speed = 250
variable_brush_clean_accel = 0
variable_brush_width = 30
variable_brush_depth = 2
variable_y_brush = True
variable_brush_count = 8
variable_z_move = 10

[gcode_macro _AFC_PARK_VARS]
description = Park macro configuration variables
gcode = 
variable_park_loc_xy = 175, 338
variable_z_hop = 0
variable_park_z = 0

[mcu Pico]
serial = /dev/serial/by-id/usb-Klipper_rp2040_455035712909FFF8-if00
restart_method = command

[board_pins Turtle_1]
mcu = Turtle_1
aliases = 
	M1_STEP=PD4    	, M1_DIR=PD3    , M1_EN=PD6   	, M1_UART=PD5   ,
	M2_STEP=PC12   	, M2_DIR=PC11   , M2_EN=PD1   	, M2_UART=PD0   ,
	M3_STEP=PE2    	, M3_DIR=PE3    , M3_EN=PE0   	, M3_UART=PE1   ,
	M4_STEP=PD15   	, M4_DIR=PD14   , M4_EN=PC7   	, M4_UART=PC6   ,
	
	
	HUB=PC4 		,
	TRG1=PC5  		, TRG2=PB0  	, TRG3=PB1 		, TRG4=PB2		,
	EXT1=PE8 		, EXT2=PE9  	, EXT3=PE10		, EXT4=PE11		,
	TN_ADV=PE12     , TN_TRL=PE13   ,
	
	SW1=PC4 		, SW2=PC5 	, SW3=PB0  	, SW4=PB1 	, SW5=PB2	, SW6=PE7	,
	SW7=PE8 		, SW8=PE9	, SW9=PE10	, SW10=PE11	, SW11=PE12	, SW12=PE13	,
	
	MOT1_RWD=PA0	, MOT1_FWD=PA1	, MOT1_EN=PA2	,
	MOT2_RWD=PA6	, MOT2_FWD=PA7	, MOT2_EN=PA5	,
	MOT3_RWD=PB14	, MOT3_FWD=PB15	, MOT3_EN=PB13	,
	MOT4_RWD=PD12	, MOT4_FWD=PD13	, MOT4_EN=PD11	,
	
	RGB1=PE14		, RGB2=PE15	    , RGB3=PB10	    , RGB4=PB11		,

[mcu Turtle_1]
canbus_uuid = 1794ee876eaf

[AFC_BoxTurtle Turtle_1]
enable_assist = False
enable_kick_start = True
enable_assist_weight = 300

[temperature_sensor Turtle_1]
sensor_type = temperature_mcu
sensor_mcu = Turtle_1

[AFC_stepper lane0]
unit = Turtle_1:1
step_pin = Turtle_1:M1_STEP
dir_pin = !Turtle_1:M1_DIR
enable_pin = !Turtle_1:M1_EN
microsteps = 16
rotation_distance = 4.65
dist_hub = 1940.0
park_dist = 10
led_index = AFC_Rndicator:25-32
afc_motor_rwd = Turtle_1:MOT1_RWD
afc_motor_fwd = Turtle_1:MOT1_FWD
afc_motor_enb = Turtle_1:MOT1_EN
rwd_speed_multiplier = 0.5
fwd_speed_multiplier = 0.5
pwm = True
hardware_pwm = True
prep = ^!Turtle_1:TRG1
load = ^Turtle_1:EXT1
hub = direct_load
buffer = TN
extruder = extruder
empty_spool_weight = 190
map = T0

[tmc2209 AFC_stepper lane0]
uart_pin = Turtle_1:M1_UART
uart_address = 0
run_current = 0.8
sense_resistor = 0.110

[AFC_stepper lane1]
unit = Turtle_1:2
step_pin = Turtle_1:M2_STEP
dir_pin = !Turtle_1:M2_DIR
enable_pin = !Turtle_1:M2_EN
microsteps = 16
rotation_distance = 4.65
dist_hub = 2120.0
park_dist = 10
led_index = AFC_Rndicator:17-24
afc_motor_rwd = Turtle_1:MOT2_RWD
afc_motor_fwd = Turtle_1:MOT2_FWD
afc_motor_enb = Turtle_1:MOT2_EN
rwd_speed_multiplier = 0.5
fwd_speed_multiplier = 0.5
pwm = True
hardware_pwm = True
prep = ^!Turtle_1:TRG2
load = ^Turtle_1:EXT2
hub = direct_load
buffer = TN1
extruder = extruder1
empty_spool_weight = 190
map = T1

[tmc2209 AFC_stepper lane1]
uart_pin = Turtle_1:M2_UART
uart_address = 0
run_current = 0.8
sense_resistor = 0.110

[AFC_stepper lane2]
unit = Turtle_1:3
step_pin = Turtle_1:M3_STEP
dir_pin = !Turtle_1:M3_DIR
enable_pin = !Turtle_1:M3_EN
microsteps = 16
rotation_distance = 4.65
dist_hub = 2110.0
park_dist = 10
led_index = AFC_Rndicator:33-40
afc_motor_rwd = Turtle_1:MOT3_RWD
afc_motor_fwd = Turtle_1:MOT3_FWD
afc_motor_enb = Turtle_1:MOT3_EN
rwd_speed_multiplier = 0.5
fwd_speed_multiplier = 0.5
pwm = True
hardware_pwm = True
prep = ^!Turtle_1:TRG3
load = ^Turtle_1:EXT3
hub = direct_load
buffer = TN2
extruder = extruder2
empty_spool_weight = 190
map = T2

[tmc2209 AFC_stepper lane2]
uart_pin = Turtle_1:M3_UART
uart_address = 0
run_current = 0.8
sense_resistor = 0.110

[AFC_stepper lane3]
unit = Turtle_1:4
step_pin = Turtle_1:M4_STEP
dir_pin = !Turtle_1:M4_DIR
enable_pin = !Turtle_1:M4_EN
microsteps = 16
rotation_distance = 4.65
dist_hub = 2230.0
park_dist = 10
led_index = AFC_Rndicator:41-48
afc_motor_rwd = Turtle_1:MOT4_RWD
afc_motor_fwd = Turtle_1:MOT4_FWD
afc_motor_enb = Turtle_1:MOT4_EN
rwd_speed_multiplier = 0.5
fwd_speed_multiplier = 0.5
pwm = True
hardware_pwm = True
prep = ^!Turtle_1:TRG4
load = ^Turtle_1:EXT4
hub = direct_load
buffer = TN3
extruder = extruder3
empty_spool_weight = 190
map = T3

[tmc2209 AFC_stepper lane3]
uart_pin = Turtle_1:M4_UART
uart_address = 0
run_current = 0.8
sense_resistor = 0.110

[AFC_buffer TN]
advance_pin = ^Turtle_1:TN_ADV
trailing_pin = ^Turtle_1:TN_TRL
multiplier_high = 1.15
multiplier_low = 0.80

[AFC_buffer TN1]
advance_pin = ^Pico:gpio4
trailing_pin = ^Pico:gpio3
multiplier_high = 1.15
multiplier_low = 0.80

[AFC_buffer TN2]
advance_pin = ^Pico:gpio25
trailing_pin = ^Pico:gpio22
multiplier_high = 1.15
multiplier_low = 0.80

[AFC_buffer TN3]
advance_pin = ^Pico:gpio16
trailing_pin = ^Turtle_1:HUB
multiplier_high = 1.15
multiplier_low = 0.80

[AFC_led AFC_Indicator]
pin = Turtle_1:RGB1
chain_count = 4
color_order = GRBW
initial_red = 0.0
initial_green = 0.20
initial_blue = 0.0

[AFC_led AFC_Tndicator]
pin = EBBT5:PD3
chain_count = 2
color_order = GRB

[AFC_led AFC_Sndicator]
pin = EBBT4:PD3
chain_count = 2
color_order = GRB

[AFC_led AFC_Rndicator]
pin = Turtle_1:RGB2
chain_count = 64
color_order = GRB
initial_red = 0.0
initial_green = 0.20
initial_blue = 0.0

[toolchanger_flow_fix]

[hdc1080_loader]

[mcu fps]
canbus_uuid = a839e785afe7

[mcu oams_mcu1]
canbus_uuid = 7564b5192d2f

[mcu fps2]
canbus_uuid = 8ce81ea7909b

[mcu oams_mcu2]
canbus_uuid = 8390c2a8b538

[gcode_macro _oams_macro_variables]
variable_hotend_meltzone_compensation = 0
variable_retract_length = 10
variable_extrusion_reload_length = 55
variable_extrusion_unload_length = 45
variable_reload_speed = 400
gcode = 

[oams oams1]
mcu = oams_mcu1
load_retry_max = 3
unload_retry_max = 2
retry_backoff_base = 1.0
retry_backoff_max = 5.0
auto_unload_on_failed_load = True
fps_upper_threshold = 0.7
fps_lower_threshold = 0.3
fps_is_reversed = true
f1s_hes_on = 0.1, 0.1, 0.1, 0.1
f1s_hes_is_above = false
hub_hes_on = 0.825845, 0.809982, 0.837821, 0.813695
hub_hes_is_above = true
ptfe_length = 2048
current_target = 0.30
current_kp = 3.0
current_ki = 0.0
current_kd = 0.0
oams_idx = 1

[oams oams2]
mcu = oams_mcu2
load_retry_max = 3
unload_retry_max = 2
retry_backoff_base = 1.0
retry_backoff_max = 5.0
auto_unload_on_failed_load = True
fps_upper_threshold = 0.7
fps_lower_threshold = 0.3
fps_is_reversed = true
f1s_hes_on = 0.1, 0.1, 0.1, 0.1
f1s_hes_is_above = false
hub_hes_on = 0.791565, 0.797029, 0.800661, 0.786823
hub_hes_is_above = true
ptfe_length = 2020
current_target = 0.30
current_kp = 3.0
current_ki = 0.0
current_kd = 0.0
oams_idx = 2

[fps fps1]
pin = fps:PA2
reversed = false
oams = oams1
extruder = extruder4
reload_before_toolhead_distance = 6

[fps fps2]
pin = fps2:PA2
reversed = false
oams = oams2
extruder = extruder5
reload_before_toolhead_distance = 6

[temperature_sensor oams1]
sensor_type = HDC1080
i2c_address = 64
i2c_mcu = oams_mcu1
i2c_bus = i2c0
i2c_speed = 200000
temp_offset = 0.0
humidity_offset = 0.0
temp_resolution = 14
humidity_resolution = 14

[temperature_sensor oams2]
sensor_type = HDC1080
i2c_address = 64
i2c_mcu = oams_mcu2
i2c_bus = i2c0
i2c_speed = 200000
temp_offset = 0.0
humidity_offset = 0.0
temp_resolution = 14
humidity_resolution = 14

[oams_manager]
stuck_spool_load_grace = 12.0
stuck_spool_pressure_threshold = 0.06
stuck_spool_pressure_clear_threshold = 0.15

[gcode_macro _oams_smart_temp_settings]
variable_enable_smart_temp = True
gcode = 

[gcode_macro _oams_temp_cache_fps1]
variable_old_temp = 240
gcode = 

[gcode_macro _oams_temp_cache_fps2]
variable_old_temp = 240
gcode = 

[gcode_macro _oams_debug_settings]
variable_debug_enabled = 0
gcode = 

[gcode_macro _oams_purge_settings]
variable_purge_amount = 70
variable_purge_speed = 350
gcode = 

[gcode_macro _OAMS_LANE_TEMP_HELPER]
variable_lane_temp = 240
gcode = 
	{% set LANE = params.LANE|default('')|string|trim %}
	{% set EXTRUDER = params.EXTRUDER|default('extruder')|string %}
	{% set DEFAULT_TEMP = params.DEFAULT|default(0)|float %}
	
	{% set lane_name = LANE %}
	{% if lane_name and lane_name[:4]|lower != 'lane' %}
	{% set lane_name = 'lane' ~ lane_name %}
	{% endif %}
	
	{% set lane_obj = 'AFC_lane ' ~ lane_name if lane_name else '' %}
	{% set lane_temp = None %}
	{% set lane_material = '' %}
	{% if lane_obj and lane_obj in printer %}
	{% if 'extruder_temp' in printer[lane_obj] and printer[lane_obj]['extruder_temp'] %}
	{% set lane_temp = printer[lane_obj]['extruder_temp']|float %}
	{% endif %}
	{% if 'material' in printer[lane_obj] and printer[lane_obj]['material'] %}
	{% set lane_material = printer[lane_obj]['material']|string %}
	{% endif %}
	{% endif %}
	
	{% set min_temp = 170.0 %}
	{% if EXTRUDER in printer.configfile.settings %}
	{% set min_temp = printer.configfile.settings[EXTRUDER].min_extrude_temp|default(min_temp)|float %}
	{% endif %}
	{% set fallback_temp = DEFAULT_TEMP if DEFAULT_TEMP > 0 else (min_temp + 5.0) %}
	
	{% set afc_section = printer.configfile.settings['AFC'] if 'AFC' in printer.configfile.settings else None %}
	{% set afc_defaults = afc_section.default_material_temps|default('', true) if afc_section else '' %}
	{% set fallback_material = lane_material %}
	{% if not fallback_material and afc_section and afc_section.default_material_type is defined %}
	{% set fallback_material = afc_section.default_material_type|string %}
	{% endif %}
	
	{% set defaults = namespace(default=fallback_temp, match=None) %}
	{% if afc_defaults %}
	{% for entry in afc_defaults.split(',') %}
	{% set parts = entry.split(':') %}
	{% if parts|length > 1 %}
	{% set key = parts[0]|trim|lower %}
	{% set value = parts[1]|trim|float %}
	{% if key == 'default' %}
	{% set defaults.default = value %}
	{% elif fallback_material and key %}
	{% set mat_key = fallback_material|lower %}
	{% if mat_key == key or key in mat_key %}
	{% set defaults.match = value %}
	{% endif %}
	{% endif %}
	{% endif %}
	{% endfor %}
	{% endif %}
	
	{% if lane_temp is not none and lane_temp > 0 %}
	{% set resolved_temp = lane_temp %}
	{% elif defaults.match is not none %}
	{% set resolved_temp = defaults.match %}
	{% else %}
	{% set resolved_temp = defaults.default %}
	{% endif %}
	
	SET_GCODE_VARIABLE MACRO=_OAMS_LANE_TEMP_HELPER VARIABLE=lane_temp VALUE={resolved_temp|round(2)}

[gcode_macro SAFE_UNLOAD_FILAMENT]
variable_pause_triggered = False
variable_retry = 0
gcode = 
	{% set EXTRUDER = params.EXTRUDER|default("extruder4")|string %}
	{% set TOOL_NUM = params.TOOL|default("4")|string %}
	{% set FPS = params.FPS|default("fps1")|string %}
	{% set CACHE = params.CACHE|default("_oams_temp_cache_fps1")|string %}
	{% set LED_NAME = params.LED|default("AFC_Sndicator")|string %}
	{% set UNIT = params.UNIT|default("")|string %}
	{% set LANE_PARAM = params.LANE|default("")|string %}
	
	
	{% set afc_extruder = printer['AFC_extruder ' ~ EXTRUDER] %}
	{% set retract_length = printer["gcode_macro _AFC_CUT_TIP_VARS"].retract_length %}
	{% set raw_unload_length = afc_extruder.tool_stn_unload|default(afc_extruder.tool_stn)|float %}
	{% if raw_unload_length <= 0 %}
	{% set raw_unload_length = afc_extruder.tool_stn|float %}
	{% endif %}
	{% set sensor_after = afc_extruder.tool_sensor_after_extruder|default(0)|float %}
	{% set extrusion_unload_length = raw_unload_length + sensor_after %}
	{% set unload_speed = (afc_extruder.tool_unload_speed|default(25.0)|float * 60)|int %}
	{% set ADDITIONAL_TIME_ON = 2.0 %}
	{% set ADDITIONAL_UNLOAD_SPEED = unload_speed %}
	{% set ADDITIONAL_EXTRUSION_AMOUNT = ADDITIONAL_UNLOAD_SPEED / 60.0 * (ADDITIONAL_TIME_ON + 1.0) %}
	
	
	{% set loaded_lane = LANE_PARAM %}
	{% set lane_source = "explicit" %}
	{% if not loaded_lane %}
	
	{% set lane_source = "auto-detected" %}
	{% set extruder_obj = 'AFC_extruder ' ~ EXTRUDER %}
	{% if extruder_obj in printer and 'lane_loaded' in printer[extruder_obj] %}
	{% set loaded_lane = printer[extruder_obj]['lane_loaded']|default('', true)|string %}
	{% endif %}
	{% endif %}
	
	
	ACTIVATE_EXTRUDER EXTRUDER={EXTRUDER}
	
	
	{% set PURGE_TEMP = params.PURGE_TEMP|default(0)|int %}
	{% set extruder_state = printer[EXTRUDER] if EXTRUDER in printer else printer.extruder %}
	{% set current_target_temp = extruder_state.target|int %}
	
	
	
	{% set MIN_SAFE_TEMP = 210 %}
	{% set current_actual_temp = extruder_state.temperature|int %}
	
	{% if current_target_temp < MIN_SAFE_TEMP and printer.print_stats.state in ["printing", "paused"] %}
	
	{% set override_temp = current_actual_temp if current_actual_temp > MIN_SAFE_TEMP else MIN_SAFE_TEMP %}
	M104 S{override_temp}
	RESPOND MSG="Overriding ooze prevention temp: {current_target_temp}C â†’ {override_temp}C"
	{% set current_target_temp = override_temp %}
	{% endif %}
	
	{% set temp = 240 %}
	
	
	{% if loaded_lane %}
	{% if lane_source == "auto-detected" %}
	RESPOND TYPE=command MSG='Auto-detected: Unloading {loaded_lane} from {EXTRUDER}'
	{% else %}
	RESPOND TYPE=command MSG='Unloading {loaded_lane} from {EXTRUDER}'
	{% endif %}
	{% else %}
	RESPOND TYPE=error MSG='No lane specified and could not auto-detect loaded lane on {EXTRUDER}'
	{% endif %}
	
	{% if PURGE_TEMP > 0 %}
	
	{% set temp = PURGE_TEMP %}
	M117 Unloading at purge temp {temp}C...
	
	M104 S{temp}
	{action_respond_info("Heating to purge temp %dC..." % temp)}
	{% if temp < 210 %}
	M109 S210
	{% else %}
	M109 S{temp}
	{% endif %}
	{% else %}
	
	{% if printer["gcode_macro _oams_smart_temp_settings"].enable_smart_temp %}
	
	{% if loaded_lane %}
	_OAMS_LANE_TEMP_HELPER LANE={loaded_lane} EXTRUDER={EXTRUDER} DEFAULT={temp}
	{% set temp = printer["gcode_macro _OAMS_LANE_TEMP_HELPER"].lane_temp|int %}
	{% if printer["gcode_macro _oams_debug_settings"].debug_enabled %}
	RESPOND MSG="[DEBUG] SAFE_UNLOAD_FILAMENT ({EXTRUDER}) resolved temp: {temp}C for {loaded_lane}"
	{% endif %}
	{% endif %}
	
	
	M104 S{temp}
	M117 Nozzle heating to {temp}C...
	{action_respond_info("Nozzle heating to %dC..." % temp)}
	{% if temp < 210 %}
	M109 S210
	{% else %}
	M109 S{temp}
	{% endif %}
	{% else %}
	
	{% set temp = current_target_temp %}
	
	{% if printer.print_stats.state not in ["printing", "paused"] and temp < 210 %}
	{% set temp = 240 %}
	M104 S{temp}
	M117 Heating to default {temp}C...
	{action_respond_info("Heating to default %dC..." % temp)}
	M109 S{temp}
	{% else %}
	
	{% if printer["gcode_macro _oams_debug_settings"].debug_enabled %}
	RESPOND MSG="[DEBUG] SAFE_UNLOAD_FILAMENT ({EXTRUDER}) smart temp disabled, using current temp: {temp}C"
	{% endif %}
	M117 Unloading at current temp {temp}C...
	M104 S{temp}
	{action_respond_info("Heating to %dC for unload..." % temp)}
	{% if temp < 210 %}
	M109 S210
	{% else %}
	M109 S{temp}
	{% endif %}
	{% endif %}
	{% endif %}
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO={CACHE} VARIABLE=old_temp VALUE={temp}
	
	OAMSM_FOLLOWER ENABLE=1 DIRECTION=0 FPS={FPS}
	M83
	G92 E0
	G1 E-{retract_length}
	AFC_CUT
	M400
	
	SET_STEPPER_ENABLE STEPPER={EXTRUDER} ENABLE=1
	M83
	G92 E0
	G1 E-{extrusion_unload_length|round(2)} F{unload_speed}
	M400
	G1 E-{ADDITIONAL_EXTRUSION_AMOUNT} F{ADDITIONAL_UNLOAD_SPEED}
	
	OAMSM_UNLOAD_FILAMENT FPS={FPS}
	M400
	
	
	
	{% if current_target_temp == 0 or printer.print_stats.state not in ["printing", "paused"] %}
	M104 S0
	M400
	{% endif %}

[gcode_macro SAFE_UNLOAD_FILAMENT1]
gcode = 
	SAFE_UNLOAD_FILAMENT EXTRUDER=extruder4 TOOL=4 FPS=fps1 CACHE=_oams_temp_cache_fps1 LED=AFC_Sndicator UNIT=AMS_1 {rawparams}

[gcode_macro SAFE_UNLOAD_FILAMENT2]
gcode = 
	SAFE_UNLOAD_FILAMENT EXTRUDER=extruder5 TOOL=5 FPS=fps2 CACHE=_oams_temp_cache_fps2 LED=AFC_Tndicator UNIT=AMS_2 {rawparams}

[gcode_macro _TX]
variable_pause_triggered = False
gcode = 
	{% set LANE = params.LANE|default("")|string %}
	{% set EXTRUDER = params.EXTRUDER|default("extruder4")|string %}
	{% set TOOL_NUM = params.TOOL|default("4")|string %}
	{% set FPS = params.FPS|default("fps1")|string %}
	{% set CACHE = params.CACHE|default("_oams_temp_cache_fps1")|string %}
	{% set LED_NAME = params.LED|default("AFC_Sndicator")|string %}
	{% set UNIT = params.UNIT|default("")|string %}
	
	
	
	{% set MIN_SAFE_TEMP = 210 %}
	{% set extruder_state = printer[EXTRUDER] if EXTRUDER in printer else printer.extruder %}
	{% set current_target_temp = extruder_state.target|int %}
	{% set current_actual_temp = extruder_state.temperature|int %}
	
	{% if current_target_temp < MIN_SAFE_TEMP and printer.print_stats.state in ["printing", "paused"] %}
	
	{% set override_temp = current_actual_temp if current_actual_temp > MIN_SAFE_TEMP else MIN_SAFE_TEMP %}
	M104 S{override_temp}
	RESPOND MSG="Overriding ooze prevention temp: {current_target_temp}C â†’ {override_temp}C"
	{% set current_target_temp = override_temp %}
	{% endif %}
	
	
	{% set afc_extruder = printer['AFC_extruder ' ~ EXTRUDER] %}
	{% set hotend_meltzone_compensation = printer["gcode_macro _oams_macro_variables"].hotend_meltzone_compensation %}
	{% set retract_length = printer["gcode_macro _AFC_CUT_TIP_VARS"].retract_length %}
	{% set extrusion_reload_length = afc_extruder.tool_stn %}
	{% set sensor_after = afc_extruder.tool_sensor_after_extruder|default(0)|float %}
	{% set reload_speed = (afc_extruder.tool_load_speed|default(25.0)|float * 60)|int %}
	{% set LOADED_LANE = printer['oams_manager']['fps ' ~ FPS].current_lane %}
	{% set RELOAD_LENGTH = (extrusion_reload_length + sensor_after + retract_length + hotend_meltzone_compensation) %}
	
	
	{% set lane_obj_name = "AFC_lane " ~ LANE %}
	{% set TARGET_LANE = printer[lane_obj_name].map if lane_obj_name in printer else LANE %}
	
	
	
	
	{% if printer.exclude_object.current_object not in printer.exclude_object.excluded_objects %}
	{% if LOADED_LANE == TARGET_LANE %}
	RESPOND TYPE=command MSG='Toolhead already loaded with {TARGET_LANE}'
	{% else %}
	RESPOND TYPE=command MSG='Loading {TARGET_LANE} on {EXTRUDER}'
	
	
	{% if printer["gcode_macro _oams_smart_temp_settings"].enable_smart_temp %}
	
	
	{% set old_temp = printer["gcode_macro " ~ CACHE].old_temp|default(240)|int %}
	{% if printer["gcode_macro _oams_debug_settings"].debug_enabled %}
	RESPOND MSG="[DEBUG] _TX ({CACHE}): Retrieved cached old_temp: {old_temp}C"
	{% endif %}
	
	
	_OAMS_LANE_TEMP_HELPER LANE={LANE} EXTRUDER={EXTRUDER} DEFAULT=240
	{% set new_temp = printer["gcode_macro _OAMS_LANE_TEMP_HELPER"].lane_temp|int %}
	{% if printer["gcode_macro _oams_debug_settings"].debug_enabled %}
	RESPOND MSG="[DEBUG] _TX: Resolved lane {LANE} temp: {new_temp}C"
	{% endif %}
	
	
	{% set purge_temp = old_temp if old_temp > new_temp else new_temp %}
	{% if printer["gcode_macro _oams_debug_settings"].debug_enabled %}
	RESPOND MSG="[DEBUG] _TX ({CACHE}): Calculated purge temp: {purge_temp}C (max of {old_temp}C and {new_temp}C)"
	{% endif %}
	{% else %}
	
	{% set purge_temp = printer["gcode_macro " ~ CACHE].old_temp|default(current_target_temp)|int %}
	{% if printer["gcode_macro _oams_debug_settings"].debug_enabled %}
	RESPOND MSG="[DEBUG] _TX ({CACHE}): Smart temp disabled, using cached temp: {purge_temp}C"
	{% endif %}
	{% endif %}
	
	
	DROP_TOOL
	
	M83
	
	
	{% if printer["gcode_macro _oams_smart_temp_settings"].enable_smart_temp %}
	M104 S{purge_temp}
	M117 Heating to {purge_temp}C for {TARGET_LANE}...
	{action_respond_info("Heating to %dC for %s..." % (purge_temp, TARGET_LANE))}
	{% if purge_temp < 210 %}
	M109 S210
	{% else %}
	M109 S{purge_temp}
	{% endif %}
	{% else %}
	
	{% if printer.print_stats.state not in ["printing", "paused"] and purge_temp < 210 %}
	
	{% set purge_temp = 240 %}
	M104 S{purge_temp}
	M117 Heating to default {purge_temp}C for {TARGET_LANE}...
	{action_respond_info("Heating to default %dC for %s..." % (purge_temp, TARGET_LANE))}
	M109 S{purge_temp}
	{% else %}
	
	M104 S{purge_temp}
	M117 Heating to {purge_temp}C for {TARGET_LANE}...
	{action_respond_info("Heating to %dC for %s..." % (purge_temp, TARGET_LANE))}
	M109 S{purge_temp}
	{% endif %}
	{% endif %}
	
	
	
	OAMSM_LOAD_FILAMENT LANE={LANE}
	
	
	
	
	
	{% set purge_amount = printer["gcode_macro _oams_purge_settings"].purge_amount|int %}
	{% set purge_speed = printer["gcode_macro _oams_purge_settings"].purge_speed|int %}
	M83
	G92 E0
	
	M400
	
	SAVE_GCODE_STATE NAME=purge_ready
	M83
	G92 E0
	G1 E{purge_amount/2} F{purge_speed}
	M106 S255 T{TOOL_NUM}
	G1 E{purge_amount/2} F{purge_speed}
	G92 E0
	
	G1 E-3 F{purge_speed}
	G4 P500
	M106 S0 T{TOOL_NUM}
	RESTORE_GCODE_STATE NAME=purge_ready
	
	
	AFC_SELECT_TOOL TOOL={EXTRUDER}
	{% if current_target_temp == 0 or printer.print_stats.state not in ["printing", "paused"] %}
	M104 S0
	M400
	{% endif %}
	{% endif %}
	{% endif %}

[gcode_macro _TX1]
gcode = 
	{% set LANE = params.LANE|default("")|string %}
	_TX LANE={LANE} EXTRUDER=extruder4 TOOL=4 FPS=fps1 CACHE=_oams_temp_cache_fps1 LED=AFC_Sndicator UNIT=AMS_1

[gcode_macro _TX2]
gcode = 
	{% set LANE = params.LANE|default("")|string %}
	_TX LANE={LANE} EXTRUDER=extruder5 TOOL=5 FPS=fps2 CACHE=_oams_temp_cache_fps2 LED=AFC_Tndicator UNIT=AMS_2

[gcode_macro Empty_AMS_1]
gcode = 
	SAFE_UNLOAD_FILAMENT1

[gcode_macro Empty_AMS_2]
gcode = 
	SAFE_UNLOAD_FILAMENT2

[sensorless_auto_tune]
restore_speed = 100

[tool_drop_detection]
accelerometer = T0, T1, T2, T3, T4, T5
polling_freq = 1
polling_rate = 50

[gcode_macro TC_DOCK_AUTOTUNE]
description = "Autotune park_x / park_y for the *current* tool by minimising peak-g"
variable_range_mm = 0.5
variable_step_mm = 0.05
variable_pitch_tol = 45
variable_roll_tol = 45
variable_threshold = 0.05
variable_changes_per = 6
variable_abort_on_g = 15
variable_debug = False
variable_name = 'TC_DOCK_AUTOTUNE'
variable_storage = {}
gcode = 
	M400
	{% set P = printer %}
	{% set S = storage %}
	
	{% set state = S.get('state', 'idle') %}
	{% set actn = P.toolchanger.tool_number %}
	{% if actn == -1 %}
	RESPOND TYPE=error MSG="No active tool equipped."
	{% elif state != 'idle' %}
	RESPOND MSG="Autotune already running (state={state})."
	{% elif P.toolhead.homed_axes != "xyz" %}
	RESPOND MSG="Please home first"
	{% else %}
	{% set storage = {} %}
	
	{% set tool_name = P.toolchanger.tool_names[actn] %}
	{% set tool_object      = P[tool_name] %}
	{% set x = tool_object.params_park_x|float %}
	{% set y = tool_object.params_park_y|float %}
	{% set z = tool_object.params_park_z|float %}
	
	{% set accelName = tool_object.get('params_accelerometer', tool_name|replace('tool ', ''))|replace('adxl345 ', '') %}
	
	SET_VELOCITY_LIMIT ACCEL={P.configfile.config.printer.max_accel|float // 5.0}
	G90
	STOP_TOOL_CRASH_DETECTION
	
	{% set startingVars = [
	('path_speed', tool_object.params_path_speed),
	('tool',         actn),
	('accelName',    accelName),
	('orig_px',      x),
	('orig_py',      y),
	('state',        'start'),
	] %}
	{% for k, v in startingVars %} {% set _ = storage.update({k: v}) %} {% endfor %}
	SET_GCODE_VARIABLE MACRO=TC_DOCK_AUTOTUNE VARIABLE=storage VALUE="{storage}"
	
	TDD_POLLING_STOP
	TDD_POLLING_START ACCEL={accelName} FREQ={20} RATE={1600}
	M400
	TDD_POLLING_RESET
	UPDATE_DELAYED_GCODE ID=_TCDOCK_LOOP DURATION=0
	UPDATE_DELAYED_GCODE ID=_TCDOCK_LOOP DURATION=3
	RESPOND MSG="Dock autotune started, range: Â±{range_mm}mm and step: Â±{step_mm}mm"
	{% endif %}

[delayed_gcode _TCDOCK_LOOP]
gcode = 
	_TCDOCK_LOOP

[gcode_macro _TCDOCK_LOOP]
gcode = 
	
	{%- set debug = [] -%}
	{%- set P = printer -%}
	{%- set parent = P["gcode_macro TC_DOCK_AUTOTUNE"] -%}
	{%- set S = parent.storage -%}
	{%- set tool_object = P[P.toolchanger.tool_names[S.tool]] -%}
	{%- set tdd = P.tool_drop_detection.get(S.accelName) -%}
	{%- set pitch = tdd.current.rotation.pitch|float -%}
	{%- set roll = tdd.current.rotation.roll|float -%}
	{%- set peak = tdd.session.peak|float -%}
	{%- set sess_roll = tdd.session.rotation.roll|float -%}
	{%- set sess_pitch = tdd.session.rotation.pitch|float -%}
	{%- set state = S.get('state', 'idle') -%}
	{%- set max_accel = P.configfile.config.printer.max_accel|float -%}
	
	
	{%- macro loop(delay=0.25) -%}
	UPDATE_DELAYED_GCODE ID=_TCDOCK_LOOP DURATION=0
	UPDATE_DELAYED_GCODE ID=_TCDOCK_LOOP DURATION={delay}
	{%- endmacro -%}
	
	{%- macro store(k, v, mode="set") -%}
	{%- if mode == "add" -%}
	{%- if k not in S or S[k].__class__.__name__ != "list" -%}
	{%- set _ = S.update({k: []}) -%}
	{%- endif -%}
	{%- set _ = S[k].append(v) -%}
	{%- elif mode == "pop" -%}
	{%- set _ = S.pop(k, None) -%}
	{%- else -%}
	{%- set _ = S.update({k: v}) -%}
	{%- endif -%}
	{%- endmacro -%}
	
	{%- macro set_state(v) -%}{store("state", v)}{%- endmacro -%}
	
	{%- macro guard_ok() -%}
	{%- set tilting   = (pitch|abs > parent.pitch_tol) or (roll|abs > parent.roll_tol) -%}
	{%- set high_g  = peak >= parent.abort_on_g|float -%}
	{%- set ok = False if high_g or tilting else True -%}
	{%- set _ = debug.append("guard_ok: " ~ ok|string) -%}
	{%- if not ok -%}
	{%- set _ = store("last_state", state) -%}
	{%- set _ = set_state("pause") -%}
	{%- endif -%}
	{- ok if ok else '' -}
	{%- endmacro -%}
	
	{% macro run_test() %}
	{% set peaks = S.get('peaks') %}
	{% if peaks is none %}
	TDD_POLLING_RESET
	UNSELECT_TOOL
	SELECT_TOOL T={S.tool} RESTORE_AXIS=""
	{store('peaks', [])}
	{% elif peaks|length < parent.changes_per - 1 %}
	{store('peaks', peak, 'add')}
	TDD_POLLING_RESET
	UNSELECT_TOOL
	SELECT_TOOL T={S.tool} RESTORE_AXIS=""
	{% else %}
	{% set avreage = ((S.peaks|sum + peak) / (S.peaks|length + 1))|round(5) %}
	{% set _ = debug.append("run_test avreage: " ~ avreage|string) %}
	{store('peaks', None, 'pop')}
	{store('peaks_avreage', avreage)}
	{% endif %}
	{% set _ = debug.append("run_test peaks: " ~ S.peaks|string) %}
	M400
	G4 P250
	{% endmacro %}
	
	{% if state == 'pause' %}
	{set_state("paused")}
	RESPOND TYPE=command MSG="action:prompt_begin Dock alignment issue"
	RESPOND TYPE=command MSG="action:prompt_text Pitch: {pitch|round(2)}Â°, Roll: {roll|round(2)}Â°"
	RESPOND TYPE=command MSG="action:prompt_text Peak: {peak|round(2)} g"
	RESPOND TYPE=command MSG="action:prompt_button Retry |UPDATE_DELAYED_GCODE ID=_TCDOCK_LOOP DURATION=0.1|warning"
	RESPOND TYPE=command MSG="action:prompt_show"
	{% endif %}
	
	{% if state == 'paused' %}
	{set_state(S.get('last_state', 'scan'))}
	TDD_POLLING_RESET
	{loop()}
	{% endif %}
	
	
	{% if state == 'start' %}
	M400
	TDD_REFERENCE_SET ACCEL={S.accelName}
	{set_state('record_dock_baseline')}
	{loop()}
	{% endif %}
	
	{% if state == 'record_dock_baseline' %}
	RESPOND MSG="Recording baseline, Unselecting"
	SET_VELOCITY_LIMIT ACCEL={max_accel // 10.0}
	SET_TOOL_PARAMETER T={S.tool} PARAMETER="params_path_speed" VALUE={S.path_speed|float // 5.0}
	UNSELECT_TOOL
	M400
	TDD_POLLING_RESET
	{set_state('record_rotation_baseline')}
	SET_TOOL_PARAMETER T={S.tool} PARAMETER="params_path_speed" VALUE={S.path_speed}
	SET_VELOCITY_LIMIT ACCEL={max_accel}
	{loop(delay=3)}
	{% endif %}
	
	{% if state == 'record_rotation_baseline' %}
	{store('dock_pitch', sess_pitch)}
	{store('dock_roll',  sess_roll)}
	TDD_POLLING_RESET
	SELECT_TOOL T={S.tool} RESTORE_AXIS=""
	{set_state('wait_user_accept_baseline')}
	M400
	{loop()}
	{% endif %}
	
	{% if state == 'wait_user_accept_baseline' %}
	RESPOND TYPE=command MSG="action:prompt_begin Dock alignment check"
	RESPOND TYPE=command MSG="action:prompt_text Current Tilt alignement:"
	RESPOND TYPE=command MSG="action:prompt_text f-b: {S.dock_pitch|round(3)}Â°"
	RESPOND TYPE=command MSG="action:prompt_text l-r: {S.dock_roll|round(3)}Â°"
	RESPOND TYPE=command MSG="action:prompt_button Record new |_TC_DOCK_AUTOTUNE_REDO_BASELINE_BUTTON|warning"
	RESPOND TYPE=command MSG="action:prompt_footer_button Continue |UPDATE_DELAYED_GCODE ID=_TCDOCK_LOOP DURATION=0.1|success"
	RESPOND TYPE=command MSG="action:prompt_show"
	{set_state('baseline')}
	{% endif %}
	
	{% if state == 'baseline' and guard_ok() %}
	RESPOND TYPE=command MSG="action:prompt_end"
	
	
	{% set raw_peak = S.get('peaks_avreage') %}
	{% if raw_peak %}
	{store('peaks_avreage', None, 'pop')}
	{% set base_peak = raw_peak|float %}
	{store('base_peak',  base_peak)}
	{store('best_peak',  base_peak)}
	RESPOND MSG="Baseline: {base_peak|round(3)}g,  dock_pitch: {S.dock_pitch|round(3)}Â°,  dock_roll: {S.dock_roll|round(3)}Â°"
	{set_state('scan')}
	{% else %}
	{run_test()}
	{% endif %}
	M400
	SET_VELOCITY_LIMIT ACCEL={max_accel}
	RESET_TOOL_PARAMETER T={S.tool} PARAMETER="params_path_speed"
	{loop(delay=1)}
	{% endif %}
	
	
	{% if state == 'scan' %}
	{store('axis_list', ['x', 'y'])}
	{store('dir_list',  [1, -1])}
	{store('axis_idx',   0)}
	{store('dir_idx',    0)}
	{store('cur_step',   0.0)}
	{store('best_x', tool_object.params_park_x|float)}
	{store('best_y', tool_object.params_park_y|float)}
	{store('param_set', False)}
	{set_state('scan_step')}
	{loop()}
	{% endif %}
	
	
	{% if state == 'scan_step' and guard_ok() %}
	{% set axis     = S.axis_list[S.axis_idx] %}
	{% set dir_sign = S.dir_list[S.dir_idx] %}
	{% set step     = parent.step_mm|float * dir_sign %}
	{% set offset   = S.cur_step + step %}
	{% set max_off  = parent.range_mm|float %}
	
	
	{% if offset|abs > max_off %}
	{% set new_dir = S.dir_idx + 1 %}
	{% if new_dir >= S.dir_list|length %}
	{store('dir_idx', 0)}
	{store('axis_idx', S.axis_idx + 1)}
	{% else %}
	{store('dir_idx', new_dir)}
	{% endif %}
	{store('cur_step', 0.0)}
	{store('param_set', False)}
	
	
	{% if S.axis_idx >= S.axis_list|length %}
	{store('best_parking_pos_x', S.best_x)}
	{store('best_parking_pos_y', S.best_y)}
	{set_state('done')}
	{% endif %}
	{loop()}
	{% else %}
	
	{% if not S.param_set %}
	{% if axis == 'x' %}
	{% set cand_x = (S.best_x + offset)|round(3) %}
	{store('cand_x', cand_x)}
	SET_TOOL_PARAMETER T={S.tool} PARAMETER=params_park_x VALUE={cand_x}
	{% else %}
	{% set cand_y = (S.best_y + offset)|round(3) %}
	{store('cand_y', cand_y)}
	SET_TOOL_PARAMETER T={S.tool} PARAMETER=params_park_y VALUE={cand_y}
	{% endif %}
	{store('param_set', True)}
	M400
	{% endif %}
	
	
	{% set raw_peak = S.pop('peaks_avreage', None) %}
	{% if raw_peak is none %}
	{run_test()}
	{loop()}
	{% else %}
	{store('peaks_avreage', None, 'pop')}
	{% set avg_peak = raw_peak|float %}
	{% set best     = S.best_peak|float %}
	{% set rel = ((avg_peak - best) / best) if best|float > 0 else (1.0 if avg_peak|float > 0 else 0.0) %}
	
	
	{% if rel <= -parent.threshold|float %}
	{store('best_peak', avg_peak)}
	{% if axis == 'x' %}
	{store('best_x', S.cand_x)}
	{% else %}
	{store('best_y', S.cand_y)}
	{% endif %}
	RESPOND MSG="Better -> axis={axis} offset={offset|round(3)} Î”peak={(avg_peak - best)|round(3)}g new={avg_peak|round(3)}g"
	{store('cur_step', offset)}
	{store('param_set', False)}
	
	
	{% elif rel > -parent.threshold|float and rel < parent.threshold|float %}
	{store('cur_step', offset)}
	{store('param_set', False)}
	RESPOND MSG="Plateau -> axis={axis} offset={offset|round(3)} peak={avg_peak|round(3)}g best={best|round(3)}g"
	
	
	{% else %}
	{% if axis == 'x' %}
	RESPOND MSG="Found worse -> axis={axis} offset={offset|round(3)} peak={avg_peak|round(3)}g (resetting {S.cand_x} -> {S.best_x|round(3)})"
	SET_TOOL_PARAMETER T={S.tool} PARAMETER=params_park_x VALUE={S.best_x|round(3)}
	{% else %}
	RESPOND MSG="Found worse -> axis={axis} offset={offset|round(3)} peak={avg_peak|round(3)}g (resetting {S.cand_y} -> {S.best_y|round(3)})"
	SET_TOOL_PARAMETER T={S.tool} PARAMETER=params_park_y VALUE={S.best_y|round(3)}
	{% endif %}
	M400
	{store('dir_idx',   S.dir_idx + 1)}
	{store('cur_step',  0.0)}
	{store('param_set', False)}
	{% endif %}
	
	
	{% if S.dir_idx >= S.dir_list|length %}
	{store('dir_idx', 0)}
	{store('axis_idx', S.axis_idx + 1)}
	{store('cur_step', 0.0)}
	{% endif %}
	
	{% if S.axis_idx >= S.axis_list|length %}
	{store('best_parking_pos_x', S.best_x)}
	{store('best_parking_pos_y', S.best_y)}
	{set_state('done')}
	{% endif %}
	{loop()}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if state == 'done' %}
	TDD_POLLING_STOP
	SET_TOOL_PARAMETER T={S.tool} PARAMETER=params_park_x VALUE={S.best_parking_pos_x|round(3)}
	SET_TOOL_PARAMETER T={S.tool} PARAMETER=params_park_y VALUE={S.best_parking_pos_y|round(3)}
	{set_state('idle')}
	SET_VELOCITY_LIMIT ACCEL={P.configfile.config.printer.max_accel}
	RESPOND MSG="Done -> Î”X: {(S.best_parking_pos_x - S.orig_px)|round(3)}mm,  Î”Y: {(S.best_parking_pos_y - S.orig_py)|round(3)}mm old peak: {S.base_peak|round(3)}g, new peak: {S.best_peak|round(3)}g"
	RESPOND MSG="params_park_x: {S.best_parking_pos_x|round(3)}"
	RESPOND MSG="params_park_y: {S.best_parking_pos_y|round(3)}"
	{% endif %}
	
	SET_GCODE_VARIABLE MACRO=TC_DOCK_AUTOTUNE VARIABLE=storage VALUE="{S}"
	M400
	{% if debug != [] and parent.debug %} RESPOND MSG="{debug|join('<br>')|replace('/nl', '')}" {% endif %}

[gcode_macro _TC_DOCK_AUTOTUNE_REDO_BASELINE_BUTTON]
gcode = 
	{% set storage = printer["gcode_macro TC_DOCK_AUTOTUNE"].storage %}
	{% set _ = storage.update({'state': 'record_dock_baseline'}) %}
	SET_GCODE_VARIABLE MACRO=TC_DOCK_AUTOTUNE VARIABLE=storage VALUE="{storage}"
	UPDATE_DELAYED_GCODE ID=_TCDOCK_LOOP DURATION=0.1

[gcode_macro DOCK_TUNER]
description = "Cyclic dock tuner: step pickup/dropoff safely; auto-detect at pickup verify"
variable_path_interpolation = 2
variable_state = {'ui_is_open': False, 'idx': -1, 'speed_multiplier': 1.0}
gcode = 
	
	{% set NAME         = 'DOCK_TUNER' %}
	{% set tc           = printer.toolchanger %}
	{% set tpe          = printer.tool_probe_endstop if 'tool_probe_endstop' in printer else {} %}
	{% set provided_tn  = params.T|default('only provide when no tool selected/active')|int(None) %}
	{% set tn_detected  = (tc.detected_tool_number) if tc.has_detection else tpe.get('active_tool_number', -1) %}
	{% set tn           = tc.tool_number %}
	
	
	
	{% if tn in [None, -1] and provided_tn is none %}
	{ action_raise_error('DOCK_TUNER: no tool selected please provide <c>T</c>') }
	{ action_respond_info('<i>If you think this is a mistake, run <c>DOCK_TUNER RESET=1</c>') }
	{% elif tn_detected != -1 and provided_tn is not none and not state.get('ui_is_open', False) %}
	{ action_raise_error('DOCK_TUNER: please only provide <c>T</c> after dropping the tool off.') }
	{ action_respond_info('<i>If you think this is a mistake, run <c>DETECT_ACTIVE_TOOL_PROBE</c>' if tpe else '') }
	{% elif tn == -1 %}
	{% set tn = provided_tn %}
	{% endif %}
	
	
	{% set tool         = printer[tc.tool_names[tn]] %}
	{% set tname_short  = tool.name|replace('tool ', '') %}
	{% set dock         = {'x': tool.params_park_x|float, 'y': tool.params_park_y|float, 'z': tool.params_park_z|float} %}
	{% set pick         = tool.params_pickup_path %}
	{% set drop         = tool.params_dropoff_path %}
	{% set ps           = tool.params_path_speed|float %}
	{% set safe_y       = tool.params_safe_y|float %}
	
	{% set y_safe_off = safe_y - dock.y %}
	
	{% macro ui(m) %}{ action_respond_info('action:prompt_' ~ m) }{% endmacro %}
	
	{% macro but(m, sec=None) %}
	{ ui('button_group_start') if sec in ['first', 'both'] else '' }
	{ ui('button ' ~ m) }
	{ ui('button_group_end')   if sec in ['last', 'both']  else '' }
	{% endmacro %}
	
	
	{% macro update_dock_pos(ax, val) %}
	{% if variable_helper is defined %}
	{% import variable_helper as svh with context %}
	{ svh.svf_update('dock_' ~ tname_short|lower ~ '.' ~ ax, val) }
	{% endif %}
	SET_TOOL_PARAMETER T={tool.tool_number} PARAMETER={ 'params_park_' ~ ax } VALUE={val}
	{% endmacro %}
	
	
	{%- macro is_dup_node(a, b) -%}
	{%- for k in ['x','y','z','verify'] if a.get(k, None)|float(None) != b.get(k, None)|float(None) -%}
	{%- else -%}
	True
	{%- endfor -%}
	{%- endmacro -%}
	
	{% macro move_step(s) %}
	{% set parms = [] %}
	{% for ax in ['x', 'y', 'z'] %}{% set _ = parms.append(ax|upper ~ (dock[ax] + s[ax])|round(2)) %}{% endfor %}
	{% set _ = parms.append('F' ~ (ps * s.f * state.get('speed_multiplier', 1.0))|round(2) ) %}
	G90
	G0 {parms|join(' ')}
	{'DETECT_ACTIVE_TOOL_PROBE' if 'verify' in s and tpe else ''}
	{% endmacro %}
	
	{% macro walk(dir, stop_kind, stop_arg = 0) %}
	{% set ns = namespace(i=state.idx, last=0, moved=0, done=0) %}
	{% if ns.i < 0 %}{% set ns.i = (N - 1 if dir > 0 else 0) %}{% endif %}
	{% set ns.last = ns.i %}
	{% for _ in range(N) if not ns.done %}
	{% set j = ns.i + dir %}
	{% if j < 0 %}{% set j = N - 1 %}{% endif %}
	{% if j >= N %}{% set j = 0 %}{% endif %}
	{% set A = cycle[j] %}
	{% if not is_dup_node(A, cycle[ns.last]) %}
	{ move_step(A) }
	{% set ns.last = j %}
	{% set _ = state.update({'idx': j}) %}
	{% set ns.moved = ns.moved + 1 %}
	{% endif %}
	{% set ns.i = j %}
	{% if stop_kind == 'index' and j == stop_arg %}{% set ns.done = 1 %}{% endif %}
	{% if stop_kind == 'safe'  and A.get('y', none) == y_safe_off %}{% set ns.done = 1 %}{% endif %}
	{% if stop_kind == 'count' and ns.moved >= stop_arg %}{% set ns.done = 1 %}{% endif %}
	{% endfor %}
	{% endmacro %}
	
	
	
	{%- macro normalize_path(path) -%}
	
	
	
	{% set last_pos_buffer = {'x': 0.0, 'y': 0.0, 'z': 0.0, 'f': 1.0} %}
	{% for step in path %}
	{% for axis in last_pos_buffer.keys() %}
	{% set _ = step.setdefault(axis, last_pos_buffer.get(axis)|float) %}
	{% set _ = last_pos_buffer.update({ axis: step.get(axis)|float }) %}
	{% endfor %}
	{% endfor %}
	{%- endmacro -%}
	
	{%- macro upsample_path(path, factor=path_interpolation) -%}
	
	{% set factor = factor|int %}
	{% if factor > 1 %}
	{% set N = path|length %}
	{% for idx in range(N - 1, 0, -1) %}
	{% set a, b = path[idx - 1], path[idx] %}
	{% set ax, ay, az, af = a.get('x')|float, a.get('y')|float, a.get('z')|float, a.get('f', 1.0)|float %}
	{% set bx, by, bz, bf = b.get('x')|float, b.get('y')|float, b.get('z')|float, b.get('f', 1.0)|float %}
	{% for k in range(factor - 1) %}
	{% set t = (factor - 1 - k) / factor %}
	{% set node = {
	'x': (ax + (bx - ax) * t)|round(4),
	'y': (ay + (by - ay) * t)|round(4),
	'z': (az + (bz - az) * t)|round(4),
	'f': (af + (bf - af) * t)|round(4)
	} %}
	{% set _ = path.insert(idx, node) %}
	{% endfor %}
	{% endfor %}
	{% endif %}
	{%- endmacro -%}
	
	
	
	{% macro create_ui() %}
	{% set C_SLOW, C_FAST, C_RESET = (120,200,160),
	(225,120,145),
	(155,150,205)
	%}
	{% set axis_colors = {'X': (200, 110, 120),
	'Y': (120, 185, 150),
	'Z': (120, 150, 210),
	} %}
	{% set step_alphas = { -0.5: 0.6,
	-0.1: 0.5,
	0.1: 0.5,
	0.5: 0.6,
	} %}
	{ ui('begin Dock Tuner (' ~ tname_short ~ ')') }
	
	{ ui('text Step through the path') }
	{ but('[ â†¶ --- ]|' ~ NAME ~ ' STEP=-1 T=' ~ tn ~ '|rgba(80,145,160,0.80)',  'first') }
	{ but('[ --- â†· ]|' ~ NAME ~ ' STEP=1 T='  ~ tn ~ '|rgba(215,150,100,0.82)', 'last')  }
	{ ui('text Run through the path') }
	{ but('[ â­® run pick ]|'     ~ NAME ~ ' RUN=PICK T=' ~ tn ~ '|rgba(72,150,160,0.84)',  'first') }
	{ but('[ run drop â­¯ ]|'     ~ NAME ~ ' RUN=DROP T=' ~ tn ~ '|rgba(220,155,110,0.86)', 'last') }
	{ but('[â”check detect ]|' ~ NAME ~ ' CHECK=1 T='  ~ tn ~ '|rgba(' ~ C_RESET|join(',') ~ ',' ~ 0.7 ~ ')',  'first') }
	{ ui('show') }
	
	
	{ ui('text tune docking speed') }
	
	{% set alpha = 0.1 if (1.0 - state.get('speed_multiplier', 1.0))|abs <= 0.01 else 0.7 %}
	{ but('Ã—' ~ ('%.2f' % 1.0) ~ '|' ~ NAME ~ ' SPD=' ~ 1 ~ ' T=' ~ tn ~ '|' ~ 'rgba(' ~ C_RESET|join(',') ~ ',' ~ alpha ~ ')', 'last') }
	{ ui('button_group_start') }
	{% for mult in [ 0.25, 0.50, 1.50, 2.00 ] %}
	{% set is_active = (mult - state.get('speed_multiplier', 1.0))|abs <= 0.01 %}
	{% set rgb = C_SLOW if mult < 1 else (C_FAST if mult > 1 else C_RESET) %}
	{% set col = 'rgba(' ~ rgb|join(',') ~ ',' ~ (0.1 if is_active else 0.7) ~ ')' %}
	{ but('Ã—' ~ ('%.2f' % mult) ~ '|' ~ NAME ~ ' SPD=' ~ mult ~ ' T=' ~ tn ~ '|' ~ col) }
	{% endfor %}
	{ ui('button_group_end') }
	{ ui('footer_button [ âœ– ]|' ~ NAME ~ ' CLOSE=1 T=' ~ tn ~ '|red') }
	{ ui('show') }
	
	
	{ ui('text tune dock position') }
	{% for ax, col in axis_colors.items() %}
	{ ui('button_group_start') }
	{% for inc, alpha in step_alphas.items() %}
	{% set sgn = '+' if inc > 0 else '' %}
	{% set color = 'rgba(' ~ col|join(',') ~ ',' ~ alpha ~ ')' %}
	{ but(ax ~ sgn ~ inc ~ '|' ~ NAME ~ ' AX=' ~ ax ~ ' AM=' ~ inc ~ ' T=' ~ tn ~ '|' ~ color) }
	{% endfor %}
	{ ui('button_group_end') }
	{% endfor %}
	{ but('[ â™» ] Reset docking position|' ~ NAME ~ ' RESET_DOCK=1 T=' ~ tn ~ '|rgba(' ~ C_RESET|join(',') ~ ',' ~ 0.7 ~ ')', 'both') }
	{ ui('show') }
	{% endmacro %}
	
	
	
	{% set _, _ = normalize_path(pick), normalize_path(drop) %}
	{% set _, _ = upsample_path(pick),  upsample_path(drop) %}
	
	{% set fast_speed  = (pick|map(attribute='f')|list + drop|map(attribute='f')|list)|max * 2.0 %}
	{% set verify_step = pick|selectattr('verify')|list|first %}
	
	{% set safe_node  = {'y': y_safe_off, 'z': 0, 'f': fast_speed } %}
	
	{% set drop_approach_z = drop|map(attribute='z')|list|max %}
	
	{% set pick_approach_z = pick|map(attribute='z')|list|min %}
	{% set pick_leave_z    = pick|map(attribute='z')|list|max %}
	
	{% set y_half_pick = (y_safe_off + pick[0].get('y', 0)|float) / 2.0 %}
	{% set y_half_drop = (y_safe_off + drop[0].get('y', 0)|float) / 2.0 %}
	
	{% set cycle = [] %}
	
	{% set _ = cycle.append(safe_node) %}
	{% set _ = cycle.append({'y': y_half_pick, 'z': pick_approach_z, 'f': fast_speed}) %}
	{% set _ = cycle.append({'x': pick[0].get('x', 0)|float, 'z': pick[0].get('z', 0)|float, 'y': y_half_pick, 'f': fast_speed}) %}
	{% set _ = cycle.append({'x': pick[0].get('x', 0)|float, 'z': pick[0].get('z', 0)|float, 'y': pick[0].get('y', 0)|float, 'f': fast_speed}) %}
	
	{% set pick_start = cycle|length %}{% set _ = cycle.extend(pick) %}{% set pick_end   = cycle|length - 1 %}
	
	{% set pu_verify = pick_start + pick.index(verify_step) if verify_step else -1 %}
	
	{% set _ = cycle.append({'y': y_half_pick, 'z': pick_leave_z, 'f': fast_speed}) %}
	{% set _ = cycle.append(safe_node) %}
	{% set _ = cycle.append({'y': y_half_drop, 'z': drop_approach_z, 'f': fast_speed}) %}
	{% set _ = cycle.append({'x': drop[0].get('x', 0)|float, 'z': drop[0].get('z', 0)|float, 'y': y_half_drop, 'f': fast_speed}) %}
	{% set _ = cycle.append({'x': drop[0].get('x', 0)|float, 'z': drop[0].get('z', 0)|float, 'y': drop[0].get('y', 0)|float, 'f': fast_speed}) %}
	
	{% set drop_start = cycle|length %}{% set _ = cycle.extend(drop) %}{% set drop_end   = cycle|length - 1 %}
	
	{% set _ = normalize_path(cycle) %}
	
	{% set N    = cycle|length %}
	{% set cur  = N - 1 if state.idx < 0 else state.idx %}
	
	
	
	{% if 'STEP' in params %}
	{% set amnt = params.STEP|int %}
	{% set dir = -1 if amnt < 0 else 1 %}
	{ walk(dir, 'count', amnt|abs) }
	
	{% elif 'RUN' in params %}
	{% if params.RUN == 'PICK' %}
	{ walk(1, 'index', pick_end) }
	{ walk(1, 'safe') }
	RESPOND TYPE=echo MSG="DOCK_TUNER: pickup â†’ end complete (moved to safe_y)"
	
	{% elif params.RUN == 'DROP' %}
	{% set in_pickup = (cur >= pick_start and cur <= pick_end) %}
	{% set allow_forward = True %}
	{% if in_pickup and pu_verify != -1 %}
	{% set allow_forward = False if cur < pu_verify else allow_forward %}
	{% set allow_forward = False if cur >= pu_verify and (tn_detected != tn and tn_detected != -1) else allow_forward %}
	{% endif %}
	{% if allow_forward %}
	{ walk(1, 'index', drop_end) }
	{ walk(1, 'safe') }
	RESPOND TYPE=echo MSG="DOCK_TUNER: dropoffâ†’end complete (moved to safe_y)"
	{% else %}
	{ walk(-1, 'safe') }
	RESPOND TYPE=echo MSG="DOCK_TUNER: reversed to safe_y"
	{% endif %}
	{% endif %}
	
	{% elif 'CHECK' in params %}
	{'DETECT_ACTIVE_TOOL_PROBE' if tpe else ''}
	RESPOND TYPE=echo MSG="detected tool: {tc.tool_names[tn_detected] if tn_detected not in [-1, None] else None}"
	
	{% elif 'AX' in params and 'AM' in params %}
	
	{% set ax = params.AX|lower %}
	{% set am = params.AM|float %}
	{% set newv = (dock[ax]|float + am)|round(3) %}
	{ update_dock_pos(ax, newv) }
	G91
	G0 { ' ' ~ ax|upper ~ am }
	G90
	
	{% elif 'RESET_DOCK' in params %}
	{% for ax, val in state.orig_dock.items() %}
	{ update_dock_pos(ax, val) }
	{% endfor %}
	
	{% elif 'CLOSE' in params %}
	{ ui('end') }
	{% set _ = state.update({'ui_is_open': False}) %}
	{% set out = [] %}
	{% for ax in ( 'x', 'y', 'z' ) %}
	{% set _ = out.append('params_park_' ~ ax ~ ': ' ~ ('%.2f' % dock[ax])) %}
	SAVE_TOOL_PARAMETER T={tn} PARAMETER={'params_park_' ~ ax}
	{% endfor %}
	{%- set block -%}
	<div style='margin:6px 0 3px 0;'><b>{NAME}</b><br>New docking position is:</div>
	
	<div class='accent--text text--lighten-1'
	style='display:block; width:fit-content; max-width:100%;
	background:rgba(0,0,0,0.35); border:2px solid currentColor;
	border-radius:4px; padding:0.5em; box-sizing:border-box;'>
	<pre class='text--primary'
	style='margin:0; display:inline-block; max-width:100%;
	white-space:pre; overflow:auto; line-height:1.25em;
	padding:0 1em; box-sizing:border-box;'>{ out|join('<br>') }</pre>
	</div>
	
	<blockquote class='accent--text text--lighten-1'
	style='display:inline-block; width:fit-content; max-width:100%;
	margin-top:0.6em; white-space:normal;
	overflow-wrap:anywhere; word-break:break-word;
	padding:0.5em 0.75em; border-left:3px solid currentColor;
	background:rgba(255,255,255,0.06); line-height:1.25em;'>
	<span class='text--primary'>
	Either manually save these values,<br>
	or comment out the parking position in your config and call <b><code>SAVE_CONFIG</code></b>
	</span>
	</blockquote>
	{%- endset -%}
	
	{ action_respond_info(block|replace('\n','')) }
	
	{% elif 'RESET' in params %}
	{% set state = {'ui_is_open': False, 'idx': -1} %}
	
	{% elif 'SPD' in params %}
	{% set _ = state.update({'speed_multiplier': params.SPD|float|round(2)}) %}
	{ create_ui() }
	{% else %}
	{ create_ui() }
	
	{% set start_idx = pick_end + 2 if provided_tn is none else 0 %}
	{ move_step(cycle[start_idx]) }
	{% set _ = state.update({'ui_is_open': True, 'orig_dock': dock, 'idx': start_idx}) %}
	{% endif %}
	
	
	
	SET_GCODE_VARIABLE MACRO={NAME} VARIABLE=state VALUE="{state}"
	M400

[gcode_macro RESPOND]
rename_existing = _RESPOND_DOCK_TUNER_INFERRED
gcode = 
	_RESPOND_DOCK_TUNER_INFERRED {rawparams}
	
	{% if 'action:prompt_end' in rawparams and not 'RESPOND' in rawparams %}
	{% set state = printer['gcode_macro DOCK_TUNER'].state %}
	{% set _ = state.update({'ui_is_open': False}) %}
	SET_GCODE_VARIABLE MACRO=DOCK_TUNER VARIABLE=state VALUE="{state}"
	{% endif %}

[gcode_macro PRIME_LINES]
description = Prime all extruders before printing.
	INITIAL_TOOL= Tool number, optional. If this parameter is not provided, tool 0 is used.
variable_tools_per_x = 4
variable_lines_per_tool = 4
variable_line_step_y = 2
variable_spacing = 7
variable_ratio = 4
variable_x_neg_offset = 10
variable_x_pos_offset = 10
variable_y_offset = 16
variable_pre_prime = 12
variable_wipe_length = 6
variable_initial_tool_retract = 0.5
variable_docked_tool_retract = 0.5
variable_post_prime_retract = 4
variable_z_prime_pos = 0.2
variable_z_move_pos = 1
variable_move_speed = 10000
variable_prime_speed = 1000
variable_wipe_speed = 3000
variable_temp_drop = 30
gcode = 
	
	{% set max_x = printer.configfile.config["stepper_x"]["position_max"]|float %}
	{% set max_y = printer.configfile.config["stepper_y"]["position_max"]|float %}
	{% set line_length = (max_x-(x_neg_offset+x_pos_offset)-(spacing*(tools_per_x-1)))/tools_per_x %}
	{% set print_tools = [] %}
	
	
	{% for tn in printer.toolchanger.tool_numbers %}
	{% if tn <= 3 %}
	{% set extruder_id = "extruder" + tn|string if tn > 0 else "extruder" %}
	
	{% if printer[extruder_id].target >= printer.configfile.settings[extruder_id].min_extrude_temp %}
	
	{% set corvisquire = print_tools.append(tn) %}
	{% endif %}
	{% endif %}
	{% endfor %}
	
	
	{% if params.INITIAL_TOOL is defined %}
	{% set initial_tool = params.INITIAL_TOOL|int %}
	
	{% if initial_tool in print_tools and print_tools|length > 1 %}
	{% set snorlax = print_tools.pop(print_tools.index(initial_tool)) %}
	{print_tools.append(initial_tool)}
	{% endif %}
	
	{% if print_tools and printer.toolchanger.tool_number != initial_tool and printer.toolchanger.tool_number != print_tools[0] and printer.toolchanger.tool_number in print_tools %}
	{% set mimikyu = print_tools.pop(print_tools.index(printer.toolchanger.tool_number)) %}
	{% set bulbasaur = print_tools.insert(0, printer.toolchanger.tool_number) %}
	{% endif %}
	
	{% else %}
	{% set initial_tool = None %}
	{% endif %}
	
	{% for tn in print_tools %}
	
	T{tn}
	AFC_BRUSH
	
	{% set extruder_id = "extruder" + tn|string if tn > 0 else "extruder" %}
	{% set t_idx = print_tools.index(tn) %}
	{% set y_idx = (t_idx/tools_per_x)|int %}
	{% set x_tool_list = print_tools[y_idx*tools_per_x:] %}
	{% set x_idx = x_tool_list.index(tn) %}
	{% set prime_start_x = x_neg_offset + (x_idx*line_length) + (x_idx*spacing) %}
	{% set prime_start_y = y_offset + (line_step_y*(lines_per_tool-1)) + (y_idx*spacing) %}
	
	
	G0 X{prime_start_x} Y{prime_start_y} Z{z_move_pos} F{move_speed}
	G0 Z{z_prime_pos} F{move_speed}
	
	
	M109 S{printer[extruder_id].target} T{tn} D20
	
	
	M117 Priming T{tn}
	M83
	G92 E0
	G91
	G1 E{pre_prime} F{prime_speed}
	
	{% for i in range(lines_per_tool) %}
	{% set last_line = i == lines_per_tool-1 %}
	{% set segment = ((line_length/ratio)-2)|int if last_line else ((line_length/ratio)+1)|int %}
	
	{% if i % 2 == 0 %}
	{% for _i in range(1, segment) %}
	G1 X{ratio} E1 F{prime_speed}
	{% endfor %}
	{% else %}
	{% for _i in range(1, segment) %}
	G1 X-{ratio} E1 F{prime_speed}
	{% endfor %}
	{% endif %}
	
	{% if not last_line %}
	G1 Y-{line_step_y} E{(line_step_y/ratio)*1} F{move_speed}
	{% endif %}
	{% endfor %}
	
	G1 E-{initial_tool_retract if tn == initial_tool else docked_tool_retract} F{wipe_speed}
	G0 X{-0.5 if lines_per_tool % 2 == 0 else 0.5} F{wipe_speed}
	G0 X{wipe_length-0.5 if lines_per_tool % 2 == 0 else -(wipe_length-0.5)} F{wipe_speed}
	G0 Z{z_move_pos}
	
	
	{% if params.INITIAL_TOOL is defined %}
	{% if initial_tool in print_tools %}
	{% if tn != initial_tool %}
	M104 S{printer[extruder_id].target-temp_drop} T{tn}
	{% endif %}
	{% endif %}
	{% endif %}
	
	G90
	
	{% endfor %}

[gcode_macro TEST_RESONANCES]
rename_existing = TEST_RESONANCES_BASE
gcode = 
	{% if printer.toolchanger.status == "uninitialized" %}
	RESPOND TYPE=error MSG='Toolchanger is not initialized. Please run INITIALIZE_TOOLCHANGER.'
	{% else %}
	{% set toolname = printer.toolchanger.tool %}
	{% set tool = printer[toolname] %}
	{% set newparams = rawparams ~ " CHIPS=\"" ~ tool.resonance_chip ~ "\"" %}
	RESPOND TYPE=echo MSG='{"Test Resonances for " ~ toolname}'
	TEST_RESONANCES_BASE {newparams}
	{% endif %}

[gcode_macro SHAPER_CALIBRATE]
rename_existing = SHAPER_CALIBRATE_BASE
gcode = 
	{% if printer.toolchanger.status == "uninitialized" %}
	RESPOND TYPE=error MSG='Toolchanger is not initialized. Please run INITIALIZE_TOOLCHANGER.'
	{% else %}
	{% set toolname = printer.toolchanger.tool %}
	{% set tool = printer[toolname] %}
	{% set newparams = rawparams ~ " CHIPS=\"" ~ tool.resonance_chip ~ "\"" %}
	RESPOND TYPE=echo MSG='{"Shaper Calibrate for " ~ toolname}'
	SHAPER_CALIBRATE_BASE {newparams}
	{% endif %}

[gcode_macro ACCELEROMETER_QUERY]
rename_existing = ACCELEROMETER_QUERY_BASE
gcode = 
	{% if printer.toolchanger.status == "uninitialized" %}
	RESPOND TYPE=error MSG='Toolchanger is not initialized. Please run INITIALIZE_TOOLCHANGER.'
	{% else %}
	{% set toolname = printer.toolchanger.tool %}
	{% set tool = printer[toolname] %}
	{% set reschip = tool.resonance_chip.split()[1] %}
	{% set newparams = rawparams ~ " CHIP=\"" ~ reschip ~"\"" %}
	RESPOND TYPE=echo MSG='{"Accelerometer Query for %s with Chip %s" % (toolname, reschip)}'
	ACCELEROMETER_QUERY_BASE {newparams}
	{% endif %}

[gcode_macro _RAISE]
gcode = 
	RESPOND TYPE=error MSG="[_RAISE] {params.MSG|default('dunno why')}"

[gcode_macro _TOOLCHANGE_ERROR_HANDLER]
description = "A UI to allow you to handle toolchange failures and recover them"
variable_state = {}
variable_tool_temps = {}
gcode = 
	{% set NAME = '_TOOLCHANGE_ERROR_HANDLER' %}
	{% set tc   = printer.toolchanger %}
	{% if tc.has_detection %}
	{% set actn = tc.detected_tool_number %}
	{% elif 'tool_probe_endstop' in printer %}
	{% set actn = printer.tool_probe_endstop.active_tool_number %}
	{% else %}
	{ action_raise_error('you need some kind of detection setup to do this automatically...') }
	{% endif %}
	{% set tn = state.get('tool_failed', params.get('T', -1))|int(-1) %}
	{ action_raise_error(NAME ~ ': Please first call with a T=<int> to recover.') if tn == -1 else '' }
	
	{% set tool       = printer[tc.tool_names[tn]] %}
	{% set speed_div  = tool.params_failure_speed_divider|default(5.0) %}
	{% set dock       = { 'x': tool['params_park_x']|float,
	'y': tool['params_park_y']|float,
	'z': tool['params_park_z']|float } %}
	
	{% set path       = tool['params_pickup_path'] %}
	{% set close_y    = tool.params_close_y|float %}
	{% set safe_y     = tool.params_safe_y|float %}
	{% set mul        = state.get('speed_multiplier', 1.0)|float %}
	{% set div        = (1.0 if 'FAST' in params else speed_div)|float %}
	{% set accel      = (printer.toolhead.max_accel if 'FAST' in params else tool.failure_acceleration|default(1000)) %}
	{% set path_speed = (tool.params_path_speed|float / div) * mul %}
	{% set fast       = (tool.params_fast_speed|float / div) * mul %}
	
	{% if 'T' in params %}
	{% set _ = state.update({'tool_failed': tn, 'original_park': dock}) %}
	{% endif %}
	
	
	{% macro ui(m) %}{- action_respond_info('action:prompt_' ~ m) -}{% endmacro %}
	{% macro but(m, sec=None) %}
	{ ui('button_group_start') if sec in ['first','both'] else '' }
	{ ui('button ' ~ m) }
	{ ui('button_group_end')   if sec in ['last','both']  else '' }
	{% endmacro %}
	
	{% macro create_ui() %}
	{% set C_SLOW, C_FAST, C_RESET = (120,200,160), (225,120,145), (155,150,205) %}
	{% set AX_COL  = {'X': (200,110,120), 'Y': (120,185,150), 'Z': (120,150,210)} %}
	{% set STEP_A  = {-0.5:0.6, -0.1:0.5, 0.1:0.5, 0.5:0.6} %}
	{% set base_alpha = 0.70 %}
	
	{ ui('begin Toolchange Failure Recovery (' ~ tool.name|replace('tool ', '') ~ ')') }
	
	{ ui('text Try recovery') }
	{ but('[ âŸ³ try again ]|'     ~ NAME ~ ' RETRY=TRY|'        ~ 'rgba(80,145,160,0.85)', 'first') }
	{ but('[ >>> try fast ]|'     ~ NAME ~ ' RETRY=TRY FAST=1|' ~ 'rgba(220,140,120,0.85)', 'last')  }
	{ but('[ recover manually ]|' ~ NAME ~ ' MOVE_TO_MANUAL=1|' ~ 'rgba(170,160,200,0.80)', 'both') }
	{ ui('show') }
	{ ui('text Adjust docking position') }
	{% for AX, col in AX_COL.items() %}
	{ ui('button_group_start') }
	{% for inc, a in STEP_A.items() %}
	{% set sgn = '+' if inc > 0 else '' %}
	{ ui('button ' ~ AX ~ sgn ~ inc ~ '|' ~ NAME ~ ' AX=' ~ AX ~ ' AM=' ~ inc ~ '|' ~ 'rgba(' ~ col|join(',') ~ ',' ~ a ~ ')') }
	{% endfor %}
	{ ui('button_group_end') }
	{% endfor %}
	{ ui('show') }
	{ ui('text Tune docking speed') }
	{% set cur = state.get('speed_multiplier', 1.0) %}
	{% set al1 = (0.10 if (cur - 1.0)|abs <= 0.01 else base_alpha) %}
	{ but('Ã—' ~ ('%.2f' % 1.0) ~ '|' ~ NAME ~ ' SPD=' ~ 1.0 ~ '|' ~ 'rgba(' ~ C_RESET|join(',') ~ ',' ~ al1 ~ ')', 'both') }
	{ ui('button_group_start') }
	{% for mult in [0.25, 0.50, 1.50, 2.00] %}
	{% set rgb = C_SLOW if mult < 1 else (C_FAST if mult > 1 else C_RESET) %}
	{% set a   = (0.10 if (cur - mult)|abs <= 0.01 else base_alpha) %}
	{ ui('button Ã—' ~ ('%.2f' % mult) ~ '|' ~ NAME ~ ' SPD=' ~ mult ~ '|' ~ 'rgba(' ~ rgb|join(',') ~ ',' ~ a ~ ')') }
	{% endfor %}
	{ ui('button_group_end') }
	
	{ but('button [ â™» reset dock ]|' ~ NAME ~ ' RESET=1|' ~ 'rgba(' ~ C_RESET|join(',') ~ ',' ~ base_alpha ~ ')', 'both') }
	
	{ ui('footer_button [ âœ” continue ]|' ~ NAME ~ ' CONTINUE=1|' ~ 'rgba(120,200,140,0.85)') }
	{ ui('footer_button [ âœ– cancel ]|'   ~ NAME ~ ' CANCEL=1|'   ~ 'rgba(210,110,110,0.85)') }
	{ ui('show') }
	
	{% set _ = state.update( {'modified_ui': False } ) %}
	{% endmacro %}
	
	
	{% macro run_path(mode) %}
	G90
	{% set m = {'from_verify_reverse': 0, 'to_verify': 1, 'from_verify': 2}.get(mode, -1) %}
	{% set steps = (path|reverse if m == 0 else path) %}
	{% set ns = namespace(emit = (m == 1)) %}
	{% for step in steps if m != -1 %}
	{% set isv = 'verify' in step %}
	{% set ns.emit = True if not ns.emit and m in [0, 2] and isv else ns.emit %}
	{% if ns.emit and not (isv and m == 2) %}
	{% set ff = (path_speed * step.get('f', 1.0)|float)|round(2) %}
	G0{%- for ax in ['x','y','z'] if ax in step -%}{' ' ~ ax|upper ~ (dock[ax]|float + step[ax]|float)}{%- endfor %} F{ff}
	{% set ns.emit = False if m == 1 and isv else ns.emit %}
	{% endif %}
	{% else %}
	{ action_raise_error('run_path: invalid mode') }
	{% endfor %}
	{% endmacro %}
	
	{% macro print_updated_dock_pos() %}
	{% set out = [] %}
	{% for ax in ( 'x', 'y', 'z' ) %}
	{% set _ = out.append('params_park_' ~ ax ~ ': ' ~ ('%.2f' % dock[ax])) %}
	SAVE_TOOL_PARAMETER T={tn} PARAMETER={'params_park_' ~ ax}
	{% endfor %}
	{%- set block -%}
	<div style='margin:6px 0 3px 0;'><b>{NAME}</b><br>New docking position is:</div>
	<div class='accent--text text--lighten-1'
	style='display:block; width:fit-content; max-width:100%; background:rgba(0,0,0,0.35); border:2px solid currentColor;
	border-radius:4px; padding:0.5em; box-sizing:border-box;'>
	<pre class='text--primary' style='margin:0; display:inline-block; max-width:100%; white-space:pre;
	overflow:auto; line-height:1.25em; padding:0 1em; box-sizing:border-box;'>{ out|join('<br>') }
	</pre>
	</div>
	<blockquote class='accent--text text--lighten-1'
	style='display:inline-block; width:fit-content; max-width:100%;
	margin-top:0.6em; white-space:normal;
	overflow-wrap:anywhere; word-break:break-word;
	padding:0.5em 0.75em; border-left:3px solid currentColor;
	background:rgba(255,255,255,0.06); line-height:1.25em;'>
	<span class='text--primary'>
	Either manually save these values,<br>
	or comment out the parking position in your config and call <b><code>SAVE_CONFIG</code></b>
	</span>
	</blockquote>
	{%- endset -%}
	{ action_respond_info(block|replace('\n','')) }
	{% endmacro %}
	
	{% macro update_val(ax, val) %}
	{% if variable_helper is defined %}
	{% import variable_helper as svh with context %}
	{ svh.svf_update('dock_' ~ tool.name|lower|replace('tool ', '') ~ '.' ~ ax, val) }
	{% endif %}
	SET_TOOL_PARAMETER T={tn} PARAMETER={ 'params_park_' ~ ax } VALUE={val}
	G91
	G0 {ax}{val}
	G90
	{% endmacro %}
	
	
	{% if 'CANCEL' in params %}
	{ ui('end') }
	{% set _ = state.clear() %}
	{ print_updated_dock_pos() }
	M400
	CANCEL_PRINT_BASE
	
	{% elif 'CONTINUE' in params and actn == tn %}
	{ ui('end') }
	{% set _ = state.clear() %}
	{ print_updated_dock_pos() }
	M400
	INITIALIZE_TOOLCHANGER RECOVER=1 T={tn}
	
	{% elif 'CONTINUE' in params and actn != tn and not state.get('modified_ui', True) %}
	{ ui('text This cannot continue... Tool not detected.') }
	{ but('DETECT_ACTIVE_TOOL_PROBE|DETECT_ACTIVE_TOOL_PROBE|rgba(120,200,140,0.85)', both) if not tc.has_detection else '' }
	{ ui('show') }
	{% set _ = state.update( {'modified_ui': True } ) %}
	
	{% elif 'AX' in params and 'AM' in params %}
	{% set ax = params.AX|lower %}
	{% set am = params.AM|float %}
	{% set new_pos = (dock[ax]|float + am)|round(3) %}
	{ update_val(ax, new_pos) }
	
	{% elif 'RESET' in params %}
	{% set op = state.get('original_park', {}) %}
	{% for ax in ['x','y','z'] if ax in op %}
	{ update_val(ax, op[ax]) }
	{% else %}
	{ action_raise_error(NAME ~ ': missing original snapshot, cannot restore.') }
	{% endfor %}
	
	{% elif 'MOVE_TO_MANUAL' in params %}
	SET_VELOCITY_LIMIT ACCEL={ accel }
	{'DETECT_ACTIVE_TOOL_PROBE' if not tc.has_detection else ''}
	ROUNDED_G0 Y={safe_y} F={fast} D=40
	ROUNDED_G0 D=0
	SET_VELOCITY_LIMIT ACCEL={ printer.toolhead.max_accel }
	
	{% elif 'RETRY' in params %}
	SET_VELOCITY_LIMIT ACCEL={ accel }
	{% if params.RETRY == 'TRY' %}
	{% if tn == actn %}
	{ run_path('from_verify_reverse') }
	{% else %}
	ROUNDED_G0 Z={dock['z'] + path[0].get('z', 0)|float} F={fast} D=50
	ROUNDED_G0 X={dock['x']} F={fast} D=50
	{% endif %}
	ROUNDED_G0 Y={close_y} F={fast} D=5
	ROUNDED_G0{%- for ax in ['x','y','z'] -%}{' ' ~ ax|upper ~ '=' ~ (dock[ax] + path[0].get(ax, 0)|float)}{%- endfor %} F={fast} D=0
	{ run_path('to_verify') }
	M400
	{ 'DETECT_ACTIVE_TOOL_PROBE' if not tc.has_detection else '' }
	UPDATE_DELAYED_GCODE ID=_verify_pickup_error_handler DURATION=0.1
	{% elif params.RETRY == 'SUCCESS' %}
	{ run_path('from_verify') }
	{% elif params.RETRY == 'FAIL' %}
	{ run_path('from_verify_reverse') }
	{% endif %}
	SET_VELOCITY_LIMIT ACCEL={ printer.toolhead.max_accel }
	
	{% elif 'SPD' in params %}
	{% set _ = state.update({'speed_multiplier': params.SPD|float|round(2)}) %}
	{ create_ui() }
	
	{% else %}
	{ create_ui() }
	{% endif %}
	
	SET_GCODE_VARIABLE MACRO={NAME} VARIABLE=state VALUE="{state}"
	M400

[delayed_gcode _verify_pickup_error_handler]
gcode = 
	{% set tc = printer.toolchanger %}
	{% if tc.has_detection %}
	{% set actn = tc.detected_tool_number %}
	{% elif 'tool_probe_endstop' in printer %}
	{% set actn = printer.tool_probe_endstop.active_tool_number %}
	{% endif %}
	{% set tn = printer['gcode_macro _TOOLCHANGE_ERROR_HANDLER'].state.tool_failed %}
	{% if tn == actn %}
	_toolchange_error_handler RETRY=SUCCESS
	{% else %}
	_toolchange_error_handler RETRY=FAIL
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.043242, -0.043489, -0.075857, -0.098540, -0.089857, -0.090388, -0.095778, -0.099884, -0.084252, -0.080772, -0.078080, -0.069394, -0.070901, -0.066546, -0.067556, -0.060723, -0.077029, -0.069540, -0.079839, -0.083265, -0.091267, -0.080732, -0.089871, -0.093842, -0.096508, -0.090893, -0.096551, -0.090893, -0.090851, -0.074193
	-0.047747, -0.046914, -0.064826, -0.082176, -0.074049, -0.080256, -0.082455, -0.084104, -0.077324, -0.067728, -0.062708, -0.058555, -0.055460, -0.052449, -0.053680, -0.052203, -0.065045, -0.061706, -0.064682, -0.071751, -0.074056, -0.071896, -0.080383, -0.087192, -0.090482, -0.086005, -0.093381, -0.093345, -0.092987, -0.087977
	-0.054698, -0.046454, -0.058497, -0.077906, -0.065419, -0.071571, -0.075086, -0.074099, -0.071088, -0.062057, -0.055847, -0.046657, -0.046179, -0.040434, -0.042961, -0.045680, -0.052456, -0.052907, -0.056923, -0.067613, -0.066758, -0.067901, -0.072707, -0.083804, -0.083891, -0.085305, -0.087401, -0.088872, -0.085691, -0.083747
	-0.056107, -0.049480, -0.062433, -0.069942, -0.057522, -0.067606, -0.071578, -0.071118, -0.065101, -0.064538, -0.055471, -0.046483, -0.039977, -0.041633, -0.043097, -0.043097, -0.050446, -0.049649, -0.061043, -0.065397, -0.065638, -0.072842, -0.074078, -0.087279, -0.089972, -0.085949, -0.093489, -0.089420, -0.089326, -0.089584
	-0.057247, -0.049328, -0.062978, -0.065202, -0.059567, -0.067700, -0.069482, -0.061389, -0.058742, -0.053314, -0.050713, -0.037180, -0.029581, -0.033538, -0.033643, -0.039777, -0.043533, -0.042866, -0.051601, -0.055833, -0.064855, -0.068399, -0.074618, -0.090132, -0.096501, -0.086645, -0.090642, -0.084568, -0.083855, -0.081661
	-0.054203, -0.051198, -0.065260, -0.069850, -0.058724, -0.065515, -0.065072, -0.058388, -0.048865, -0.049837, -0.034638, -0.037166, -0.019530, -0.024641, -0.029464, -0.034713, -0.037362, -0.046642, -0.055684, -0.058590, -0.065376, -0.067052, -0.078195, -0.092171, -0.087395, -0.089513, -0.090273, -0.080588, -0.084525, -0.086516
	-0.052825, -0.050236, -0.062690, -0.066980, -0.058865, -0.061288, -0.062539, -0.051629, -0.041104, -0.043446, -0.037231, -0.024557, -0.012977, -0.018630, -0.025241, -0.027959, -0.034082, -0.042215, -0.046751, -0.051013, -0.064020, -0.059589, -0.074380, -0.087278, -0.088100, -0.077158, -0.083242, -0.069785, -0.072019, -0.075000
	-0.048709, -0.050178, -0.065050, -0.062093, -0.054394, -0.057099, -0.058402, -0.046947, -0.033821, -0.033952, -0.036601, -0.028152, -0.011351, -0.017969, -0.027356, -0.030211, -0.037892, -0.037369, -0.043794, -0.052487, -0.056408, -0.062437, -0.072178, -0.090642, -0.091190, -0.084312, -0.069675, -0.068594, -0.070958, -0.071650
	-0.043532, -0.043228, -0.055500, -0.059118, -0.046283, -0.052767, -0.049402, -0.043199, -0.040369, -0.030670, -0.024920, -0.018893, -0.009189, -0.014096, -0.021533, -0.023715, -0.022580, -0.026922, -0.037158, -0.045473, -0.053795, -0.061851, -0.070793, -0.084366, -0.087530, -0.075260, -0.062116, -0.054916, -0.061689, -0.062255
	-0.034641, -0.040268, -0.055739, -0.056570, -0.043692, -0.051194, -0.050168, -0.044972, -0.037689, -0.030750, -0.015994, -0.012174, -0.012284, -0.013005, -0.015674, -0.018536, -0.024946, -0.031431, -0.040064, -0.048140, -0.053301, -0.056309, -0.065332, -0.086821, -0.083488, -0.069971, -0.051893, -0.053797, -0.060088, -0.059903
	-0.031456, -0.033871, -0.049596, -0.049792, -0.043576, -0.049118, -0.049316, -0.040805, -0.034345, -0.025835, -0.018544, -0.008730, -0.003340, -0.005936, -0.009203, -0.012284, -0.022912, -0.028355, -0.033135, -0.039455, -0.049150, -0.060756, -0.072438, -0.078837, -0.072881, -0.062364, -0.050970, -0.049589, -0.055976, -0.051392
	-0.024782, -0.028603, -0.044041, -0.046546, -0.034231, -0.037718, -0.041097, -0.034185, -0.025241, -0.015288, -0.009752, -0.006702, -0.003082, -0.000547, -0.004090, -0.011781, -0.021890, -0.024542, -0.028260, -0.039832, -0.053267, -0.059299, -0.064174, -0.073345, -0.062581, -0.059314, -0.053439, -0.050563, -0.055609, -0.049171
	-0.022247, -0.018689, -0.033908, -0.040790, -0.034622, -0.030927, -0.036571, -0.026259, -0.018135, -0.009793, -0.006728, -0.005835, 0.002371, 0.002781, -0.000437, -0.002587, -0.003418, -0.006636, -0.011971, -0.034364, -0.049299, -0.052661, -0.065332, -0.064625, -0.049214, -0.050534, -0.049063, -0.040550, -0.042322, -0.039839
	-0.015193, -0.018412, -0.029015, -0.034888, -0.033962, -0.031445, -0.031048, -0.021511, -0.014596, -0.004854, -0.005559, 0.001291, 0.002495, 0.001152, 0.002246, -0.001050, -0.012415, -0.010277, -0.012159, -0.029345, -0.050011, -0.052038, -0.060088, -0.052434, -0.044070, -0.046541, -0.046635, -0.037108, -0.042046, -0.039101
	-0.015448, -0.015309, -0.026229, -0.034147, -0.037086, -0.033223, -0.024877, -0.021846, -0.012342, -0.002982, -0.004331, 0.009746, 0.007326, 0.005380, 0.008531, 0.005094, -0.006009, -0.007223, -0.012729, -0.026617, -0.050214, -0.053731, -0.053330, -0.050256, -0.046348, -0.043562, -0.042373, -0.035412, -0.038328, -0.034873
	-0.021977, -0.021868, -0.031580, -0.039189, -0.037646, -0.037653, -0.034797, -0.027974, -0.022349, -0.007191, -0.012284, 0.000259, -0.000686, -0.000642, -0.000101, -0.005122, -0.016229, -0.022072, -0.027959, -0.043904, -0.059335, -0.062683, -0.056338, -0.055971, -0.050519, -0.047129, -0.046515, -0.042345, -0.051445, -0.043199
	-0.029491, -0.025066, -0.033958, -0.041197, -0.037493, -0.034742, -0.037129, -0.030617, -0.020577, -0.016433, -0.011365, -0.010014, -0.004317, -0.003520, -0.003842, -0.015936, -0.019374, -0.025489, -0.032771, -0.052385, -0.071362, -0.062889, -0.065838, -0.065303, -0.049301, -0.047888, -0.053057, -0.050156, -0.054100, -0.046744
	-0.036353, -0.034093, -0.043489, -0.049721, -0.045831, -0.045662, -0.040601, -0.034236, -0.032011, -0.025751, -0.025182, -0.019039, -0.021882, -0.021817, -0.025153, -0.022116, -0.024644, -0.036897, -0.049880, -0.065491, -0.075437, -0.068558, -0.075260, -0.071874, -0.057075, -0.056498, -0.059604, -0.056512, -0.060884, -0.057004
	-0.045552, -0.040267, -0.049967, -0.054632, -0.052709, -0.052941, -0.044586, -0.040921, -0.037973, -0.032084, -0.027984, -0.022335, -0.025255, -0.029135, -0.031296, -0.031270, -0.037791, -0.044114, -0.056283, -0.075592, -0.082471, -0.082036, -0.083337, -0.078656, -0.068125, -0.060044, -0.065679, -0.062676, -0.065737, -0.055913
	-0.056411, -0.049779, -0.059633, -0.065534, -0.059571, -0.061397, -0.058807, -0.059184, -0.052922, -0.049856, -0.037631, -0.039159, -0.035044, -0.040899, -0.046222, -0.050366, -0.052965, -0.056445, -0.071463, -0.084489, -0.094739, -0.093777, -0.092572, -0.090878, -0.082686, -0.071961, -0.073491, -0.072873, -0.072672, -0.065984
	-0.062914, -0.054865, -0.067073, -0.071881, -0.069972, -0.067455, -0.062621, -0.065072, -0.061191, -0.056708, -0.046186, -0.045716, -0.050018, -0.046969, -0.049996, -0.059140, -0.061619, -0.062719, -0.071434, -0.084500, -0.098336, -0.103816, -0.105420, -0.102131, -0.094057, -0.079119, -0.080042, -0.075303, -0.074454, -0.068421
	-0.062676, -0.059479, -0.078938, -0.081921, -0.078823, -0.075766, -0.079823, -0.080811, -0.077281, -0.071896, -0.062115, -0.055935, -0.057696, -0.061699, -0.062857, -0.065563, -0.072069, -0.075076, -0.079235, -0.088855, -0.106948, -0.109663, -0.113374, -0.112900, -0.105054, -0.090267, -0.084640, -0.084954, -0.087438, -0.072091
	-0.065927, -0.059862, -0.078180, -0.086898, -0.083512, -0.091087, -0.087869, -0.090835, -0.083195, -0.077742, -0.074404, -0.059705, -0.068825, -0.072142, -0.073558, -0.075520, -0.076772, -0.088129, -0.096021, -0.096350, -0.109983, -0.115881, -0.119978, -0.123638, -0.110543, -0.095480, -0.094309, -0.090676, -0.090604, -0.075245
	-0.062111, -0.062368, -0.084489, -0.088519, -0.087566, -0.092364, -0.093475, -0.093791, -0.091773, -0.091145, -0.084864, -0.078349, -0.078635, -0.081639, -0.083790, -0.085282, -0.094079, -0.100300, -0.106108, -0.106833, -0.122299, -0.118866, -0.123617, -0.129520, -0.125732, -0.104766, -0.106804, -0.096745, -0.094569, -0.078700
	-0.048333, -0.053274, -0.082646, -0.091253, -0.085590, -0.093661, -0.096817, -0.097982, -0.096654, -0.092702, -0.088079, -0.088028, -0.087292, -0.087588, -0.092293, -0.094381, -0.097356, -0.101360, -0.106962, -0.113568, -0.119739, -0.123115, -0.128912, -0.139260, -0.132658, -0.109660, -0.108433, -0.100702, -0.097011, -0.075722
	-0.028501, -0.047245, -0.080904, -0.091260, -0.090044, -0.098721, -0.100100, -0.103558, -0.103881, -0.099956, -0.098469, -0.097413, -0.094545, -0.099526, -0.102775, -0.106761, -0.107923, -0.107034, -0.112707, -0.122978, -0.126015, -0.129016, -0.135545, -0.145189, -0.138946, -0.111666, -0.113475, -0.103787, -0.100573, -0.075874
	-0.012051, -0.034228, -0.078036, -0.091238, -0.093877, -0.106438, -0.110443, -0.110734, -0.110228, -0.107617, -0.103702, -0.106776, -0.104722, -0.106481, -0.110429, -0.115645, -0.116576, -0.118146, -0.124311, -0.128878, -0.132078, -0.133425, -0.139217, -0.150355, -0.149836, -0.122721, -0.122639, -0.112250, -0.106991, -0.072373
	-0.001110, -0.033865, -0.069173, -0.091224, -0.100552, -0.110306, -0.111414, -0.113044, -0.110055, -0.109847, -0.110371, -0.112771, -0.113030, -0.113735, -0.119896, -0.122943, -0.128403, -0.128812, -0.132658, -0.135909, -0.137877, -0.135828, -0.141961, -0.148434, -0.145574, -0.129113, -0.130624, -0.122649, -0.110213, -0.071853
	0.015042, -0.009958, -0.052767, -0.083826, -0.102911, -0.110109, -0.110543, -0.113469, -0.114446, -0.114575, -0.112504, -0.109843, -0.106761, -0.109746, -0.111251, -0.117536, -0.123136, -0.125943, -0.127185, -0.135000, -0.141537, -0.137365, -0.138846, -0.148905, -0.148008, -0.135271, -0.138716, -0.125879, -0.106325, -0.069257
	0.009921, -0.024136, -0.071773, -0.101019, -0.123180, -0.132802, -0.136259, -0.145060, -0.149126, -0.148178, -0.145253, -0.137039, -0.125747, -0.124643, -0.131479, -0.132459, -0.131757, -0.137087, -0.145417, -0.155502, -0.161649, -0.160236, -0.164663, -0.173760, -0.171418, -0.163229, -0.155744, -0.140187, -0.119109, -0.084907
min_x = 16.0
max_x = 330.0
min_y = 45.0
max_y = 335.0
x_count = 30
y_count = 30
mesh_x_pps = 0
mesh_y_pps = 0
algo = bicubic
tension = 0.2

[bed_mesh ABS]
version = 1
points = 
	0.002344, 0.032344, 0.029531, 0.009844, 0.024375
	-0.001406, 0.011719, -0.006563, -0.046875, -0.019219
	0.038906, 0.026719, 0.000000, -0.082969, -0.037031
	0.016406, 0.014063, -0.022969, -0.080156, -0.021562
	0.019688, 0.032344, 0.032344, 0.003281, 0.020625
min_x = 40.0
max_x = 310.0
min_y = 40.0
max_y = 310.0
x_count = 5
y_count = 5
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2

[bed_mesh hightemp]
version = 1
points = 
	-0.036094, 0.009375, 0.007969, -0.015938, -0.030000
	-0.038906, 0.001875, -0.006563, -0.057656, -0.058125
	-0.006094, 0.015000, 0.000000, -0.087656, -0.060937
	-0.037031, 0.000938, -0.009375, -0.099375, -0.055781
	-0.035625, -0.005625, 0.009375, -0.022031, -0.023437
min_x = 40.0
max_x = 310.0
min_y = 40.0
max_y = 310.0
x_count = 5
y_count = 5
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2

[bed_mesh 65]
version = 1
points = 
	-0.067827, -0.079987, -0.104674, -0.114834, -0.107100, -0.105275, -0.101341, -0.093404, -0.081167, -0.085455, -0.075223, -0.071510, -0.070287, -0.069335, -0.049872, -0.050567, -0.053788, -0.049224, -0.049972, -0.051833, -0.048105, -0.049077, -0.055062, -0.046061, -0.044208, -0.029676, -0.034796, -0.018455, -0.030784, -0.035160, -0.037563, -0.032557, -0.030712, -0.025781, -0.018830, -0.020035, -0.030086, -0.044299, -0.056690, -0.053967, -0.046878, -0.033368, -0.035549, -0.038064, -0.044366, -0.054193, -0.064392, -0.072834, -0.078439, -0.071501
	-0.064550, -0.073740, -0.091795, -0.093786, -0.073970, -0.074339, -0.068759, -0.057013, -0.052812, -0.059070, -0.050597, -0.044236, -0.036351, -0.039626, -0.024845, -0.017192, -0.027591, -0.021083, -0.015702, -0.018030, -0.014019, -0.016109, -0.022673, -0.008952, -0.001785, 0.011715, -0.002097, -0.007834, -0.014169, -0.013915, -0.033323, -0.028876, -0.028678, -0.028126, -0.014082, -0.014268, -0.028374, -0.042720, -0.053908, -0.056035, -0.048937, -0.046296, -0.046708, -0.048577, -0.055804, -0.061565, -0.073442, -0.081319, -0.084004, -0.081509
	-0.062740, -0.047585, -0.064973, -0.079379, -0.061645, -0.051824, -0.059235, -0.042698, -0.034291, -0.040518, -0.039090, -0.035064, -0.023079, -0.029989, -0.022159, -0.011199, -0.009683, -0.013034, -0.008454, -0.012274, -0.006590, -0.006211, -0.013237, -0.006701, 0.009218, 0.014802, 0.007908, 0.004943, -0.012231, -0.013258, -0.004102, -0.003811, -0.006999, -0.009355, -0.000948, 0.002332, -0.010938, -0.025009, -0.037845, -0.043845, -0.046705, -0.044108, -0.043636, -0.046269, -0.054847, -0.063032, -0.073251, -0.080470, -0.083507, -0.085951
	-0.057096, -0.064496, -0.074795, -0.090778, -0.082735, -0.076243, -0.076182, -0.071617, -0.058627, -0.056694, -0.059739, -0.064221, -0.052627, -0.057574, -0.047658, -0.039543, -0.027306, -0.027218, -0.017375, -0.019834, -0.013555, -0.017429, -0.024763, -0.013675, -0.004111, -0.005367, -0.007791, -0.004690, -0.016931, -0.009020, -0.005160, -0.003853, -0.015516, -0.001690, -0.000993, -0.003372, -0.024580, -0.033088, -0.042216, -0.035240, -0.036391, -0.041220, -0.040231, -0.045175, -0.055467, -0.062052, -0.073633, -0.081415, -0.086157, -0.083253
	-0.059334, -0.040067, -0.052748, -0.079610, -0.068175, -0.058783, -0.064503, -0.051975, -0.040691, -0.041294, -0.047248, -0.040728, -0.033765, -0.034830, -0.030695, -0.036567, -0.049934, -0.037887, -0.036818, -0.040715, -0.037655, -0.041044, -0.042897, -0.032856, -0.032809, -0.032657, -0.029165, -0.035543, -0.038916, -0.041312, -0.035100, -0.043629, -0.035015, -0.025655, -0.022945, -0.028330, -0.041894, -0.056422, -0.063097, -0.058115, -0.060045, -0.064183, -0.062966, -0.066688, -0.072980, -0.079212, -0.086711, -0.090951, -0.092786, -0.083360
	-0.041644, -0.052282, -0.066411, -0.074244, -0.068956, -0.053842, -0.057566, -0.048253, -0.043133, -0.041971, -0.042088, -0.041323, -0.037304, -0.046616, -0.043936, -0.032956, -0.039311, -0.037578, -0.032209, -0.036462, -0.034257, -0.039741, -0.036090, -0.033835, -0.026826, -0.033965, -0.026227, -0.028832, -0.037095, -0.040221, -0.031281, -0.038888, -0.036770, -0.034871, -0.022812, -0.021321, -0.034017, -0.048402, -0.058390, -0.060175, -0.060426, -0.058214, -0.062701, -0.062626, -0.069307, -0.071940, -0.081174, -0.090482, -0.092627, -0.089633
	-0.051416, -0.065980, -0.080661, -0.082372, -0.072144, -0.071334, -0.067291, -0.059812, -0.060984, -0.060261, -0.058259, -0.058641, -0.060270, -0.049820, -0.048432, -0.035874, -0.048618, -0.043323, -0.022474, -0.022567, -0.016563, -0.023230, -0.014064, -0.016797, -0.014105, -0.012438, -0.006093, -0.020299, -0.019360, -0.025336, -0.025816, -0.017245, -0.011830, -0.008303, -0.001484, -0.004747, -0.020142, -0.034298, -0.045876, -0.048613, -0.055954, -0.053425, -0.058237, -0.059104, -0.066000, -0.067273, -0.079457, -0.089191, -0.091414, -0.090435
	-0.054795, -0.036499, -0.056669, -0.063702, -0.052499, -0.045281, -0.042375, -0.027266, -0.032249, -0.036373, -0.030393, -0.029030, -0.030216, -0.018023, -0.017871, -0.013855, -0.014654, -0.004487, -0.001459, -0.009080, -0.004025, -0.014321, -0.003846, -0.009242, -0.007482, -0.006508, 0.000414, -0.014535, -0.014178, -0.024980, -0.028594, -0.030969, -0.015117, -0.018171, -0.014650, -0.020730, -0.036792, -0.053268, -0.055890, -0.062487, -0.070730, -0.072095, -0.071801, -0.073400, -0.077832, -0.077662, -0.087587, -0.094436, -0.099082, -0.091393
	-0.045458, -0.022772, -0.038325, -0.048863, -0.045671, -0.033972, -0.034052, -0.026346, -0.027872, -0.028061, -0.026959, -0.025101, -0.020880, -0.014924, -0.017812, -0.005474, -0.010856, -0.003061, 0.001059, -0.001519, 0.003453, 0.001417, -0.009320, -0.011108, -0.001132, -0.003519, -0.003667, -0.000732, -0.020162, -0.027791, -0.027144, -0.027413, -0.017425, -0.032237, -0.027058, -0.029576, -0.041796, -0.055416, -0.066492, -0.071943, -0.072668, -0.075341, -0.075647, -0.078325, -0.079721, -0.092262, -0.099673, -0.105748, -0.105703, -0.091328
	-0.039139, -0.051010, -0.059572, -0.068890, -0.065569, -0.056336, -0.052009, -0.045027, -0.044733, -0.043057, -0.045098, -0.049314, -0.041428, -0.033666, -0.035827, -0.034949, -0.039103, -0.035773, -0.027252, -0.032459, -0.030608, -0.036598, -0.048023, -0.045110, -0.036628, -0.020339, -0.015359, -0.020856, -0.038812, -0.043468, -0.041951, -0.037410, -0.028317, -0.030816, -0.027965, -0.033433, -0.046048, -0.058152, -0.065653, -0.075898, -0.079033, -0.087434, -0.083390, -0.084865, -0.088331, -0.088892, -0.098633, -0.102869, -0.105058, -0.096490
	-0.031577, -0.034101, -0.048314, -0.055571, -0.046818, -0.040896, -0.051019, -0.042883, -0.042991, -0.049748, -0.050248, -0.051745, -0.047698, -0.045492, -0.036684, -0.039521, -0.039421, -0.033827, -0.026439, -0.027925, -0.031449, -0.038093, -0.038497, -0.034042, -0.029606, -0.022495, -0.026416, -0.038429, -0.049906, -0.055770, -0.055310, -0.047152, -0.042442, -0.043667, -0.050234, -0.056719, -0.071964, -0.085395, -0.090726, -0.097514, -0.094621, -0.101468, -0.096220, -0.094181, -0.097150, -0.090598, -0.098494, -0.101789, -0.102709, -0.100042
	-0.027634, -0.024337, -0.045805, -0.053071, -0.036049, -0.031407, -0.027374, -0.013282, -0.014960, -0.026872, -0.022046, -0.030262, -0.028198, -0.029676, -0.013680, -0.020468, -0.019462, -0.014224, -0.005145, -0.006609, -0.014383, -0.020591, -0.028785, -0.021973, -0.026337, -0.017234, -0.024844, -0.030186, -0.050105, -0.052536, -0.054450, -0.050680, -0.047870, -0.042048, -0.044886, -0.049319, -0.064788, -0.077777, -0.085645, -0.090022, -0.096959, -0.102924, -0.098549, -0.094758, -0.090300, -0.089602, -0.097987, -0.099868, -0.099416, -0.099927
	-0.052593, -0.053739, -0.063605, -0.067244, -0.057005, -0.050345, -0.038951, -0.025123, -0.012388, -0.018340, -0.030761, -0.030227, -0.021472, -0.022432, -0.008847, -0.013052, -0.018595, -0.006707, 0.000625, -0.004796, 0.002918, 0.001590, -0.007780, -0.009979, 0.000689, 0.006376, -0.002183, -0.003640, -0.025257, -0.032318, -0.035670, -0.036797, -0.030049, -0.023512, -0.024014, -0.031569, -0.046388, -0.061602, -0.075484, -0.079699, -0.082540, -0.090206, -0.086619, -0.075525, -0.079547, -0.083265, -0.090179, -0.095528, -0.096502, -0.100435
	-0.047504, -0.029546, -0.046108, -0.051979, -0.041152, -0.033166, -0.030161, -0.020678, -0.014171, -0.005082, -0.009557, -0.014504, -0.012254, -0.010014, -0.002765, 0.001507, -0.009127, -0.006003, 0.000927, -0.001106, -0.012472, -0.007357, -0.015540, -0.005691, -0.008596, -0.004498, -0.007524, -0.011912, -0.028133, -0.032723, -0.037561, -0.027196, -0.016018, -0.017879, -0.027664, -0.028649, -0.051902, -0.073991, -0.088704, -0.089507, -0.094374, -0.098448, -0.097482, -0.085670, -0.094746, -0.094870, -0.099614, -0.099180, -0.103439, -0.102715
	-0.036613, -0.009451, -0.023042, -0.032203, -0.026607, -0.013093, -0.016927, -0.004527, 0.008621, 0.005335, 0.002041, -0.010761, -0.013896, -0.005633, 0.005308, 0.003183, 0.004558, 0.002245, 0.013993, 0.002792, -0.000253, -0.007425, -0.019610, -0.010920, -0.010603, -0.010759, -0.008098, -0.015621, -0.032828, -0.036841, -0.043487, -0.044536, -0.036625, -0.044220, -0.052253, -0.058344, -0.082980, -0.103964, -0.110733, -0.107950, -0.108232, -0.112794, -0.106377, -0.094958, -0.097811, -0.098978, -0.102946, -0.102661, -0.105382, -0.103004
	-0.032459, -0.037213, -0.045515, -0.052068, -0.044162, -0.035334, -0.035735, -0.030221, -0.020746, -0.020052, -0.029231, -0.028391, -0.032518, -0.024614, -0.020508, -0.013770, -0.013355, -0.014943, -0.015570, -0.022665, -0.017500, -0.019313, -0.017386, -0.018967, -0.017798, -0.024419, -0.011833, -0.018730, -0.040292, -0.052523, -0.055718, -0.055924, -0.046977, -0.042066, -0.044269, -0.055663, -0.066539, -0.086024, -0.094306, -0.097067, -0.099410, -0.102583, -0.096778, -0.086370, -0.086576, -0.091032, -0.094377, -0.096747, -0.104400, -0.102744
	-0.033981, -0.040801, -0.053734, -0.056961, -0.043545, -0.037374, -0.038913, -0.028584, -0.020849, -0.017251, -0.023032, -0.023311, -0.021310, -0.020755, -0.010835, 0.000879, -0.014890, -0.016744, -0.019593, -0.022110, -0.025374, -0.011349, -0.023354, -0.029937, -0.031695, -0.023226, -0.019244, -0.034632, -0.051949, -0.052972, -0.052661, -0.050572, -0.039713, -0.036918, -0.043099, -0.047380, -0.070462, -0.095181, -0.095101, -0.097896, -0.098083, -0.097352, -0.093251, -0.084940, -0.083697, -0.091019, -0.093245, -0.098812, -0.099799, -0.097210
	-0.026954, -0.008326, -0.027481, -0.026423, -0.011382, -0.010426, -0.010981, 0.006258, 0.010755, 0.005228, -0.009283, -0.011503, -0.001246, 0.002060, 0.003412, 0.012267, -0.003526, -0.010424, -0.001436, -0.010268, -0.017231, -0.008911, -0.013026, -0.021375, -0.017304, -0.016238, -0.011736, -0.022231, -0.034303, -0.043634, -0.056366, -0.050185, -0.043418, -0.040725, -0.038092, -0.045847, -0.068784, -0.086794, -0.092966, -0.098201, -0.098948, -0.099907, -0.091675, -0.083189, -0.084544, -0.088526, -0.096031, -0.102069, -0.102024, -0.101606
	-0.039610, -0.018194, -0.026685, -0.030670, -0.023268, -0.020148, -0.019926, -0.008042, -0.001206, -0.004905, -0.014740, -0.017152, -0.000014, 0.006836, 0.008717, 0.017282, 0.011862, 0.003861, 0.002927, -0.002389, 0.000140, 0.018329, 0.007508, 0.000659, -0.002757, -0.000811, 0.010853, -0.003685, -0.018303, -0.027857, -0.028548, -0.020415, -0.018365, -0.021214, -0.022851, -0.030660, -0.050237, -0.072759, -0.088568, -0.091932, -0.093976, -0.093301, -0.083393, -0.076525, -0.078171, -0.088578, -0.094919, -0.099373, -0.102000, -0.101913
	-0.025571, -0.025992, -0.031189, -0.037203, -0.020580, -0.014759, -0.016512, -0.010415, -0.003719, -0.003336, -0.011929, -0.016577, -0.017172, 0.003467, 0.017904, 0.006436, 0.009435, 0.001472, 0.000174, -0.001018, 0.010608, 0.016639, 0.004785, -0.003667, 0.000736, 0.003817, 0.002431, -0.016230, -0.030688, -0.030696, -0.035446, -0.039529, -0.031856, -0.038665, -0.041455, -0.049229, -0.072798, -0.087513, -0.094788, -0.094081, -0.094366, -0.090216, -0.080299, -0.072581, -0.080505, -0.090427, -0.092930, -0.100130, -0.104554, -0.099556
	-0.028828, 0.004668, -0.001929, -0.009988, -0.011133, 0.002377, -0.005612, 0.006849, 0.017313, 0.014147, 0.000420, -0.005387, -0.001767, 0.014677, 0.017294, 0.023305, 0.018060, 0.015268, 0.012346, -0.003725, -0.005107, -0.002556, -0.009414, -0.009301, -0.011459, -0.012819, -0.023297, -0.034214, -0.045020, -0.047570, -0.053173, -0.054057, -0.038742, -0.040202, -0.047699, -0.052996, -0.073675, -0.088113, -0.094624, -0.093221, -0.097286, -0.094966, -0.083352, -0.082971, -0.086798, -0.094216, -0.097384, -0.106321, -0.106678, -0.098173
	-0.017979, -0.020106, -0.024913, -0.028634, -0.023984, -0.010310, -0.011848, -0.013262, -0.006468, -0.002167, -0.001067, -0.009255, -0.008632, -0.000403, -0.001515, 0.006425, 0.005996, -0.000985, -0.003817, -0.012296, -0.016668, -0.015890, -0.022470, -0.021679, -0.021771, -0.018105, -0.015807, -0.024121, -0.030676, -0.036489, -0.037730, -0.037844, -0.040904, -0.043418, -0.037472, -0.041154, -0.060104, -0.074965, -0.088947, -0.086102, -0.085607, -0.087228, -0.077512, -0.071362, -0.079396, -0.085787, -0.091295, -0.101180, -0.106353, -0.099622
	-0.020628, -0.025454, -0.032354, -0.029529, -0.018387, -0.020009, -0.021137, -0.016121, -0.011414, -0.009290, -0.018902, -0.017888, -0.016948, -0.010630, -0.005735, -0.004121, -0.008315, -0.014695, -0.005951, -0.011415, -0.013330, -0.015753, -0.018195, -0.016225, -0.011741, -0.005902, -0.013736, -0.023226, -0.029067, -0.031997, -0.036131, -0.038328, -0.037593, -0.044825, -0.050209, -0.047866, -0.067217, -0.080282, -0.086155, -0.082703, -0.081475, -0.084882, -0.076069, -0.062844, -0.069276, -0.079487, -0.087288, -0.101662, -0.110013, -0.101895
	-0.016377, 0.006724, -0.005279, -0.007117, 0.003604, 0.004515, 0.001976, 0.015272, 0.013991, 0.007674, -0.002033, 0.005681, 0.010294, 0.017052, 0.020710, 0.013208, 0.015507, 0.018150, 0.031971, 0.016993, 0.016962, 0.008514, 0.004835, 0.000791, 0.001843, 0.007110, 0.010582, -0.008314, -0.013341, -0.020350, -0.025866, -0.029532, -0.028597, -0.038076, -0.044649, -0.055041, -0.065127, -0.079969, -0.085831, -0.082755, -0.089508, -0.089525, -0.080788, -0.070830, -0.073451, -0.082008, -0.089822, -0.100012, -0.106638, -0.099098
	-0.021894, -0.001809, 0.008534, 0.004224, 0.006629, 0.019408, 0.011417, 0.015424, 0.021426, 0.015602, 0.009788, 0.009079, 0.020399, 0.020157, 0.022454, 0.030175, 0.032962, 0.022369, 0.035500, 0.030472, 0.031587, 0.017854, 0.009981, 0.004393, 0.012846, 0.013254, 0.017308, 0.004099, -0.008767, -0.013713, -0.008999, -0.010712, -0.018296, -0.024355, -0.031152, -0.038150, -0.046360, -0.062919, -0.072618, -0.073457, -0.075410, -0.074214, -0.071013, -0.056562, -0.062563, -0.072377, -0.079270, -0.091899, -0.106153, -0.098869
	-0.010445, -0.008742, -0.012907, -0.014199, -0.008421, -0.001462, -0.003867, -0.003502, 0.001417, 0.003225, -0.001108, -0.004197, 0.001435, 0.007464, 0.008844, 0.018668, 0.010138, 0.003912, 0.023953, 0.024186, 0.008999, -0.001261, -0.006912, -0.006533, -0.000109, 0.014206, -0.000579, -0.017470, -0.015975, -0.013720, -0.012219, -0.010453, -0.012702, -0.017492, -0.030321, -0.036389, -0.054706, -0.071575, -0.074014, -0.076340, -0.082498, -0.082306, -0.074856, -0.065117, -0.074330, -0.081635, -0.090048, -0.102930, -0.109263, -0.098313
	-0.013778, 0.015741, 0.010443, 0.006231, 0.011467, 0.022352, 0.014744, 0.018717, 0.024655, 0.019421, 0.014098, 0.012153, 0.017635, 0.021191, 0.010389, 0.005021, -0.000029, 0.000859, 0.009917, 0.008694, -0.002596, -0.004448, -0.007294, -0.009475, -0.006734, 0.004708, 0.002631, -0.014736, -0.020900, -0.024879, -0.025829, -0.023720, -0.024375, -0.031332, -0.048368, -0.056078, -0.068100, -0.083471, -0.084216, -0.089770, -0.088069, -0.083732, -0.077787, -0.069719, -0.078095, -0.081314, -0.086940, -0.098507, -0.106002, -0.098332
	-0.004547, 0.000431, -0.010521, -0.010468, -0.004916, 0.003072, -0.002499, -0.007596, -0.001939, -0.000862, -0.007500, -0.005715, -0.000760, 0.001246, 0.005279, 0.012198, 0.010465, 0.002367, 0.011159, 0.019997, 0.018237, 0.005640, -0.004532, -0.006367, 0.001559, 0.007487, 0.012861, -0.006234, -0.017784, -0.020575, -0.016511, -0.017332, -0.025228, -0.028122, -0.037176, -0.045866, -0.057754, -0.069857, -0.077189, -0.075663, -0.083029, -0.080185, -0.074716, -0.066050, -0.070791, -0.075563, -0.084263, -0.094711, -0.102323, -0.095953
	-0.018090, -0.019027, -0.021947, -0.017052, -0.009642, -0.007388, -0.013609, -0.011194, -0.002712, -0.005770, -0.014839, -0.011402, 0.002374, 0.001612, 0.012977, 0.015075, 0.016586, 0.008518, 0.018231, 0.013634, 0.003077, -0.004978, -0.016234, -0.013208, -0.000789, 0.002921, -0.004695, -0.017988, -0.027742, -0.025417, -0.028439, -0.020322, -0.021797, -0.021334, -0.028049, -0.043483, -0.051516, -0.063987, -0.071919, -0.073391, -0.074968, -0.076201, -0.072117, -0.056834, -0.065045, -0.076188, -0.082600, -0.093753, -0.103135, -0.096312
	-0.012354, -0.003591, -0.010220, -0.006606, 0.006334, 0.006786, 0.005715, 0.008780, 0.008352, 0.002686, -0.001915, 0.002969, 0.014373, 0.010167, 0.014780, 0.026602, 0.021867, 0.015376, 0.023590, 0.023671, 0.012555, 0.008132, -0.001710, -0.004561, 0.004270, 0.016297, 0.005667, -0.002857, -0.020263, -0.022078, -0.022333, -0.013408, -0.014045, -0.023021, -0.031734, -0.037464, -0.051186, -0.061228, -0.072721, -0.077484, -0.077447, -0.078758, -0.072526, -0.065914, -0.070324, -0.075668, -0.083290, -0.097679, -0.109600, -0.101001
	-0.018291, 0.001309, -0.009857, -0.006915, 0.005300, 0.015194, 0.006462, 0.004107, 0.010749, 0.009638, 0.002956, -0.002181, 0.003674, 0.019983, 0.021486, 0.018960, 0.024087, 0.012220, 0.019464, 0.029051, 0.016810, 0.007861, -0.006142, -0.005393, 0.004061, 0.015685, 0.015895, -0.001755, -0.018588, -0.017196, -0.025049, -0.020538, -0.021812, -0.022306, -0.028074, -0.032943, -0.046002, -0.059176, -0.064648, -0.073146, -0.077889, -0.079496, -0.076428, -0.062681, -0.071768, -0.081777, -0.093040, -0.107482, -0.110214, -0.102575
	-0.023267, -0.021465, -0.027685, -0.024095, -0.015020, -0.007529, -0.011587, -0.015926, -0.010973, -0.011382, -0.021141, -0.024754, -0.011002, 0.000927, 0.004428, 0.000136, 0.006026, 0.000200, 0.002561, 0.006781, 0.003792, 0.001843, -0.010000, -0.007098, 0.003203, 0.011040, 0.004912, -0.001809, -0.018244, -0.026383, -0.040680, -0.036091, -0.032830, -0.037210, -0.043119, -0.048714, -0.059241, -0.070983, -0.076999, -0.083999, -0.088116, -0.085326, -0.070880, -0.064689, -0.073120, -0.086976, -0.093952, -0.109799, -0.113626, -0.102546
	-0.024056, -0.012267, -0.019585, -0.022495, -0.010531, -0.009479, -0.023496, -0.024712, -0.019441, -0.018104, -0.012090, -0.026130, -0.009459, -0.004329, 0.003346, 0.009092, -0.002241, 0.001893, -0.002471, -0.001025, -0.010977, -0.008077, -0.014252, -0.017672, -0.009122, -0.004613, -0.014591, -0.022938, -0.044404, -0.043288, -0.051166, -0.047251, -0.048116, -0.044014, -0.045914, -0.051517, -0.058243, -0.072087, -0.084238, -0.086188, -0.086422, -0.082057, -0.072494, -0.072971, -0.083074, -0.088525, -0.098246, -0.112263, -0.114420, -0.102905
	-0.026101, -0.027240, -0.037270, -0.028969, -0.009944, -0.009712, -0.015266, -0.007914, -0.006825, -0.009223, -0.019001, -0.025614, -0.016150, -0.000005, 0.009927, 0.011074, 0.003127, 0.002512, -0.004429, 0.004867, -0.007494, -0.008468, -0.018839, -0.012487, -0.011329, -0.007409, -0.012609, -0.019699, -0.032013, -0.033784, -0.041205, -0.045647, -0.046555, -0.035950, -0.036422, -0.036839, -0.056743, -0.068023, -0.078183, -0.081962, -0.082567, -0.084185, -0.076049, -0.069219, -0.073869, -0.079695, -0.090049, -0.101958, -0.113370, -0.105496
	-0.038778, -0.039300, -0.044122, -0.038406, -0.028089, -0.029577, -0.030215, -0.025398, -0.020892, -0.023359, -0.033854, -0.033258, -0.020963, -0.013834, -0.003074, -0.003644, -0.007839, -0.007274, -0.012934, -0.006108, -0.014471, -0.006429, -0.007846, -0.002711, -0.008035, -0.000746, -0.001730, -0.006199, -0.022349, -0.024961, -0.038307, -0.039704, -0.037279, -0.028172, -0.031455, -0.034048, -0.046638, -0.066929, -0.073516, -0.081299, -0.079808, -0.079030, -0.075645, -0.069662, -0.072850, -0.084086, -0.091978, -0.104758, -0.113911, -0.106023
	-0.040459, -0.032618, -0.043732, -0.043263, -0.026972, -0.021793, -0.025616, -0.023098, -0.022525, -0.020462, -0.028116, -0.025776, -0.020826, -0.014338, 0.003771, 0.005129, -0.003047, -0.004274, -0.006294, 0.000098, -0.006929, -0.004366, -0.007510, -0.003526, -0.007226, 0.004553, -0.001196, -0.012042, -0.031417, -0.032132, -0.043489, -0.050957, -0.050499, -0.040310, -0.040997, -0.047997, -0.062775, -0.083206, -0.084707, -0.080571, -0.081359, -0.084741, -0.076604, -0.072383, -0.075893, -0.083803, -0.094729, -0.108449, -0.115039, -0.105695
	-0.050835, -0.032202, -0.039772, -0.040093, -0.033976, -0.021361, -0.028097, -0.025820, -0.017959, -0.017226, -0.029427, -0.031336, -0.023642, -0.015863, 0.005805, 0.004683, 0.001533, -0.005878, -0.004447, 0.005187, -0.004030, -0.006517, -0.007862, -0.006800, -0.011690, -0.005786, -0.004519, -0.006964, -0.023015, -0.034185, -0.041730, -0.053358, -0.047183, -0.038412, -0.041050, -0.057362, -0.061579, -0.079865, -0.079289, -0.078303, -0.080502, -0.086678, -0.076702, -0.073961, -0.083267, -0.087742, -0.097439, -0.108985, -0.111495, -0.104472
	-0.051695, -0.054063, -0.057922, -0.056184, -0.048025, -0.032210, -0.032531, -0.037875, -0.032426, -0.024761, -0.029601, -0.027674, -0.027483, -0.026881, -0.006642, -0.002775, -0.000998, -0.008451, -0.014355, -0.008758, -0.015619, -0.018182, -0.016130, -0.018324, -0.020760, -0.010311, -0.007071, -0.016150, -0.027802, -0.034133, -0.041662, -0.045059, -0.042218, -0.038419, -0.035031, -0.047922, -0.058001, -0.074882, -0.076249, -0.077980, -0.084072, -0.082970, -0.074681, -0.074226, -0.087031, -0.090149, -0.096896, -0.108237, -0.114176, -0.105298
	-0.059187, -0.064879, -0.070123, -0.060228, -0.047115, -0.041985, -0.044574, -0.042257, -0.037282, -0.028257, -0.033918, -0.035098, -0.036794, -0.027555, -0.010761, -0.007450, -0.019185, -0.020401, -0.015683, -0.009288, -0.012968, -0.019613, -0.018191, -0.014840, -0.012476, 0.000005, -0.002887, -0.019449, -0.023836, -0.026054, -0.037802, -0.039043, -0.036499, -0.035865, -0.039657, -0.054807, -0.070536, -0.083100, -0.081236, -0.079344, -0.085509, -0.085894, -0.079387, -0.074951, -0.079414, -0.085493, -0.094176, -0.104522, -0.111348, -0.104010
	-0.063213, -0.062799, -0.077736, -0.064738, -0.053539, -0.043091, -0.044818, -0.039553, -0.039314, -0.033280, -0.047216, -0.041505, -0.033097, -0.026949, -0.012981, -0.012253, -0.015028, -0.011315, -0.009808, -0.008317, -0.010667, -0.014754, -0.013188, -0.014799, -0.013916, -0.002444, -0.000455, -0.012556, -0.020797, -0.027615, -0.035342, -0.037724, -0.036301, -0.037390, -0.041957, -0.054771, -0.062607, -0.072945, -0.076255, -0.077382, -0.085037, -0.085314, -0.075769, -0.071838, -0.075605, -0.082672, -0.090973, -0.100702, -0.110377, -0.103803
	-0.069899, -0.072727, -0.083403, -0.071848, -0.060401, -0.051051, -0.051848, -0.048087, -0.045009, -0.032051, -0.030991, -0.033467, -0.035006, -0.027950, -0.004231, -0.004754, -0.006607, 0.002239, -0.010654, 0.001388, 0.003367, -0.008983, -0.003809, -0.008251, -0.004722, 0.005244, 0.001527, -0.006096, -0.020042, -0.025072, -0.022634, -0.027486, -0.032434, -0.033849, -0.034964, -0.045659, -0.046008, -0.064228, -0.074434, -0.070802, -0.077101, -0.076591, -0.065813, -0.069132, -0.070544, -0.076908, -0.084179, -0.096002, -0.108921, -0.103825
	-0.068616, -0.071717, -0.080037, -0.068615, -0.055593, -0.046639, -0.045130, -0.043462, -0.037310, -0.016874, -0.039006, -0.038039, -0.030324, -0.030370, -0.001020, -0.005226, -0.016113, -0.003212, -0.010927, -0.010350, -0.007859, -0.023689, -0.018251, -0.019672, -0.017199, -0.002489, -0.003331, -0.016363, -0.021668, -0.028305, -0.032089, -0.031481, -0.026889, -0.028644, -0.020351, -0.042784, -0.054847, -0.064087, -0.072605, -0.069377, -0.077002, -0.081955, -0.073710, -0.081848, -0.085209, -0.086494, -0.096768, -0.108094, -0.109339, -0.110352
	-0.079286, -0.083465, -0.087721, -0.073683, -0.058005, -0.044393, -0.048849, -0.059190, -0.043430, -0.034322, -0.041904, -0.039377, -0.046438, -0.044291, -0.026234, -0.016609, -0.018163, -0.015652, -0.016390, -0.008314, -0.010548, -0.018148, -0.010315, -0.021856, -0.019264, -0.009148, -0.000347, -0.012759, -0.020245, -0.031978, -0.034001, -0.033948, -0.022802, -0.032170, -0.031797, -0.055359, -0.067759, -0.078695, -0.081244, -0.084704, -0.089659, -0.084307, -0.086840, -0.090345, -0.088909, -0.083748, -0.092698, -0.110147, -0.120108, -0.120211
	-0.082648, -0.093407, -0.095522, -0.081531, -0.062912, -0.045454, -0.058171, -0.070871, -0.057499, -0.041294, -0.050822, -0.063886, -0.066083, -0.065436, -0.036338, -0.021100, -0.033365, -0.029428, -0.020062, -0.010830, -0.009453, -0.016308, -0.018002, -0.020939, -0.010502, -0.003942, 0.002181, -0.010734, -0.024736, -0.029282, -0.031822, -0.033584, -0.027839, -0.027908, -0.032188, -0.034854, -0.057098, -0.078148, -0.086473, -0.077089, -0.083812, -0.085931, -0.090490, -0.092766, -0.088144, -0.083876, -0.094107, -0.116738, -0.130260, -0.127525
	-0.085502, -0.104501, -0.098683, -0.088012, -0.064942, -0.054000, -0.069804, -0.075792, -0.053468, -0.043198, -0.066256, -0.070475, -0.067288, -0.061415, -0.029902, -0.025231, -0.041340, -0.028923, -0.012758, -0.011944, -0.012155, -0.021938, -0.022062, -0.017178, -0.013513, -0.010847, -0.010200, -0.018141, -0.026428, -0.033242, -0.035493, -0.035909, -0.026131, -0.020089, -0.028658, -0.040651, -0.059756, -0.083576, -0.086834, -0.085113, -0.084364, -0.082253, -0.089872, -0.087383, -0.086086, -0.080769, -0.085414, -0.111961, -0.128572, -0.127848
	-0.086058, -0.102194, -0.101559, -0.092190, -0.070367, -0.053115, -0.068077, -0.073785, -0.059661, -0.049093, -0.069829, -0.066969, -0.067145, -0.067154, -0.038807, -0.029033, -0.045469, -0.035648, -0.019096, -0.014602, -0.016403, -0.021860, -0.022323, -0.020620, -0.020993, -0.013311, -0.010233, -0.019125, -0.027759, -0.034183, -0.030559, -0.028762, -0.029707, -0.018987, -0.032856, -0.035467, -0.049449, -0.076055, -0.090413, -0.094212, -0.088301, -0.079272, -0.079765, -0.087856, -0.085073, -0.081479, -0.080547, -0.106648, -0.128734, -0.130093
	-0.090655, -0.103718, -0.105868, -0.094782, -0.071150, -0.054729, -0.067194, -0.078260, -0.062039, -0.044369, -0.062595, -0.070009, -0.066595, -0.064998, -0.033180, -0.025275, -0.043518, -0.039022, -0.015346, -0.005246, -0.008004, -0.020229, -0.017097, -0.015693, -0.014134, -0.002541, -0.005169, -0.016035, -0.016525, -0.021364, -0.020762, -0.020031, -0.024015, -0.009663, -0.022425, -0.021554, -0.037652, -0.069681, -0.081718, -0.093379, -0.094470, -0.089205, -0.076276, -0.082146, -0.081010, -0.078489, -0.079264, -0.107641, -0.128011, -0.127983
	-0.087515, -0.103357, -0.108489, -0.097415, -0.078822, -0.062420, -0.070445, -0.080626, -0.066064, -0.053092, -0.065952, -0.074077, -0.069172, -0.063240, -0.033003, -0.024296, -0.042365, -0.030167, -0.013523, -0.014578, -0.002151, -0.011273, -0.008776, -0.000623, -0.009818, -0.000891, -0.002450, -0.010939, -0.012840, -0.018437, -0.029805, -0.019250, -0.021352, -0.016423, -0.025673, -0.031642, -0.047888, -0.065565, -0.084527, -0.091991, -0.098213, -0.092021, -0.076207, -0.078982, -0.079192, -0.076382, -0.080875, -0.108663, -0.126435, -0.123805
	-0.089126, -0.106745, -0.113646, -0.106950, -0.082689, -0.067434, -0.075479, -0.088425, -0.072256, -0.056841, -0.071389, -0.074570, -0.069869, -0.064535, -0.032601, -0.018084, -0.036847, -0.027657, -0.015392, -0.020849, -0.000110, -0.009305, -0.016569, -0.013306, -0.015089, -0.002150, -0.002975, -0.012786, -0.021726, -0.021712, -0.027736, -0.023899, -0.020207, -0.013164, -0.020367, -0.023699, -0.037363, -0.057670, -0.075610, -0.080393, -0.087742, -0.085253, -0.082493, -0.079654, -0.071928, -0.072798, -0.076659, -0.104452, -0.122160, -0.119394
	-0.098972, -0.118581, -0.120202, -0.110043, -0.088167, -0.072020, -0.086305, -0.092066, -0.077823, -0.055671, -0.073827, -0.076688, -0.070000, -0.063384, -0.030125, -0.016544, -0.033818, -0.029694, -0.016519, -0.025008, -0.008239, -0.008322, -0.019741, -0.018640, -0.024154, -0.010432, -0.006223, -0.003910, -0.021859, -0.020042, -0.025980, -0.030109, -0.018981, -0.007784, -0.011015, -0.015183, -0.038420, -0.053545, -0.064503, -0.064813, -0.080240, -0.081155, -0.087168, -0.083089, -0.072873, -0.071234, -0.068121, -0.088210, -0.114701, -0.118652
x_count = 50
y_count = 50
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2
min_x = 16.0
max_x = 330.0
min_y = 59.0
max_y = 305.0

[bed_mesh 85]
version = 1
points = 
	0.162748, 0.145429, 0.106958, 0.085800, 0.079298, 0.076552, 0.068760, 0.074247, 0.066667, 0.061723, 0.058635, 0.060143, 0.060187, 0.052795, 0.063092, 0.061889, 0.056757, 0.053770, 0.046510, 0.046394, 0.039381, 0.044147, 0.032330, 0.029581, 0.041547, 0.048073, 0.040884, 0.041414, 0.030559, 0.017870, 0.011024, 0.016672, 0.023915, 0.028393, 0.042744, 0.057597, 0.042824, 0.028977, 0.018656, 0.030564, 0.053480, 0.063024, 0.073035, 0.076992, 0.076835, 0.077180, 0.078884, 0.078808, 0.088892, 0.109459
	0.164795, 0.148962, 0.117823, 0.090466, 0.088004, 0.087176, 0.082579, 0.079936, 0.080878, 0.075372, 0.072371, 0.066714, 0.067645, 0.058146, 0.062523, 0.065408, 0.056951, 0.049490, 0.050803, 0.041567, 0.040150, 0.039927, 0.027783, 0.036007, 0.043620, 0.051349, 0.045420, 0.040984, 0.028978, 0.026113, 0.016693, 0.020546, 0.025803, 0.026717, 0.052005, 0.052228, 0.040360, 0.029944, 0.014966, 0.031987, 0.055743, 0.059663, 0.066109, 0.072282, 0.071904, 0.071345, 0.071644, 0.072968, 0.080220, 0.098303
	0.152830, 0.134078, 0.103256, 0.085983, 0.085678, 0.076629, 0.068832, 0.075661, 0.076713, 0.066311, 0.058540, 0.056663, 0.058301, 0.048817, 0.054780, 0.060177, 0.049119, 0.044083, 0.045899, 0.038299, 0.041627, 0.036809, 0.028294, 0.035272, 0.040640, 0.049358, 0.038207, 0.028908, 0.018466, 0.018191, 0.010534, 0.026030, 0.019042, 0.033433, 0.049389, 0.046875, 0.039008, 0.025591, 0.013836, 0.029976, 0.050666, 0.057365, 0.062984, 0.069461, 0.069706, 0.070126, 0.070564, 0.070214, 0.075447, 0.094210
	0.149564, 0.130633, 0.096567, 0.070048, 0.084435, 0.079920, 0.069374, 0.076569, 0.076336, 0.065673, 0.052185, 0.053685, 0.057055, 0.049209, 0.051997, 0.056576, 0.045042, 0.040264, 0.045045, 0.036885, 0.040401, 0.031939, 0.024771, 0.033678, 0.046705, 0.043514, 0.037366, 0.032598, 0.025622, 0.016447, 0.023500, 0.025196, 0.021986, 0.032996, 0.048744, 0.055018, 0.043559, 0.031301, 0.024632, 0.032704, 0.033066, 0.050747, 0.059616, 0.066808, 0.069211, 0.073603, 0.067776, 0.066932, 0.072607, 0.086084
	0.137762, 0.126609, 0.101612, 0.077839, 0.079659, 0.078176, 0.067288, 0.073740, 0.073656, 0.065529, 0.058380, 0.054658, 0.056331, 0.049767, 0.046191, 0.055021, 0.048459, 0.046053, 0.049416, 0.039678, 0.040813, 0.038295, 0.033082, 0.026631, 0.041517, 0.036802, 0.036129, 0.034349, 0.028509, 0.016588, 0.029801, 0.023219, 0.027539, 0.041701, 0.050553, 0.053411, 0.047115, 0.037730, 0.031817, 0.035724, 0.038123, 0.048455, 0.057767, 0.067666, 0.067304, 0.066770, 0.068347, 0.064076, 0.063817, 0.078468
	0.142049, 0.130753, 0.106055, 0.081581, 0.074598, 0.078109, 0.061329, 0.072595, 0.064459, 0.053278, 0.047901, 0.047411, 0.041347, 0.037706, 0.037677, 0.044979, 0.028537, 0.029310, 0.030632, 0.025823, 0.027261, 0.020996, 0.021817, 0.024560, 0.026798, 0.028928, 0.033696, 0.020840, 0.021657, 0.018580, 0.021680, 0.016870, 0.026437, 0.035034, 0.044433, 0.045175, 0.031593, 0.021287, 0.016635, 0.024248, 0.029783, 0.033534, 0.040535, 0.047377, 0.048400, 0.053887, 0.049414, 0.050760, 0.056418, 0.070636
	0.128800, 0.128769, 0.097699, 0.073410, 0.068681, 0.075306, 0.067708, 0.068465, 0.066238, 0.054973, 0.048429, 0.044026, 0.037272, 0.039475, 0.034827, 0.035939, 0.026610, 0.028042, 0.027620, 0.023300, 0.026891, 0.017489, 0.024585, 0.021824, 0.027918, 0.026313, 0.030171, 0.013461, 0.016452, 0.010388, 0.003066, 0.002951, 0.016970, 0.023016, 0.028700, 0.026840, 0.017662, 0.011196, 0.007253, 0.013329, 0.019724, 0.022485, 0.028706, 0.035824, 0.038820, 0.045691, 0.042226, 0.042708, 0.050194, 0.067877
	0.129031, 0.121758, 0.100609, 0.078777, 0.068078, 0.071017, 0.066536, 0.068634, 0.061432, 0.051902, 0.045535, 0.040981, 0.031613, 0.037750, 0.031157, 0.035485, 0.023022, 0.027050, 0.028114, 0.018801, 0.020604, 0.014125, 0.015308, 0.011482, 0.018140, 0.017639, 0.019979, 0.012944, 0.007894, -0.003974, -0.001416, -0.001951, 0.011927, 0.013971, 0.025850, 0.027278, 0.019134, 0.007474, 0.002694, 0.008607, 0.010887, 0.014797, 0.021884, 0.032196, 0.031883, 0.038822, 0.039121, 0.037973, 0.044601, 0.064472
	0.122842, 0.111585, 0.086194, 0.066799, 0.066811, 0.066587, 0.061433, 0.064651, 0.058726, 0.047209, 0.042460, 0.037226, 0.033424, 0.030982, 0.031186, 0.026721, 0.016755, 0.018853, 0.017552, 0.007829, 0.013175, -0.001227, -0.004700, -0.004946, 0.002831, 0.004130, 0.011890, 0.004925, -0.006799, -0.011828, -0.009468, -0.004699, 0.011783, 0.012563, 0.019300, 0.024354, 0.012587, -0.000888, -0.004004, -0.000419, 0.006103, 0.011499, 0.020577, 0.026407, 0.031450, 0.037804, 0.039020, 0.038736, 0.036912, 0.061113
	0.122466, 0.113228, 0.078431, 0.055977, 0.063278, 0.060314, 0.063932, 0.061720, 0.048815, 0.033659, 0.032139, 0.026712, 0.026197, 0.020996, 0.023536, 0.021108, 0.011040, 0.013703, 0.020728, 0.012697, 0.018062, 0.005054, -0.003912, -0.002995, 0.006439, 0.011744, 0.019322, 0.011941, -0.007234, -0.010415, -0.012118, -0.004352, 0.010850, 0.010822, 0.019102, 0.020286, 0.009712, -0.000076, -0.002132, -0.004611, -0.006892, -0.004796, 0.006617, 0.014558, 0.016033, 0.024937, 0.026251, 0.027946, 0.033719, 0.055153
	0.112471, 0.109663, 0.082588, 0.061725, 0.060890, 0.064820, 0.061407, 0.069978, 0.063600, 0.046523, 0.038706, 0.031552, 0.027534, 0.021435, 0.026449, 0.022111, 0.017825, 0.022931, 0.021245, 0.016537, 0.013573, 0.003979, -0.002205, -0.000248, 0.007956, 0.015045, 0.012861, 0.012751, -0.011052, -0.016073, -0.012108, -0.002156, 0.008061, 0.009015, 0.015217, 0.020669, 0.007943, -0.006226, -0.011685, -0.011685, -0.012913, -0.013936, -0.000302, 0.010691, 0.013661, 0.020066, 0.022849, 0.026065, 0.031074, 0.047717
	0.114168, 0.109298, 0.085557, 0.062689, 0.055448, 0.058622, 0.051321, 0.057912, 0.057035, 0.049425, 0.039481, 0.027218, 0.028057, 0.019867, 0.030430, 0.020128, 0.016062, 0.019425, 0.022338, 0.016725, 0.007421, 0.002254, -0.008080, -0.003805, 0.003768, 0.011663, -0.000292, -0.011427, -0.023535, -0.023465, -0.023923, -0.014478, -0.005215, -0.002495, -0.000093, 0.004840, -0.007459, -0.017676, -0.020405, -0.017968, -0.017628, -0.019365, -0.009640, 0.008000, 0.009744, 0.017594, 0.019803, 0.026046, 0.032328, 0.045624
	0.106057, 0.110921, 0.081238, 0.054726, 0.053884, 0.053744, 0.046726, 0.057022, 0.062315, 0.052450, 0.036425, 0.027007, 0.033911, 0.022242, 0.030059, 0.021333, 0.011653, 0.015743, 0.018310, 0.004705, -0.006795, -0.009105, -0.019155, -0.009718, -0.006891, 0.002432, -0.004499, -0.009951, -0.025918, -0.024360, -0.028534, -0.019900, -0.006634, -0.001474, -0.001332, 0.000853, -0.015496, -0.028451, -0.029446, -0.027436, -0.029063, -0.028977, -0.018243, -0.004731, -0.004875, 0.005211, 0.009152, 0.016972, 0.024438, 0.040580
	0.106244, 0.100042, 0.075756, 0.054543, 0.051326, 0.057006, 0.051803, 0.055505, 0.058318, 0.056439, 0.047955, 0.032998, 0.029635, 0.025201, 0.032010, 0.027086, 0.020724, 0.012540, 0.016118, 0.008171, 0.000642, -0.004012, -0.014480, -0.009213, -0.001738, 0.000915, -0.003422, -0.003599, -0.017204, -0.020631, -0.023050, -0.021107, -0.007510, -0.003009, 0.000976, 0.003488, -0.009443, -0.023015, -0.034094, -0.028789, -0.028985, -0.028593, -0.018032, -0.000579, 0.001867, 0.009337, 0.017965, 0.020739, 0.027773, 0.040627
	0.102630, 0.089350, 0.063980, 0.048986, 0.051293, 0.045899, 0.043005, 0.048363, 0.050704, 0.045469, 0.033561, 0.024205, 0.016946, 0.023184, 0.023797, 0.022919, 0.016055, 0.013544, 0.013014, 0.007234, 0.001349, -0.001673, -0.004883, -0.000315, -0.004618, 0.001588, 0.001807, -0.005123, -0.021532, -0.022355, -0.027482, -0.022884, -0.010881, 0.001574, 0.003581, 0.002995, -0.007337, -0.028181, -0.040004, -0.031258, -0.032848, -0.032390, -0.021582, 0.003227, 0.007037, 0.008841, 0.016396, 0.019555, 0.027564, 0.040267
	0.109117, 0.094184, 0.057739, 0.039453, 0.045590, 0.046375, 0.041668, 0.054751, 0.054291, 0.044274, 0.028955, 0.026990, 0.017520, 0.027550, 0.027176, 0.029430, 0.018932, 0.018350, 0.009582, 0.008092, 0.001881, 0.007219, 0.000724, 0.000230, -0.000442, 0.001642, 0.001708, -0.008533, -0.024950, -0.029093, -0.032637, -0.028309, -0.011732, -0.003463, -0.006400, -0.006040, -0.021435, -0.038220, -0.040147, -0.035822, -0.033113, -0.030506, -0.019678, -0.001765, 0.006857, 0.014957, 0.017067, 0.022974, 0.028985, 0.040771
	0.102883, 0.104457, 0.074491, 0.052325, 0.050829, 0.052046, 0.044602, 0.053676, 0.055313, 0.046828, 0.034907, 0.030330, 0.022891, 0.028166, 0.026420, 0.037346, 0.029341, 0.014164, 0.010000, 0.006492, 0.009298, 0.008047, 0.011411, -0.002773, 0.000757, -0.002833, 0.004877, 0.000331, -0.015937, -0.029227, -0.031497, -0.022955, -0.007699, -0.002545, 0.001873, -0.002478, -0.022895, -0.037837, -0.037087, -0.035024, -0.029682, -0.027375, -0.012653, 0.005035, 0.011595, 0.013409, 0.016947, 0.020497, 0.024361, 0.033648
	0.108028, 0.099441, 0.076243, 0.056955, 0.053866, 0.057047, 0.049018, 0.053289, 0.055578, 0.054499, 0.040757, 0.029886, 0.026845, 0.036353, 0.028399, 0.026808, 0.025774, 0.008341, 0.005389, -0.000368, -0.006659, 0.005494, 0.000618, -0.008863, -0.007316, -0.002291, 0.003988, -0.006065, -0.018951, -0.028079, -0.027829, -0.021774, -0.007655, -0.003335, -0.001767, -0.006226, -0.032272, -0.046787, -0.042097, -0.040513, -0.036222, -0.030451, -0.012374, 0.004014, 0.010177, 0.010597, 0.015738, 0.019051, 0.026737, 0.039389
	0.101070, 0.104223, 0.076807, 0.052419, 0.051215, 0.051142, 0.044003, 0.050831, 0.052864, 0.044687, 0.030148, 0.018494, 0.017803, 0.017743, 0.024259, 0.027204, 0.013946, 0.003125, 0.002980, -0.003758, -0.001961, 0.007934, 0.002530, -0.007623, -0.004441, -0.002546, 0.002383, -0.010993, -0.019533, -0.029959, -0.028883, -0.022005, -0.011605, -0.010767, -0.013457, -0.020512, -0.035903, -0.049770, -0.050876, -0.045381, -0.037589, -0.030144, -0.012189, 0.003871, 0.009684, 0.008617, 0.015232, 0.016038, 0.023369, 0.039122
	0.107650, 0.093378, 0.060061, 0.039137, 0.050409, 0.051266, 0.044907, 0.049530, 0.050096, 0.043184, 0.030046, 0.020676, 0.016904, 0.021495, 0.029669, 0.025253, 0.017290, 0.009641, 0.008680, 0.001549, 0.004948, 0.010390, -0.001846, -0.001980, -0.002541, 0.000914, 0.000992, -0.007708, -0.019093, -0.027291, -0.032119, -0.024446, -0.015498, -0.014856, -0.011006, -0.011888, -0.031674, -0.041097, -0.045387, -0.036435, -0.031933, -0.028149, -0.010337, 0.010542, 0.015136, 0.017340, 0.019399, 0.020862, 0.025956, 0.044151
	0.100886, 0.092777, 0.070357, 0.054879, 0.054836, 0.053058, 0.042718, 0.050067, 0.055095, 0.046147, 0.031875, 0.026884, 0.021652, 0.028389, 0.028769, 0.025771, 0.018357, 0.012938, 0.008157, -0.002008, -0.000950, 0.000669, -0.007875, -0.009571, -0.012277, -0.008218, -0.005513, -0.010040, -0.017602, -0.027891, -0.033958, -0.025871, -0.017496, -0.014105, -0.007780, -0.012089, -0.030333, -0.035084, -0.039175, -0.030996, -0.026717, -0.019549, -0.001558, 0.020969, 0.019923, 0.021171, 0.025276, 0.022662, 0.023348, 0.040643
	0.109135, 0.101559, 0.066524, 0.048879, 0.056369, 0.054290, 0.047679, 0.053956, 0.052836, 0.040518, 0.025484, 0.023422, 0.018349, 0.024963, 0.022390, 0.018369, 0.013828, 0.004127, 0.008160, -0.005478, -0.009864, -0.004517, -0.010362, -0.010730, -0.000621, -0.003764, -0.001213, -0.008636, -0.014418, -0.016777, -0.017968, -0.017849, -0.011031, -0.010459, -0.009790, -0.012195, -0.025248, -0.038270, -0.039515, -0.030838, -0.026451, -0.021619, 0.000689, 0.015058, 0.014294, 0.015836, 0.020653, 0.019088, 0.022862, 0.037741
	0.104138, 0.105271, 0.075437, 0.056423, 0.058868, 0.061741, 0.050884, 0.054276, 0.062025, 0.048095, 0.035407, 0.022449, 0.022994, 0.025445, 0.024065, 0.019162, 0.015365, 0.009960, 0.015438, -0.001938, 0.000024, -0.000761, -0.007026, -0.007723, 0.000182, 0.002217, 0.001206, -0.003094, -0.011030, -0.016149, -0.017092, -0.013941, -0.009513, -0.010277, -0.012125, -0.014957, -0.027860, -0.039068, -0.041458, -0.029247, -0.024773, -0.019076, -0.002172, 0.016865, 0.018170, 0.016563, 0.020684, 0.017450, 0.020640, 0.041905
	0.109648, 0.106161, 0.084461, 0.070805, 0.059813, 0.066480, 0.058890, 0.054758, 0.054226, 0.048983, 0.038379, 0.028420, 0.030841, 0.034056, 0.031642, 0.023710, 0.023227, 0.016356, 0.021258, 0.011730, 0.015146, 0.005780, 0.000871, -0.004051, 0.001885, 0.007998, 0.008721, -0.006757, -0.011473, -0.016192, -0.019413, -0.019173, -0.011910, -0.013715, -0.014478, -0.016063, -0.022385, -0.033774, -0.032508, -0.025871, -0.023977, -0.017498, 0.001401, 0.022825, 0.017889, 0.017448, 0.021953, 0.019230, 0.023843, 0.046782
	0.105723, 0.102100, 0.078515, 0.063915, 0.062653, 0.062570, 0.052160, 0.053193, 0.054669, 0.046796, 0.035441, 0.033847, 0.034292, 0.031690, 0.033381, 0.031904, 0.026231, 0.019628, 0.026011, 0.012868, 0.008386, -0.000178, -0.008636, -0.009210, -0.004883, 0.001134, 0.004927, -0.012243, -0.014140, -0.017161, -0.012192, -0.007902, -0.006006, -0.006616, -0.008720, -0.009006, -0.016993, -0.032779, -0.027926, -0.025662, -0.019419, -0.013108, 0.003994, 0.022777, 0.023098, 0.024796, 0.026067, 0.021478, 0.022682, 0.047944
	0.112290, 0.105149, 0.070519, 0.054578, 0.062109, 0.059756, 0.048040, 0.056650, 0.049139, 0.036722, 0.025190, 0.026308, 0.030284, 0.027887, 0.029758, 0.028270, 0.020059, 0.012495, 0.016144, 0.013592, 0.008169, -0.001708, -0.009164, -0.012559, -0.005128, 0.004671, 0.006762, -0.009292, -0.014025, -0.013137, -0.009620, -0.005114, -0.001848, -0.001161, -0.003823, -0.006209, -0.015021, -0.023675, -0.029886, -0.019495, -0.021835, -0.015422, -0.000684, 0.021119, 0.022113, 0.024682, 0.027767, 0.024396, 0.024315, 0.047263
	0.107435, 0.096752, 0.077615, 0.068120, 0.065768, 0.064226, 0.053500, 0.054955, 0.053609, 0.044789, 0.032554, 0.027164, 0.026727, 0.024379, 0.025717, 0.029797, 0.021754, 0.014076, 0.019818, 0.022099, 0.017000, 0.006640, -0.003902, -0.004858, 0.002537, 0.013544, 0.015935, 0.001218, -0.009529, -0.009440, -0.005145, 0.002003, 0.004499, -0.000559, -0.003845, -0.006439, -0.012176, -0.022107, -0.026865, -0.020842, -0.023599, -0.011483, 0.004414, 0.021744, 0.024030, 0.024136, 0.026138, 0.024504, 0.026630, 0.047026
	0.111506, 0.103148, 0.078249, 0.065875, 0.065675, 0.065690, 0.054353, 0.052815, 0.049183, 0.041097, 0.031445, 0.029567, 0.030936, 0.022319, 0.027386, 0.034219, 0.023447, 0.021098, 0.026315, 0.024579, 0.013140, 0.008682, -0.003696, -0.001926, 0.005674, 0.013220, 0.004492, -0.008664, -0.020573, -0.015239, -0.013067, -0.007717, -0.007996, -0.006145, -0.011676, -0.011848, -0.016962, -0.023233, -0.027395, -0.019639, -0.019615, -0.009084, 0.004522, 0.023180, 0.021425, 0.026074, 0.028233, 0.024518, 0.030573, 0.049097
	0.103420, 0.106029, 0.080682, 0.068286, 0.067398, 0.066112, 0.052058, 0.050905, 0.052265, 0.042308, 0.031863, 0.027425, 0.027343, 0.029073, 0.029551, 0.033542, 0.030455, 0.022033, 0.027715, 0.025664, 0.018524, 0.009577, -0.004966, -0.007274, 0.000258, 0.008680, 0.008768, -0.005496, -0.016821, -0.021123, -0.019169, -0.010875, -0.007410, -0.005722, -0.006366, -0.012310, -0.017699, -0.024777, -0.025825, -0.017830, -0.014425, -0.008568, 0.007587, 0.020549, 0.018864, 0.023037, 0.024483, 0.021762, 0.028641, 0.049124
	0.098925, 0.102212, 0.080081, 0.069294, 0.068621, 0.070882, 0.062620, 0.053504, 0.052588, 0.051584, 0.039203, 0.031974, 0.030792, 0.037857, 0.036902, 0.034207, 0.034454, 0.021560, 0.023957, 0.025370, 0.016649, 0.009968, -0.006613, -0.004332, -0.000198, 0.009834, 0.012137, -0.000798, -0.013284, -0.015440, -0.018477, -0.009957, -0.004422, -0.004254, -0.004632, -0.006372, -0.015689, -0.021800, -0.024727, -0.020025, -0.017150, -0.010815, 0.005112, 0.020561, 0.021816, 0.023192, 0.027067, 0.023162, 0.025022, 0.050444
	0.101305, 0.088648, 0.070069, 0.064193, 0.065706, 0.061946, 0.050996, 0.048447, 0.043947, 0.039005, 0.024305, 0.017329, 0.025227, 0.024794, 0.025332, 0.028454, 0.023826, 0.013586, 0.016404, 0.016820, 0.009025, 0.004151, -0.009189, -0.007859, 0.004905, 0.014098, 0.008709, -0.001444, -0.014457, -0.016310, -0.023391, -0.015519, -0.011928, -0.013478, -0.013325, -0.010447, -0.021459, -0.029936, -0.030330, -0.025960, -0.021865, -0.013475, 0.002218, 0.020954, 0.024155, 0.022577, 0.024426, 0.019850, 0.022738, 0.046004
	0.103272, 0.086448, 0.058185, 0.054221, 0.061346, 0.057394, 0.045139, 0.043903, 0.043871, 0.033377, 0.017447, 0.012073, 0.020558, 0.029482, 0.032067, 0.029118, 0.022087, 0.015434, 0.018800, 0.022101, 0.006145, 0.003597, -0.004935, -0.004320, 0.005405, 0.010786, 0.006361, -0.003760, -0.016679, -0.022313, -0.032599, -0.026130, -0.021240, -0.016765, -0.016838, -0.011076, -0.016997, -0.031825, -0.025554, -0.026169, -0.022722, -0.012243, 0.002780, 0.022249, 0.024142, 0.028330, 0.028550, 0.024386, 0.025938, 0.046885
	0.093681, 0.089334, 0.067819, 0.057958, 0.061123, 0.061461, 0.050110, 0.045864, 0.045079, 0.038489, 0.022801, 0.013350, 0.017528, 0.026942, 0.034647, 0.031110, 0.023430, 0.019948, 0.013817, 0.018984, 0.011428, 0.006613, -0.005295, -0.004755, -0.003843, 0.004131, 0.001558, -0.006822, -0.018100, -0.024155, -0.037141, -0.030690, -0.024014, -0.014153, -0.010102, -0.011175, -0.017564, -0.025597, -0.023605, -0.024078, -0.020878, -0.010795, 0.007396, 0.025170, 0.030868, 0.026423, 0.029153, 0.021884, 0.021951, 0.043468
	0.101809, 0.091267, 0.070827, 0.064008, 0.063651, 0.064834, 0.054340, 0.046703, 0.045459, 0.038664, 0.023155, 0.016893, 0.021985, 0.026255, 0.032216, 0.028651, 0.019967, 0.015054, 0.006364, 0.005877, -0.007558, -0.006138, -0.017565, -0.011802, -0.009113, -0.000416, -0.002474, -0.006077, -0.022293, -0.021727, -0.031008, -0.029887, -0.021762, -0.011593, -0.005432, -0.005852, -0.019725, -0.027834, -0.034074, -0.025512, -0.019350, -0.014678, 0.005197, 0.021390, 0.021322, 0.019184, 0.019614, 0.016142, 0.020848, 0.043078
	0.090895, 0.092532, 0.072646, 0.060253, 0.060938, 0.064098, 0.054095, 0.050202, 0.047871, 0.040210, 0.027244, 0.013577, 0.014984, 0.017810, 0.028183, 0.024521, 0.018646, 0.009019, 0.003830, 0.006354, -0.001736, 0.000501, -0.006070, -0.002072, -0.003072, 0.005087, 0.002399, -0.003736, -0.016403, -0.020121, -0.035522, -0.030661, -0.025421, -0.013272, -0.006123, -0.010818, -0.023185, -0.035563, -0.034828, -0.026186, -0.016270, -0.011891, 0.005809, 0.020218, 0.021355, 0.024012, 0.027139, 0.021109, 0.025195, 0.044270
	0.088457, 0.087677, 0.064418, 0.057560, 0.062520, 0.067013, 0.057663, 0.047362, 0.046973, 0.043265, 0.029891, 0.015664, 0.017563, 0.020680, 0.034738, 0.024166, 0.022371, 0.014589, 0.010816, 0.014789, 0.001031, -0.000868, -0.005945, 0.000676, 0.001004, 0.007318, 0.004258, 0.002836, -0.014605, -0.023583, -0.031463, -0.037230, -0.025734, -0.014763, -0.008830, -0.006193, -0.017585, -0.032187, -0.027169, -0.019499, -0.012858, -0.006667, 0.007475, 0.024266, 0.027993, 0.030199, 0.030077, 0.027306, 0.028508, 0.049126
	0.088028, 0.078352, 0.061035, 0.056909, 0.060159, 0.062122, 0.048736, 0.042681, 0.045684, 0.038992, 0.025193, 0.019409, 0.018673, 0.018892, 0.034580, 0.030069, 0.014756, 0.009846, 0.008539, 0.008097, 0.000376, -0.005477, -0.010647, -0.009957, -0.007335, 0.003308, -0.000642, -0.008165, -0.021466, -0.026182, -0.031528, -0.033929, -0.023972, -0.013145, -0.005428, -0.013202, -0.018432, -0.031320, -0.024958, -0.015796, -0.011034, -0.006548, 0.009814, 0.026374, 0.030059, 0.029317, 0.033793, 0.030181, 0.028546, 0.047740
	0.092813, 0.085373, 0.061098, 0.056098, 0.062286, 0.060124, 0.048274, 0.047188, 0.043733, 0.036087, 0.018737, 0.014675, 0.014697, 0.019858, 0.031616, 0.025229, 0.012182, 0.005681, 0.007625, 0.005992, -0.005051, -0.006120, -0.007776, -0.007759, -0.008180, 0.004477, 0.004935, -0.003020, -0.013031, -0.016750, -0.024342, -0.025072, -0.014018, -0.004705, -0.004158, -0.008743, -0.013036, -0.026429, -0.019972, -0.012924, -0.013192, -0.006431, 0.009174, 0.019394, 0.027372, 0.028416, 0.033224, 0.027889, 0.029261, 0.049206
	0.087957, 0.085524, 0.062426, 0.058261, 0.063455, 0.067386, 0.052951, 0.048915, 0.048910, 0.039927, 0.027429, 0.023464, 0.020461, 0.018365, 0.027388, 0.022655, 0.021146, 0.013035, 0.006883, 0.011311, 0.003880, -0.000249, -0.000016, -0.001080, -0.000236, 0.013478, 0.014311, 0.003630, -0.005242, -0.008771, -0.012716, -0.016831, -0.008985, -0.001733, 0.001474, -0.001346, -0.007891, -0.023659, -0.020369, -0.015236, -0.013030, -0.004218, 0.011601, 0.026079, 0.028683, 0.029389, 0.031330, 0.029466, 0.030785, 0.050904
	0.093743, 0.088813, 0.069925, 0.063519, 0.061570, 0.069142, 0.060680, 0.050333, 0.046570, 0.046249, 0.034999, 0.028751, 0.018490, 0.018369, 0.032885, 0.028910, 0.025376, 0.021506, 0.014347, 0.018969, 0.013462, 0.002874, 0.002934, 0.002742, 0.006827, 0.015158, 0.013296, -0.008142, -0.008050, -0.010523, -0.015802, -0.015769, -0.012108, -0.005821, -0.002027, -0.012111, -0.010243, -0.020025, -0.017469, -0.010113, -0.011604, -0.001677, 0.020827, 0.030890, 0.027945, 0.031830, 0.031252, 0.029546, 0.034195, 0.053488
	0.093889, 0.087703, 0.071474, 0.060555, 0.063219, 0.067807, 0.059383, 0.048811, 0.053762, 0.051278, 0.033437, 0.030435, 0.024456, 0.025509, 0.038488, 0.032250, 0.019973, 0.023663, 0.016085, 0.015391, 0.011144, 0.000331, -0.001138, -0.004343, 0.001486, 0.012841, 0.012071, -0.002717, -0.010258, -0.013927, -0.011899, -0.010078, -0.002303, -0.002228, 0.002193, -0.005745, -0.006249, -0.012410, -0.012154, -0.003729, -0.005027, 0.005122, 0.022815, 0.026416, 0.029526, 0.035358, 0.034171, 0.030352, 0.036784, 0.054440
	0.100947, 0.092983, 0.066969, 0.071480, 0.070965, 0.073815, 0.065209, 0.054779, 0.059491, 0.061028, 0.039754, 0.036091, 0.030705, 0.025945, 0.043990, 0.038059, 0.029940, 0.032604, 0.019523, 0.017823, 0.017479, 0.002658, 0.005944, -0.002013, -0.001346, 0.015790, 0.018587, 0.007982, 0.001451, -0.005012, -0.009247, -0.004349, 0.004795, 0.005763, 0.013646, 0.004621, -0.000083, -0.007708, -0.005312, -0.001745, -0.001831, 0.005666, 0.018306, 0.020124, 0.028235, 0.038771, 0.043353, 0.039131, 0.038345, 0.049783
	0.102343, 0.079747, 0.069152, 0.071216, 0.078183, 0.073151, 0.060407, 0.048878, 0.055530, 0.056618, 0.028389, 0.019196, 0.015571, 0.014479, 0.034060, 0.030095, 0.017233, 0.024230, 0.020720, 0.021540, 0.018147, 0.006654, 0.009245, 0.002850, 0.010840, 0.019175, 0.021616, 0.015202, 0.006851, -0.002446, -0.000590, -0.002994, 0.008882, 0.015459, 0.017171, 0.015915, 0.001418, -0.013104, -0.009109, -0.001338, -0.006908, 0.006863, 0.011641, 0.016858, 0.027387, 0.041787, 0.040056, 0.035991, 0.030730, 0.043463
	0.104978, 0.072247, 0.064415, 0.065286, 0.078540, 0.074983, 0.054678, 0.036263, 0.047983, 0.054410, 0.029679, 0.017312, 0.008350, 0.001307, 0.028197, 0.033877, 0.017517, 0.023428, 0.027328, 0.022032, 0.019317, 0.010961, 0.010372, 0.005627, 0.010580, 0.017197, 0.026244, 0.007593, -0.000413, -0.008593, -0.007958, -0.002656, 0.009843, 0.008253, 0.013629, 0.008031, -0.005308, -0.016383, -0.016780, -0.002594, -0.003421, 0.005142, 0.008353, 0.013920, 0.029160, 0.044923, 0.044849, 0.031709, 0.026740, 0.041726
	0.113409, 0.089203, 0.072725, 0.076236, 0.084746, 0.091203, 0.065012, 0.045050, 0.050567, 0.061785, 0.032001, 0.018953, 0.012638, 0.003794, 0.025243, 0.036597, 0.018038, 0.016806, 0.023847, 0.030963, 0.024525, 0.018242, 0.012053, 0.005763, 0.011808, 0.016803, 0.019929, 0.018972, 0.004741, -0.005225, -0.002186, -0.000568, 0.008486, 0.020986, 0.017596, 0.015197, 0.000604, -0.019280, -0.019381, -0.006453, 0.002846, 0.006384, 0.012743, 0.017929, 0.028937, 0.045868, 0.045684, 0.029146, 0.024718, 0.036973
	0.120450, 0.100660, 0.084311, 0.083848, 0.091279, 0.103921, 0.078614, 0.054788, 0.060426, 0.073440, 0.044110, 0.024820, 0.020519, 0.012910, 0.035730, 0.047184, 0.023820, 0.014659, 0.029071, 0.043718, 0.027381, 0.019180, 0.016361, 0.016302, 0.020833, 0.023723, 0.023792, 0.016668, 0.009975, 0.005064, 0.008356, 0.009576, 0.017460, 0.031874, 0.023024, 0.022305, 0.005956, -0.014661, -0.017293, -0.013356, -0.002199, 0.006862, 0.016833, 0.019475, 0.030673, 0.045812, 0.050116, 0.029401, 0.023930, 0.038335
	0.133211, 0.098620, 0.087558, 0.083990, 0.094285, 0.099360, 0.073288, 0.057144, 0.064312, 0.064230, 0.034611, 0.026074, 0.016807, 0.015575, 0.038533, 0.043794, 0.015536, 0.020497, 0.036614, 0.036987, 0.032578, 0.022972, 0.024342, 0.024760, 0.022761, 0.033110, 0.030606, 0.019649, 0.017791, 0.012384, 0.013374, 0.021190, 0.023492, 0.031039, 0.026007, 0.029509, 0.009613, -0.011354, -0.019443, -0.019619, -0.007263, 0.007431, 0.030095, 0.028959, 0.041513, 0.054891, 0.060728, 0.040452, 0.033446, 0.041020
	0.136490, 0.098113, 0.085220, 0.083755, 0.099744, 0.099093, 0.070001, 0.052168, 0.064976, 0.072823, 0.038410, 0.025443, 0.023047, 0.019528, 0.048079, 0.051981, 0.026062, 0.028914, 0.040709, 0.038696, 0.048047, 0.034678, 0.033419, 0.033483, 0.027376, 0.042572, 0.035431, 0.036607, 0.024279, 0.018843, 0.022416, 0.025652, 0.028584, 0.034607, 0.037902, 0.037308, 0.030317, 0.008404, -0.001356, -0.006654, -0.004512, 0.007533, 0.031687, 0.039112, 0.049083, 0.061708, 0.074537, 0.056633, 0.043094, 0.054134
	0.146833, 0.112474, 0.097866, 0.092508, 0.100972, 0.107580, 0.083776, 0.063020, 0.071479, 0.077820, 0.047298, 0.035254, 0.033430, 0.030920, 0.055003, 0.061468, 0.034084, 0.036907, 0.051342, 0.042825, 0.050767, 0.044262, 0.034327, 0.033248, 0.030355, 0.038668, 0.035464, 0.038087, 0.024441, 0.023830, 0.018602, 0.021275, 0.030875, 0.045243, 0.045547, 0.044591, 0.033306, 0.020864, 0.011924, 0.011143, 0.007191, 0.016680, 0.032058, 0.041865, 0.062772, 0.070557, 0.082751, 0.065580, 0.051272, 0.062580
	0.150736, 0.123497, 0.100174, 0.095619, 0.110264, 0.115826, 0.084460, 0.064896, 0.075283, 0.082733, 0.052090, 0.043978, 0.035501, 0.036563, 0.060141, 0.061057, 0.037921, 0.042990, 0.043878, 0.032688, 0.048922, 0.038121, 0.026806, 0.023290, 0.020640, 0.039312, 0.043510, 0.042967, 0.023771, 0.024834, 0.023302, 0.023720, 0.038058, 0.053500, 0.050901, 0.054787, 0.033051, 0.028621, 0.018725, 0.021478, 0.017041, 0.024571, 0.029351, 0.037882, 0.059046, 0.074473, 0.081621, 0.068575, 0.055484, 0.064583
x_count = 50
y_count = 50
mesh_x_pps = 2
mesh_y_pps = 2
algo = bicubic
tension = 0.2
min_x = 16.0
max_x = 330.0
min_y = 59.0
max_y = 305.0

[cartographer scan_model default]
coefficients = 1.5035015500152602,2.018040234659744,0.8853318987672582,0.3273419296800076,0.2601657182774804,0.45168710064803386,-0.013678528269968468,-0.3117914528885928,0.16597795196205,0.21786512457700313
domain = 3.181714825303025e-07,3.2866092125720106e-07
z_offset = 0
reference_temperature = 24.32
software_version = 1.1.0
mcu_version = CARTOGRAPHER 5.0.0

[cartographer touch_model default]
threshold = 1045
speed = 2
z_offset = -0.05
software_version = 1.3.1
mcu_version = CARTOGRAPHER 5.0.0
=======================
[cartographer] Loaded Cartographer3D Plugin version 1.3.3 using KlipperIntegrator
Using thermistor beta 4340.002 in heater heater_bed
HDC1080 temperature sensor registered successfully
Extruder max_extrude_ratio=3.326014
Extruder max_extrude_ratio=3.326014
Extruder max_extrude_ratio=3.326014
Extruder max_extrude_ratio=3.326014
Extruder max_extrude_ratio=3.326014
Extruder max_extrude_ratio=3.326014
mcu 'mcu': Starting CAN connect
Created a socket
webhooks client 140733990035536: New connection
webhooks client 140733990035536: Client info {'program': 'Moonraker', 'version': 'v0.9.3-130-g5b92e52'}
mcu 'mcu': got {'oid': 23, 'next_clock': 2218842752, 'value': 31446, '#name': 'analog_in_state', '#sent_time': 298.995480544, '#receive_time': 298.997974766}
mcu 'mcu': got {'oid': 28, 'next_clock': 2244842752, 'value': 6419, '#name': 'analog_in_state', '#sent_time': 299.045865673, '#receive_time': 299.047963043}
Loaded MCU 'mcu' 137 commands (v0.13.0-395-gf04895f5 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c3_PA8_PC9=PA8,PC9 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi2b=PI2,PI3,PI1 BUS_PINS_spi3a=PC11,PC12,PC10 BUS_PINS_spi4=PE13,PE14,PE12 BUS_PINS_spi5=PF8,PF9,PF7 BUS_PINS_spi5a=PH7,PF11,PH6 BUS_PINS_spi6=PG12,PG14,PG13 CANBUS_BRIDGE=1 CLOCK_FREQ=520000000 MCU=stm32h723xx PWM_MAX=257 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PD0,PD1 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PH0,PH1 STATS_SUMSQ_BASE=256 STEPPER_STEP_BOTH_EDGE=1
mcu 'EBBT0': Starting CAN connect
Created a socket
mcu 'mcu': got {'oid': 23, 'next_clock': 2374842752, 'value': 31447, '#name': 'analog_in_state', '#sent_time': 299.199119303, '#receive_time': 299.29794158}
mcu 'mcu': got {'oid': 28, 'next_clock': 2400842752, 'value': 6424, '#name': 'analog_in_state', '#sent_time': 299.199119303, '#receive_time': 299.347933951}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3225081536, 'value': 31545, '#name': 'analog_in_state', '#sent_time': 299.409814154, '#receive_time': 299.45905254300004}
mcu 'mcu': got {'oid': 23, 'next_clock': 2530842752, 'value': 31447, '#name': 'analog_in_state', '#sent_time': 299.199119303, '#receive_time': 299.597916562}
mcu 'mcu': got {'oid': 28, 'next_clock': 2556842752, 'value': 6422, '#name': 'analog_in_state', '#sent_time': 299.199119303, '#receive_time': 299.647908136}
mcu 'EBBT0': got {'count': 619, 'sum': 572150, 'sumsq': 4991225, '#name': 'stats', '#sent_time': 299.66383959899997, '#receive_time': 299.664207025}
Loaded MCU 'EBBT0' 120 commands (v0.12.0-410-gcf3b0475d / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'EBBT0' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_i2c3_PC0_PC1=PC0,PC1 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2_PB2_PB11_PB10=PB2,PB11,PB10 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB0,PB1 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'EBBT1': Starting CAN connect
Created a socket
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3244281536, 'value': 31545, '#name': 'analog_in_state', '#sent_time': 299.716152654, '#receive_time': 299.759138006}
mcu 'mcu': got {'oid': 23, 'next_clock': 2686842752, 'value': 31448, '#name': 'analog_in_state', '#sent_time': 299.199119303, '#receive_time': 299.897906284}
mcu 'mcu': got {'oid': 28, 'next_clock': 2712842752, 'value': 6417, '#name': 'analog_in_state', '#sent_time': 299.199119303, '#receive_time': 299.947882284}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3262478929, 'value': 31525, '#name': 'analog_in_state', '#sent_time': 300.030435654, '#receive_time': 300.056794691}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3263481536, 'value': 31547, '#name': 'analog_in_state', '#sent_time': 299.716152654, '#receive_time': 300.059048413}
mcu 'mcu': got {'oid': 23, 'next_clock': 2842842752, 'value': 31449, '#name': 'analog_in_state', '#sent_time': 300.18349458, '#receive_time': 300.19786095}
Loaded MCU 'EBBT1' 122 commands (v0.12.0-432-gfec3e685c / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'EBBT1' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_i2c3_PC0_PC1=PC0,PC1 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2_PB2_PB11_PB10=PB2,PB11,PB10 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB0,PB1 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'EBBT2': Starting CAN connect
Created a socket
mcu 'mcu': got {'oid': 28, 'next_clock': 2868842752, 'value': 6422, '#name': 'analog_in_state', '#sent_time': 300.18349458, '#receive_time': 300.247878006}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3280690985, 'value': 31523, '#name': 'analog_in_state', '#sent_time': 300.344204728, '#receive_time': 300.35629783900004}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3281678929, 'value': 31528, '#name': 'analog_in_state', '#sent_time': 300.23537717199997, '#receive_time': 300.35680906100004}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3282681536, 'value': 31543, '#name': 'analog_in_state', '#sent_time': 299.716152654, '#receive_time': 300.35905145000004}
mcu 'mcu': got {'oid': 23, 'next_clock': 2998842752, 'value': 31445, '#name': 'analog_in_state', '#sent_time': 300.18349458, '#receive_time': 300.497840339}
mcu 'mcu': got {'oid': 28, 'next_clock': 3024842752, 'value': 6423, '#name': 'analog_in_state', '#sent_time': 300.18349458, '#receive_time': 300.547835191}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3299890985, 'value': 31523, '#name': 'analog_in_state', '#sent_time': 300.65055995, '#receive_time': 300.65632987600003}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3300878929, 'value': 31525, '#name': 'analog_in_state', '#sent_time': 300.23537717199997, '#receive_time': 300.656788339}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3301881536, 'value': 31543, '#name': 'analog_in_state', '#sent_time': 299.716152654, '#receive_time': 300.659039043}
Loaded MCU 'EBBT2' 121 commands (v0.12.0-289-g08a1c9f1 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'EBBT2' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_i2c3_PC0_PC1=PC0,PC1 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2_PB2_PB11_PB10=PB2,PB11,PB10 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB0,PB1 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'EBBT3': Starting CAN connect
Created a socket
mcu 'mcu': got {'oid': 23, 'next_clock': 3154842752, 'value': 31449, '#name': 'analog_in_state', '#sent_time': 300.18349458, '#receive_time': 300.797819691}
mcu 'mcu': got {'oid': 28, 'next_clock': 3180842752, 'value': 6421, '#name': 'analog_in_state', '#sent_time': 300.18349458, '#receive_time': 300.847887357}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3319090985, 'value': 31523, '#name': 'analog_in_state', '#sent_time': 300.754277876, '#receive_time': 300.956280746}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3320078929, 'value': 31523, '#name': 'analog_in_state', '#sent_time': 300.23537717199997, '#receive_time': 300.956802061}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3321081536, 'value': 31543, '#name': 'analog_in_state', '#sent_time': 300.700549524, '#receive_time': 300.95905159800003}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3318785840, 'value': 31503, '#name': 'analog_in_state', '#sent_time': 300.963062061, '#receive_time': 300.968196728}
mcu 'mcu': got {'oid': 23, 'next_clock': 3310842752, 'value': 31447, '#name': 'analog_in_state', '#sent_time': 300.18349458, '#receive_time': 301.097790302}
mcu 'mcu': got {'oid': 28, 'next_clock': 3336842752, 'value': 6421, '#name': 'analog_in_state', '#sent_time': 300.18349458, '#receive_time': 301.147781561}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3338290985, 'value': 31520, '#name': 'analog_in_state', '#sent_time': 300.754277876, '#receive_time': 301.256283079}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3339278929, 'value': 31522, '#name': 'analog_in_state', '#sent_time': 301.220009857, '#receive_time': 301.25678624600005}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3340281536, 'value': 31544, '#name': 'analog_in_state', '#sent_time': 300.700549524, '#receive_time': 301.259041653}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3337985840, 'value': 31506, '#name': 'analog_in_state', '#sent_time': 301.217368024, '#receive_time': 301.268166246}
Loaded MCU 'EBBT3' 121 commands (v0.12.0-289-g08a1c9f1 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'EBBT3' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_i2c3_PC0_PC1=PC0,PC1 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2_PB2_PB11_PB10=PB2,PB11,PB10 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB0,PB1 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'EBBT4': Starting CAN connect
Created a socket
mcu 'mcu': got {'oid': 23, 'next_clock': 3466842752, 'value': 31445, '#name': 'analog_in_state', '#sent_time': 301.168163301, '#receive_time': 301.397758912}
mcu 'mcu': got {'oid': 28, 'next_clock': 3492842752, 'value': 6423, '#name': 'analog_in_state', '#sent_time': 301.168163301, '#receive_time': 301.447761764}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3357490985, 'value': 31525, '#name': 'analog_in_state', '#sent_time': 300.754277876, '#receive_time': 301.556275968}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3358478929, 'value': 31525, '#name': 'analog_in_state', '#sent_time': 301.220009857, '#receive_time': 301.55677728300003}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3359481536, 'value': 31544, '#name': 'analog_in_state', '#sent_time': 300.700549524, '#receive_time': 301.55904474600004}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3356200563, 'value': 31476, '#name': 'analog_in_state', '#sent_time': 301.536443357, '#receive_time': 301.567486431}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3357185840, 'value': 31502, '#name': 'analog_in_state', '#sent_time': 301.270117116, '#receive_time': 301.568143209}
mcu 'mcu': got {'oid': 23, 'next_clock': 3622842752, 'value': 31444, '#name': 'analog_in_state', '#sent_time': 301.168163301, '#receive_time': 301.697757227}
mcu 'mcu': got {'oid': 28, 'next_clock': 3648842752, 'value': 6421, '#name': 'analog_in_state', '#sent_time': 301.168163301, '#receive_time': 301.747743431}
Loaded MCU 'EBBT4' 122 commands (v0.12.0-432-gfec3e685c / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'EBBT4' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_i2c3_PC0_PC1=PC0,PC1 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2_PB2_PB11_PB10=PB2,PB11,PB10 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB0,PB1 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'EBBT5': Starting CAN connect
Created a socket
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3376690985, 'value': 31523, '#name': 'analog_in_state', '#sent_time': 301.738387523, '#receive_time': 301.85631369000004}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3377678929, 'value': 31522, '#name': 'analog_in_state', '#sent_time': 301.220009857, '#receive_time': 301.856884857}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3378681536, 'value': 31541, '#name': 'analog_in_state', '#sent_time': 301.684504394, '#receive_time': 301.85903889400004}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3375400563, 'value': 31470, '#name': 'analog_in_state', '#sent_time': 301.794327857, '#receive_time': 301.867551153}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3376385840, 'value': 31504, '#name': 'analog_in_state', '#sent_time': 301.270117116, '#receive_time': 301.868130764}
mcu 'mcu': got {'oid': 23, 'next_clock': 3778842752, 'value': 31447, '#name': 'analog_in_state', '#sent_time': 301.168163301, '#receive_time': 301.997752764}
mcu 'mcu': got {'oid': 28, 'next_clock': 3804842752, 'value': 6422, '#name': 'analog_in_state', '#sent_time': 301.168163301, '#receive_time': 302.04771306}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3395890985, 'value': 31524, '#name': 'analog_in_state', '#sent_time': 301.738387523, '#receive_time': 302.156267227}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3396878929, 'value': 31528, '#name': 'analog_in_state', '#sent_time': 301.220009857, '#receive_time': 302.156774912}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3397881536, 'value': 31545, '#name': 'analog_in_state', '#sent_time': 301.684504394, '#receive_time': 302.159039968}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3394600563, 'value': 31472, '#name': 'analog_in_state', '#sent_time': 301.794327857, '#receive_time': 302.167463116}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3395585840, 'value': 31508, '#name': 'analog_in_state', '#sent_time': 301.270117116, '#receive_time': 302.168136005}
mcu 'EBBT5': got {'oid': 8, 'next_clock': 3393630749, 'value': 31345, '#name': 'analog_in_state', '#sent_time': 302.162632005, '#receive_time': 302.168255782}
mcu 'mcu': got {'oid': 23, 'next_clock': 3934842752, 'value': 31446, '#name': 'analog_in_state', '#sent_time': 302.152211264, '#receive_time': 302.297687301}
Loaded MCU 'EBBT5' 121 commands (v0.12.0-289-g08a1c9f1 / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'EBBT5' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_i2c3_PC0_PC1=PC0,PC1 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2_PB2_PB11_PB10=PB2,PB11,PB10 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB0,PB1 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'cartographer': Starting serial connect
mcu 'mcu': got {'oid': 28, 'next_clock': 3960842752, 'value': 6424, '#name': 'analog_in_state', '#sent_time': 302.152211264, '#receive_time': 302.347682134}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3415090985, 'value': 31522, '#name': 'analog_in_state', '#sent_time': 301.738387523, '#receive_time': 302.456269356}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3416078929, 'value': 31524, '#name': 'analog_in_state', '#sent_time': 302.204329245, '#receive_time': 302.456788597}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3417081536, 'value': 31540, '#name': 'analog_in_state', '#sent_time': 301.684504394, '#receive_time': 302.459038153}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3413800563, 'value': 31474, '#name': 'analog_in_state', '#sent_time': 301.794327857, '#receive_time': 302.46746069}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3414785840, 'value': 31504, '#name': 'analog_in_state', '#sent_time': 302.254169023, '#receive_time': 302.468124504}
mcu 'EBBT5': got {'oid': 8, 'next_clock': 3412830749, 'value': 31343, '#name': 'analog_in_state', '#sent_time': 302.329619338, '#receive_time': 302.468268782}
mcu 'mcu': got {'oid': 23, 'next_clock': 4090842752, 'value': 31445, '#name': 'analog_in_state', '#sent_time': 302.152211264, '#receive_time': 302.597656115}
mcu 'mcu': got {'oid': 28, 'next_clock': 4116842752, 'value': 6421, '#name': 'analog_in_state', '#sent_time': 302.152211264, '#receive_time': 302.647657523}
mcu 'cartographer': got {'oid': 3, 'next_clock': 2570398044, 'value': 13990, '#name': 'analog_in_state', '#sent_time': 302.714953375, '#receive_time': 302.718509189}
mcu 'cartographer': got {'clock': 2557720600, 'data': 33887651, 'temp': 54576, '#name': 'cartographer_data', '#sent_time': 302.714953375, '#receive_time': 302.748509986}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3434290985, 'value': 31520, '#name': 'analog_in_state', '#sent_time': 302.722896097, '#receive_time': 302.756294856}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3435278929, 'value': 31529, '#name': 'analog_in_state', '#sent_time': 302.204329245, '#receive_time': 302.75677848600003}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3436281536, 'value': 31540, '#name': 'analog_in_state', '#sent_time': 302.668920023, '#receive_time': 302.759037504}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3433000563, 'value': 31470, '#name': 'analog_in_state', '#sent_time': 301.794327857, '#receive_time': 302.76745876300004}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3433985840, 'value': 31507, '#name': 'analog_in_state', '#sent_time': 302.254169023, '#receive_time': 302.768150578}
mcu 'EBBT5': got {'oid': 8, 'next_clock': 3432030749, 'value': 31344, '#name': 'analog_in_state', '#sent_time': 302.329619338, '#receive_time': 302.76828306000004}
mcu 'mcu': got {'oid': 23, 'next_clock': 4246842752, 'value': 31446, '#name': 'analog_in_state', '#sent_time': 302.152211264, '#receive_time': 302.897646745}
mcu 'mcu': got {'oid': 28, 'next_clock': 4272842752, 'value': 6422, '#name': 'analog_in_state', '#sent_time': 302.152211264, '#receive_time': 302.947650949}
Loaded MCU 'cartographer' 71 commands (CARTOGRAPHER 5.0.0 / )
MCU 'cartographer' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_spi1=PA6,PA7,PA5 CARTOGRAPHER_ADC_SMOOTH_COUNT=16 CLOCK_FREQ=48000000 MCU=stm32f042x6 PWM_MAX=2 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'Pico': Starting serial connect
mcu 'cartographer': got {'oid': 3, 'next_clock': 2584798044, 'value': 13977, '#name': 'analog_in_state', '#sent_time': 302.977521874, '#receive_time': 303.018536041}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3453490985, 'value': 31526, '#name': 'analog_in_state', '#sent_time': 302.722896097, '#receive_time': 303.056302115}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3454478929, 'value': 31523, '#name': 'analog_in_state', '#sent_time': 302.204329245, '#receive_time': 303.05675578200004}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3455481536, 'value': 31544, '#name': 'analog_in_state', '#sent_time': 302.668920023, '#receive_time': 303.05902500400003}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3452200563, 'value': 31473, '#name': 'analog_in_state', '#sent_time': 302.779012986, '#receive_time': 303.067448652}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3453185840, 'value': 31504, '#name': 'analog_in_state', '#sent_time': 302.254169023, '#receive_time': 303.068121226}
mcu 'EBBT5': got {'oid': 8, 'next_clock': 3451230749, 'value': 31341, '#name': 'analog_in_state', '#sent_time': 302.329619338, '#receive_time': 303.068228708}
mcu 'cartographer': got {'clock': 2577720600, 'data': 33887651, 'temp': 54556, '#name': 'cartographer_data', '#sent_time': 302.977521874, '#receive_time': 303.165548504}
mcu 'mcu': got {'oid': 23, 'next_clock': 107875456, 'value': 31445, '#name': 'analog_in_state', '#sent_time': 303.136608374, '#receive_time': 303.197613041}
mcu 'mcu': got {'oid': 28, 'next_clock': 133875456, 'value': 6420, '#name': 'analog_in_state', '#sent_time': 303.136608374, '#receive_time': 303.247613134}
mcu 'cartographer': got {'oid': 3, 'next_clock': 2599198044, 'value': 13969, '#name': 'analog_in_state', '#sent_time': 302.977521874, '#receive_time': 303.318552671}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3472690985, 'value': 31525, '#name': 'analog_in_state', '#sent_time': 302.722896097, '#receive_time': 303.356252115}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3473678929, 'value': 31525, '#name': 'analog_in_state', '#sent_time': 303.191078634, '#receive_time': 303.35674993000003}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3474681536, 'value': 31543, '#name': 'analog_in_state', '#sent_time': 302.668920023, '#receive_time': 303.35904313400005}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3471400563, 'value': 31474, '#name': 'analog_in_state', '#sent_time': 302.779012986, '#receive_time': 303.36744550400005}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3472385840, 'value': 31506, '#name': 'analog_in_state', '#sent_time': 303.238506022, '#receive_time': 303.368111874}
mcu 'EBBT5': got {'oid': 8, 'next_clock': 3470430749, 'value': 31343, '#name': 'analog_in_state', '#sent_time': 303.314390226, '#receive_time': 303.368228819}
mcu 'mcu': got {'oid': 23, 'next_clock': 263875456, 'value': 31444, '#name': 'analog_in_state', '#sent_time': 303.136608374, '#receive_time': 303.497590096}
mcu 'mcu': got {'oid': 28, 'next_clock': 289875456, 'value': 6421, '#name': 'analog_in_state', '#sent_time': 303.136608374, '#receive_time': 303.547579059}
mcu 'cartographer': got {'clock': 2597720590, 'data': 33888135, 'temp': 54586, '#name': 'cartographer_data', '#sent_time': 302.977521874, '#receive_time': 303.581678726}
Loaded MCU 'Pico' 121 commands (v0.13.0-91-gca83c13f3-dirty-20250601_093842-pi / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'Pico' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0_gpio0_gpio3_gpio2=gpio0,gpio3,gpio2 BUS_PINS_spi0_gpio16_gpio19_gpio18=gpio16,gpio19,gpio18 BUS_PINS_spi0_gpio20_gpio23_gpio22=gpio20,gpio23,gpio22 BUS_PINS_spi0_gpio4_gpio3_gpio2=gpio4,gpio3,gpio2 BUS_PINS_spi0_gpio4_gpio7_gpio6=gpio4,gpio7,gpio6 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1_gpio12_gpio11_gpio10=gpio12,gpio11,gpio10 BUS_PINS_spi1_gpio12_gpio15_gpio14=gpio12,gpio15,gpio14 BUS_PINS_spi1_gpio24_gpio27_gpio26=gpio24,gpio27,gpio26 BUS_PINS_spi1_gpio8_gpio11_gpio10=gpio8,gpio11,gpio10 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_OPTIMIZED_EDGE=2 STEPPER_STEP_BOTH_EDGE=1
mcu 'Turtle_1': Starting CAN connect
Created a socket
mcu 'cartographer': got {'oid': 3, 'next_clock': 2613598044, 'value': 13976, '#name': 'analog_in_state', '#sent_time': 302.977521874, '#receive_time': 303.618547504}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3491890985, 'value': 31524, '#name': 'analog_in_state', '#sent_time': 302.722896097, '#receive_time': 303.65632572600003}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3492878929, 'value': 31523, '#name': 'analog_in_state', '#sent_time': 303.191078634, '#receive_time': 303.656827207}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3493881536, 'value': 31541, '#name': 'analog_in_state', '#sent_time': 303.6529083, '#receive_time': 303.659461596}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3490600563, 'value': 31477, '#name': 'analog_in_state', '#sent_time': 302.779012986, '#receive_time': 303.667479393}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3491585840, 'value': 31503, '#name': 'analog_in_state', '#sent_time': 303.238506022, '#receive_time': 303.668094911}
mcu 'EBBT5': got {'oid': 8, 'next_clock': 3489630749, 'value': 31342, '#name': 'analog_in_state', '#sent_time': 303.314390226, '#receive_time': 303.66833096700003}
mcu 'mcu': got {'oid': 23, 'next_clock': 419875456, 'value': 31446, '#name': 'analog_in_state', '#sent_time': 303.136608374, '#receive_time': 303.798201467}
mcu 'mcu': got {'oid': 28, 'next_clock': 445875456, 'value': 6420, '#name': 'analog_in_state', '#sent_time': 303.136608374, '#receive_time': 303.847593911}
mcu 'cartographer': got {'oid': 3, 'next_clock': 2627998044, 'value': 13987, '#name': 'analog_in_state', '#sent_time': 302.977521874, '#receive_time': 303.918578948}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3511090985, 'value': 31525, '#name': 'analog_in_state', '#sent_time': 303.706953967, '#receive_time': 303.95623144800004}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3512078929, 'value': 31526, '#name': 'analog_in_state', '#sent_time': 303.191078634, '#receive_time': 303.956732911}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3513081536, 'value': 31544, '#name': 'analog_in_state', '#sent_time': 303.6529083, '#receive_time': 303.95901250400004}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3509800563, 'value': 31476, '#name': 'analog_in_state', '#sent_time': 303.800272152, '#receive_time': 303.96744211500004}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3510785840, 'value': 31504, '#name': 'analog_in_state', '#sent_time': 303.238506022, '#receive_time': 303.9681033}
mcu 'EBBT5': got {'oid': 8, 'next_clock': 3508830749, 'value': 31341, '#name': 'analog_in_state', '#sent_time': 303.314390226, '#receive_time': 303.968212578}
mcu 'Turtle_1': got {'oid': 10, 'next_clock': 545456831, 'value': 6522, '#name': 'analog_in_state', '#sent_time': 303.953213781, '#receive_time': 303.988107059}
mcu 'cartographer': got {'clock': 2617720600, 'data': 33888135, 'temp': 54566, '#name': 'cartographer_data', '#sent_time': 303.961743541, '#receive_time': 303.998576004}
mcu 'mcu': got {'oid': 23, 'next_clock': 575875456, 'value': 31445, '#name': 'analog_in_state', '#sent_time': 303.136608374, '#receive_time': 304.097562207}
mcu 'mcu': got {'oid': 28, 'next_clock': 601875456, 'value': 6419, '#name': 'analog_in_state', '#sent_time': 304.121118411, '#receive_time': 304.147564503}
Loaded MCU 'Turtle_1' 136 commands (v0.13.0-169-g9323a5dfe / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'Turtle_1' config: ADC_MAX=4095 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c3_PA8_PC9=PA8,PC9 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3a=PC11,PC12,PC10 BUS_PINS_spi4=PE13,PE14,PE12 BUS_PINS_spi5=PF8,PF9,PF7 BUS_PINS_spi5a=PH7,PF11,PH6 BUS_PINS_spi6=PG12,PG14,PG13 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=520000000 MCU=stm32h723xx PWM_MAX=257 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB8,PB9 RESERVE_PINS_crystal=PH0,PH1 STATS_SUMSQ_BASE=256 STEPPER_STEP_BOTH_EDGE=1
mcu 'fps': Starting CAN connect
Created a socket
mcu 'cartographer': got {'oid': 3, 'next_clock': 2642398044, 'value': 13950, '#name': 'analog_in_state', '#sent_time': 303.961743541, '#receive_time': 304.218588022}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3530290985, 'value': 31525, '#name': 'analog_in_state', '#sent_time': 303.706953967, '#receive_time': 304.25635589200004}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3531278929, 'value': 31526, '#name': 'analog_in_state', '#sent_time': 304.17239491099997, '#receive_time': 304.256795318}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3532281536, 'value': 31541, '#name': 'analog_in_state', '#sent_time': 303.6529083, '#receive_time': 304.259115114}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3529000563, 'value': 31471, '#name': 'analog_in_state', '#sent_time': 303.800272152, '#receive_time': 304.26749304000003}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3529985840, 'value': 31507, '#name': 'analog_in_state', '#sent_time': 304.223209226, '#receive_time': 304.268146318}
mcu 'EBBT5': got {'oid': 8, 'next_clock': 3528030749, 'value': 31344, '#name': 'analog_in_state', '#sent_time': 303.314390226, '#receive_time': 304.268253985}
mcu 'Turtle_1': got {'oid': 10, 'next_clock': 701456831, 'value': 6528, '#name': 'analog_in_state', '#sent_time': 304.209122781, '#receive_time': 304.288192929}
mcu 'mcu': got {'oid': 23, 'next_clock': 731875456, 'value': 31444, '#name': 'analog_in_state', '#sent_time': 304.121118411, '#receive_time': 304.397502985}
mcu 'fps': got {'oid': 0, 'next_clock': 3514921330, 'value': 161, '#name': 'analog_in_state', '#sent_time': 304.3731388, '#receive_time': 304.403512725}
mcu 'cartographer': got {'clock': 2637720600, 'data': 33888135, 'temp': 54552, '#name': 'cartographer_data', '#sent_time': 303.961743541, '#receive_time': 304.415585948}
mcu 'mcu': got {'oid': 28, 'next_clock': 757875456, 'value': 6421, '#name': 'analog_in_state', '#sent_time': 304.121118411, '#receive_time': 304.447514485}
mcu 'fps': got {'oid': 0, 'next_clock': 3521321330, 'value': 162, '#name': 'analog_in_state', '#sent_time': 304.474517837, '#receive_time': 304.503506911}
mcu 'cartographer': got {'oid': 3, 'next_clock': 2656798044, 'value': 13970, '#name': 'analog_in_state', '#sent_time': 303.961743541, '#receive_time': 304.518600485}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3549490985, 'value': 31522, '#name': 'analog_in_state', '#sent_time': 303.706953967, '#receive_time': 304.55624417}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3550478929, 'value': 31523, '#name': 'analog_in_state', '#sent_time': 304.17239491099997, '#receive_time': 304.55673407700004}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3551481536, 'value': 31545, '#name': 'analog_in_state', '#sent_time': 303.6529083, '#receive_time': 304.55901617}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3548200563, 'value': 31474, '#name': 'analog_in_state', '#sent_time': 303.800272152, '#receive_time': 304.56742941100003}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3549185840, 'value': 31505, '#name': 'analog_in_state', '#sent_time': 304.223209226, '#receive_time': 304.568092614}
mcu 'EBBT5': got {'oid': 8, 'next_clock': 3547230749, 'value': 31344, '#name': 'analog_in_state', '#sent_time': 304.298543244, '#receive_time': 304.568218688}
mcu 'Turtle_1': got {'oid': 10, 'next_clock': 857456831, 'value': 6524, '#name': 'analog_in_state', '#sent_time': 304.209122781, '#receive_time': 304.58813004}
mcu 'fps': got {'oid': 0, 'next_clock': 3527721330, 'value': 160, '#name': 'analog_in_state', '#sent_time': 304.576658614, '#receive_time': 304.603514336}
mcu 'mcu': got {'oid': 23, 'next_clock': 887875456, 'value': 31447, '#name': 'analog_in_state', '#sent_time': 304.121118411, '#receive_time': 304.697524133}
mcu 'fps': got {'oid': 0, 'next_clock': 3534121330, 'value': 162, '#name': 'analog_in_state', '#sent_time': 304.678714929, '#receive_time': 304.703526207}
Loaded MCU 'fps' 125 commands (v0.12.0-468-gd679f711e-dirty-20250402_182549-pi / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'fps' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_i2c3_PC0_PC1=PC0,PC1 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2_PB2_PB11_PB10=PB2,PB11,PB10 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB0,PB1 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_STEP_BOTH_EDGE=1
mcu 'oams_mcu1': Starting CAN connect
Created a socket
mcu 'mcu': got {'oid': 28, 'next_clock': 913875456, 'value': 6420, '#name': 'analog_in_state', '#sent_time': 304.121118411, '#receive_time': 304.747481281}
mcu 'fps': got {'oid': 0, 'next_clock': 3540521330, 'value': 159, '#name': 'analog_in_state', '#sent_time': 304.73095954, '#receive_time': 304.80352717}
mcu 'cartographer': got {'oid': 3, 'next_clock': 2671198044, 'value': 13989, '#name': 'analog_in_state', '#sent_time': 303.961743541, '#receive_time': 304.818615096}
mcu 'cartographer': got {'clock': 2657720600, 'data': 33887651, 'temp': 54604, '#name': 'cartographer_data', '#sent_time': 303.961743541, '#receive_time': 304.831667281}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3568690985, 'value': 31527, '#name': 'analog_in_state', '#sent_time': 304.691408614, '#receive_time': 304.85623359600004}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3569678929, 'value': 31531, '#name': 'analog_in_state', '#sent_time': 304.17239491099997, '#receive_time': 304.85674717}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3570681536, 'value': 31543, '#name': 'analog_in_state', '#sent_time': 304.637120336, '#receive_time': 304.859024207}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3567400563, 'value': 31472, '#name': 'analog_in_state', '#sent_time': 304.784168633, '#receive_time': 304.867417929}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3568385840, 'value': 31506, '#name': 'analog_in_state', '#sent_time': 304.223209226, '#receive_time': 304.86810904000004}
mcu 'EBBT5': got {'oid': 8, 'next_clock': 3566430749, 'value': 31346, '#name': 'analog_in_state', '#sent_time': 304.298543244, '#receive_time': 304.868194929}
mcu 'Turtle_1': got {'oid': 10, 'next_clock': 1013456831, 'value': 6525, '#name': 'analog_in_state', '#sent_time': 304.209122781, '#receive_time': 304.888117873}
mcu 'fps': got {'oid': 0, 'next_clock': 3546921330, 'value': 161, '#name': 'analog_in_state', '#sent_time': 304.73095954, '#receive_time': 304.903503855}
mcu 'mcu': got {'oid': 23, 'next_clock': 1043875456, 'value': 31442, '#name': 'analog_in_state', '#sent_time': 304.121118411, '#receive_time': 304.997465077}
mcu 'fps': got {'oid': 0, 'next_clock': 3553321330, 'value': 161, '#name': 'analog_in_state', '#sent_time': 304.73095954, '#receive_time': 305.003511373}
mcu 'mcu': got {'oid': 28, 'next_clock': 1069875456, 'value': 6420, '#name': 'analog_in_state', '#sent_time': 304.121118411, '#receive_time': 305.047454336}
mcu 'fps': got {'oid': 0, 'next_clock': 3559721330, 'value': 161, '#name': 'analog_in_state', '#sent_time': 304.73095954, '#receive_time': 305.103511281}
mcu 'cartographer': got {'oid': 3, 'next_clock': 2685598044, 'value': 13971, '#name': 'analog_in_state', '#sent_time': 304.945778707, '#receive_time': 305.118625984}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3587890985, 'value': 31520, '#name': 'analog_in_state', '#sent_time': 304.691408614, '#receive_time': 305.15620828100003}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3588878929, 'value': 31525, '#name': 'analog_in_state', '#sent_time': 304.17239491099997, '#receive_time': 305.15672211400005}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3589881536, 'value': 31544, '#name': 'analog_in_state', '#sent_time': 304.637120336, '#receive_time': 305.159023929}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3586600563, 'value': 31470, '#name': 'analog_in_state', '#sent_time': 304.784168633, '#receive_time': 305.167445521}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3587585840, 'value': 31500, '#name': 'analog_in_state', '#sent_time': 304.223209226, '#receive_time': 305.168093429}
mcu 'EBBT5': got {'oid': 8, 'next_clock': 3585630749, 'value': 31346, '#name': 'analog_in_state', '#sent_time': 304.298543244, '#receive_time': 305.16819505800004}
mcu 'Turtle_1': got {'oid': 10, 'next_clock': 1169456831, 'value': 6521, '#name': 'analog_in_state', '#sent_time': 304.209122781, '#receive_time': 305.188105781}
mcu 'fps': got {'oid': 0, 'next_clock': 3566121330, 'value': 161, '#name': 'analog_in_state', '#sent_time': 304.73095954, '#receive_time': 305.203513095}
Loaded MCU 'oams_mcu1' 54 commands (oams_2.0.19-921ebfe / )
MCU 'oams_mcu1' config: BUS_PINS_i2c0=PB6,PB7 CLOCK_FREQ=1000000 MCU=oams-stm32f072rbt6 MCU_VERSION=1.0 STATS_SUMSQ_BASE=256
mcu 'fps2': Starting CAN connect
Created a socket
mcu 'cartographer': got {'clock': 2677720600, 'data': 33887651, 'temp': 54591, '#name': 'cartographer_data', '#sent_time': 304.945778707, '#receive_time': 305.248626299}
mcu 'mcu': got {'oid': 23, 'next_clock': 1199875456, 'value': 31445, '#name': 'analog_in_state', '#sent_time': 305.105884947, '#receive_time': 305.297450151}
mcu 'fps': got {'oid': 0, 'next_clock': 3572521330, 'value': 158, '#name': 'analog_in_state', '#sent_time': 304.73095954, '#receive_time': 305.303556781}
mcu 'mcu': got {'oid': 28, 'next_clock': 1225875456, 'value': 6422, '#name': 'analog_in_state', '#sent_time': 305.105884947, '#receive_time': 305.347432132}
mcu 'fps2': got {'oid': 0, 'next_clock': 3576947096, 'value': 165, '#name': 'analog_in_state', '#sent_time': 305.383644317, '#receive_time': 305.403180188}
mcu 'fps': got {'oid': 0, 'next_clock': 3578921330, 'value': 160, '#name': 'analog_in_state', '#sent_time': 304.73095954, '#receive_time': 305.403495743}
mcu 'cartographer': got {'oid': 3, 'next_clock': 2699998044, 'value': 13966, '#name': 'analog_in_state', '#sent_time': 304.945778707, '#receive_time': 305.418659855}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3607090985, 'value': 31528, '#name': 'analog_in_state', '#sent_time': 304.691408614, '#receive_time': 305.456214354}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3608078929, 'value': 31523, '#name': 'analog_in_state', '#sent_time': 305.156859966, '#receive_time': 305.45670457700004}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3609081536, 'value': 31545, '#name': 'analog_in_state', '#sent_time': 304.637120336, '#receive_time': 305.459011651}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3605800563, 'value': 31472, '#name': 'analog_in_state', '#sent_time': 304.784168633, '#receive_time': 305.46741091}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3606785840, 'value': 31506, '#name': 'analog_in_state', '#sent_time': 305.20814246599997, '#receive_time': 305.46808454}
mcu 'EBBT5': got {'oid': 8, 'next_clock': 3604830749, 'value': 31347, '#name': 'analog_in_state', '#sent_time': 305.282570281, '#receive_time': 305.468189466}
mcu 'Turtle_1': got {'oid': 10, 'next_clock': 1325456831, 'value': 6526, '#name': 'analog_in_state', '#sent_time': 305.19404391, '#receive_time': 305.488107632}
mcu 'fps2': got {'oid': 0, 'next_clock': 3583347096, 'value': 166, '#name': 'analog_in_state', '#sent_time': 305.486062725, '#receive_time': 305.503181243}
mcu 'fps': got {'oid': 0, 'next_clock': 3585321330, 'value': 160, '#name': 'analog_in_state', '#sent_time': 304.73095954, '#receive_time': 305.503497503}
mcu 'mcu': got {'oid': 23, 'next_clock': 1355875456, 'value': 31444, '#name': 'analog_in_state', '#sent_time': 305.105884947, '#receive_time': 305.597427262}
mcu 'fps2': got {'oid': 0, 'next_clock': 3589747096, 'value': 166, '#name': 'analog_in_state', '#sent_time': 305.588394947, '#receive_time': 305.60319404}
mcu 'fps': got {'oid': 0, 'next_clock': 3591721330, 'value': 161, '#name': 'analog_in_state', '#sent_time': 304.73095954, '#receive_time': 305.603490669}
mcu 'mcu': got {'oid': 28, 'next_clock': 1381875456, 'value': 6421, '#name': 'analog_in_state', '#sent_time': 305.105884947, '#receive_time': 305.647425984}
mcu 'cartographer': got {'clock': 2697720590, 'data': 33888135, 'temp': 54555, '#name': 'cartographer_data', '#sent_time': 304.945778707, '#receive_time': 305.665667206}
mcu 'fps2': got {'oid': 0, 'next_clock': 3596147096, 'value': 165, '#name': 'analog_in_state', '#sent_time': 305.690395299, '#receive_time': 305.703167502}
mcu 'fps': got {'oid': 0, 'next_clock': 3598121330, 'value': 160, '#name': 'analog_in_state', '#sent_time': 304.73095954, '#receive_time': 305.703491928}
mcu 'cartographer': got {'oid': 3, 'next_clock': 2714398044, 'value': 13962, '#name': 'analog_in_state', '#sent_time': 304.945778707, '#receive_time': 305.718654002}
Loaded MCU 'fps2' 125 commands (v0.12.0-468-gd679f711e-dirty-20250402_182549-pi / gcc: (15:12.2.rel1-1) 12.2.1 20221205 binutils: (2.40-2+18+b1) 2.40)
MCU 'fps2' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_i2c3_PC0_PC1=PC0,PC1 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2_PB2_PB11_PB10=PB2,PB11,PB10 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CANBUS_FREQUENCY=1000000 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_CAN=PB0,PB1 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_STEP_BOTH_EDGE=1
mcu 'oams_mcu2': Starting CAN connect
Created a socket
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3626290985, 'value': 31523, '#name': 'analog_in_state', '#sent_time': 305.676245984, '#receive_time': 305.756208317}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3627278929, 'value': 31526, '#name': 'analog_in_state', '#sent_time': 305.156859966, '#receive_time': 305.756713428}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3628281536, 'value': 31546, '#name': 'analog_in_state', '#sent_time': 305.621080058, '#receive_time': 305.758999947}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3625000563, 'value': 31473, '#name': 'analog_in_state', '#sent_time': 304.784168633, '#receive_time': 305.767420447}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3625985840, 'value': 31504, '#name': 'analog_in_state', '#sent_time': 305.20814246599997, '#receive_time': 305.76807616900004}
mcu 'EBBT5': got {'oid': 8, 'next_clock': 3624030749, 'value': 31344, '#name': 'analog_in_state', '#sent_time': 305.282570281, '#receive_time': 305.768190225}
mcu 'Turtle_1': got {'oid': 10, 'next_clock': 1481456831, 'value': 6528, '#name': 'analog_in_state', '#sent_time': 305.19404391, '#receive_time': 305.788173799}
mcu 'fps2': got {'oid': 0, 'next_clock': 3602547096, 'value': 165, '#name': 'analog_in_state', '#sent_time': 305.742597058, '#receive_time': 305.803171614}
mcu 'fps': got {'oid': 0, 'next_clock': 3604521330, 'value': 162, '#name': 'analog_in_state', '#sent_time': 305.71508554, '#receive_time': 305.803496465}
mcu 'mcu': got {'oid': 23, 'next_clock': 1511875456, 'value': 31446, '#name': 'analog_in_state', '#sent_time': 305.105884947, '#receive_time': 305.897390632}
mcu 'fps2': got {'oid': 0, 'next_clock': 3608947096, 'value': 165, '#name': 'analog_in_state', '#sent_time': 305.742597058, '#receive_time': 305.903170225}
mcu 'fps': got {'oid': 0, 'next_clock': 3610921330, 'value': 162, '#name': 'analog_in_state', '#sent_time': 305.71508554, '#receive_time': 305.903497095}
mcu 'mcu': got {'oid': 28, 'next_clock': 1537875456, 'value': 6423, '#name': 'analog_in_state', '#sent_time': 305.105884947, '#receive_time': 305.947380743}
mcu 'fps2': got {'oid': 0, 'next_clock': 3615347096, 'value': 164, '#name': 'analog_in_state', '#sent_time': 305.742597058, '#receive_time': 306.003173984}
mcu 'fps': got {'oid': 0, 'next_clock': 3617321330, 'value': 159, '#name': 'analog_in_state', '#sent_time': 305.71508554, '#receive_time': 306.003492817}
mcu 'cartographer': got {'oid': 3, 'next_clock': 2728798044, 'value': 13996, '#name': 'analog_in_state', '#sent_time': 305.930046965, '#receive_time': 306.018669632}
mcu 'EBBT2': got {'oid': 7, 'next_clock': 3645490985, 'value': 31524, '#name': 'analog_in_state', '#sent_time': 305.676245984, '#receive_time': 306.05620635400004}
mcu 'EBBT1': got {'oid': 7, 'next_clock': 3646478929, 'value': 31525, '#name': 'analog_in_state', '#sent_time': 305.156859966, '#receive_time': 306.05670405800004}
mcu 'EBBT0': got {'oid': 7, 'next_clock': 3647481536, 'value': 31546, '#name': 'analog_in_state', '#sent_time': 305.621080058, '#receive_time': 306.059006947}
mcu 'EBBT4': got {'oid': 8, 'next_clock': 3644200563, 'value': 31475, '#name': 'analog_in_state', '#sent_time': 305.768606151, '#receive_time': 306.06743591000003}
mcu 'EBBT3': got {'oid': 8, 'next_clock': 3645185840, 'value': 31505, '#name': 'analog_in_state', '#sent_time': 305.20814246599997, '#receive_time': 306.068079206}
mcu 'EBBT5': got {'oid': 8, 'next_clock': 3643230749, 'value': 31345, '#name': 'analog_in_state', '#sent_time': 305.282570281, '#receive_time': 306.06819196500004}
mcu 'cartographer': got {'clock': 2717720600, 'data': 33888097, 'temp': 54473, '#name': 'cartographer_data', '#sent_time': 305.930046965, '#receive_time': 306.081721502}
mcu 'Turtle_1': got {'oid': 10, 'next_clock': 1637456831, 'value': 6527, '#name': 'analog_in_state', '#sent_time': 305.19404391, '#receive_time': 306.088088947}
mcu 'fps2': got {'oid': 0, 'next_clock': 3621747096, 'value': 164, '#name': 'analog_in_state', '#sent_time': 305.742597058, '#receive_time': 306.10317452099997}
mcu 'fps': got {'oid': 0, 'next_clock': 3623721330, 'value': 161, '#name': 'analog_in_state', '#sent_time': 305.71508554, '#receive_time': 306.103494465}
mcu 'mcu': got {'oid': 23, 'next_clock': 1667875456, 'value': 31444, '#name': 'analog_in_state', '#sent_time': 306.090176484, '#receive_time': 306.197361706}
mcu 'fps2': got {'oid': 0, 'next_clock': 3628147096, 'value': 165, '#name': 'analog_in_state', '#sent_time': 305.742597058, '#receive_time': 306.203160502}
mcu 'fps': got {'oid': 0, 'next_clock': 3630121330, 'value': 164, '#name': 'analog_in_state', '#sent_time': 305.71508554, '#receive_time': 306.203498428}
Loaded MCU 'oams_mcu2' 54 commands (oams_2.0.19-921ebfe / )
MCU 'oams_mcu2' config: BUS_PINS_i2c0=PB6,PB7 CLOCK_FREQ=1000000 MCU=oams-stm32f072rbt6 MCU_VERSION=1.0 STATS_SUMSQ_BASE=256
mcu_temperature 'cartographer' nominal base=336.638116 slope=-701.498929
mcu_temperature 'mcu' nominal base=-273.137255 slope=1605.882353
mcu_temperature 'Turtle_1' nominal base=-291.576763 slope=1699.170124
Configured MCU 'mcu' (1024 moves)
Configured MCU 'EBBT0' (1024 moves)
Configured MCU 'EBBT1' (1024 moves)
Configured MCU 'EBBT2' (1024 moves)
Configured MCU 'EBBT3' (1024 moves)
Configured MCU 'EBBT4' (1024 moves)
Configured MCU 'EBBT5' (1024 moves)
[cartographer] Initialized CARTOGRAPHER 5.0.0 MCU
[cartographer] Received constants: {'ADC_MAX': 4095, 'BUS_PINS_i2c1': 'PB6,PB7', 'BUS_PINS_spi1': 'PA6,PA7,PA5', 'CARTOGRAPHER_ADC_SMOOTH_COUNT': 16, 'CLOCK_FREQ': 48000000, 'MCU': 'stm32f042x6', 'PWM_MAX': 2, 'RESERVE_PINS_USB': 'PA11,PA12', 'RESERVE_PINS_crystal': 'PF0,PF1', 'STATS_SUMSQ_BASE': 256, 'STEPPER_BOTH_EDGE': 1}
Configured MCU 'cartographer' (1024 moves)
Configured MCU 'Pico' (1024 moves)
Configured MCU 'Turtle_1' (1024 moves)
Configured MCU 'fps' (1024 moves)
Configured MCU 'oams_mcu1' (0 moves)
Configured MCU 'fps2' (1024 moves)
Configured MCU 'oams_mcu2' (0 moves)
[cartographer] Stopping stream
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (16.0, -5.0)    | (16.0, 45.0)
  1   | (26.8, -5.0)    | (26.8, 45.0)
  2   | (37.6, -5.0)    | (37.6, 45.0)
  3   | (48.5, -5.0)    | (48.5, 45.0)
  4   | (59.3, -5.0)    | (59.3, 45.0)
  5   | (70.1, -5.0)    | (70.1, 45.0)
  6   | (80.9, -5.0)    | (80.9, 45.0)
  7   | (91.7, -5.0)    | (91.7, 45.0)
  8   | (102.6, -5.0)   | (102.6, 45.0)
  9   | (113.4, -5.0)   | (113.4, 45.0)
  10  | (124.2, -5.0)   | (124.2, 45.0)
  11  | (135.0, -5.0)   | (135.0, 45.0)
  12  | (145.8, -5.0)   | (145.8, 45.0)
  13  | (156.7, -5.0)   | (156.7, 45.0)
  14  | (167.5, -5.0)   | (167.5, 45.0)
  15  | (178.3, -5.0)   | (178.3, 45.0)
  16  | (189.1, -5.0)   | (189.1, 45.0)
  17  | (199.9, -5.0)   | (199.9, 45.0)
  18  | (210.8, -5.0)   | (210.8, 45.0)
  19  | (221.6, -5.0)   | (221.6, 45.0)
  20  | (232.4, -5.0)   | (232.4, 45.0)
  21  | (243.2, -5.0)   | (243.2, 45.0)
  22  | (254.0, -5.0)   | (254.0, 45.0)
  23  | (264.9, -5.0)   | (264.9, 45.0)
  24  | (275.7, -5.0)   | (275.7, 45.0)
  25  | (286.5, -5.0)   | (286.5, 45.0)
  26  | (297.3, -5.0)   | (297.3, 45.0)
  27  | (308.1, -5.0)   | (308.1, 45.0)
  28  | (319.0, -5.0)   | (319.0, 45.0)
  29  | (329.8, -5.0)   | (329.8, 45.0)
  30  | (329.8, 5.0)    | (329.8, 55.0)
  31  | (319.0, 5.0)    | (319.0, 55.0)
  32  | (308.1, 5.0)    | (308.1, 55.0)
  33  | (297.3, 5.0)    | (297.3, 55.0)
  34  | (286.5, 5.0)    | (286.5, 55.0)
  35  | (275.7, 5.0)    | (275.7, 55.0)
  36  | (264.9, 5.0)    | (264.9, 55.0)
  37  | (254.0, 5.0)    | (254.0, 55.0)
  38  | (243.2, 5.0)    | (243.2, 55.0)
  39  | (232.4, 5.0)    | (232.4, 55.0)
  40  | (221.6, 5.0)    | (221.6, 55.0)
  41  | (210.8, 5.0)    | (210.8, 55.0)
  42  | (199.9, 5.0)    | (199.9, 55.0)
  43  | (189.1, 5.0)    | (189.1, 55.0)
  44  | (178.3, 5.0)    | (178.3, 55.0)
  45  | (167.5, 5.0)    | (167.5, 55.0)
  46  | (156.7, 5.0)    | (156.7, 55.0)
  47  | (145.8, 5.0)    | (145.8, 55.0)
  48  | (135.0, 5.0)    | (135.0, 55.0)
  49  | (124.2, 5.0)    | (124.2, 55.0)
...points 50 through 899 truncated
bed_mesh: zero_reference_position is (175.00, 175.00)
Starting heater checks for heater_bed
Registered lane: lane4 ? oams1[0] (extruder=extruder4, fps=None)
Registered lane: lane6 ? oams1[1] (extruder=extruder4, fps=None)
Registered lane: lane7 ? oams1[2] (extruder=extruder4, fps=None)
Registered lane: lane8 ? oams1[3] (extruder=extruder4, fps=None)
Registered lane: lane5 ? oams2[0] (extruder=extruder5, fps=None)
Registered lane: lane9 ? oams2[1] (extruder=extruder5, fps=None)
Registered lane: lane10 ? oams2[2] (extruder=extruder5, fps=None)
Registered lane: lane11 ? oams2[3] (extruder=extruder5, fps=None)
Axiscope is missing config file location (config_file_path). You will need to update your tool offsets manually.
You can set config_file_path: ~/printer_data/config/axiscope.offsets in your [axiscope] section.
Patched print_stats to skip updates during AFC operations
toolchanger_flow_fix: Patches applied successfully
mcu 'oams_mcu1': got {'ok': 1, '#name': 'oams_set_led_error_response', '#sent_time': 307.166668057, '#receive_time': 307.168567002}
mcu 'oams_mcu1': got {'ok': 1, '#name': 'oams_set_led_error_response', '#sent_time': 307.167963816, '#receive_time': 307.169766687}
mcu 'oams_mcu1': got {'ok': 1, '#name': 'oams_set_led_error_response', '#sent_time': 307.167963816, '#receive_time': 307.170837261}
mcu 'oams_mcu1': got {'ok': 1, '#name': 'oams_set_led_error_response', '#sent_time': 307.167963816, '#receive_time': 307.171937576}
OAMS[1]: Hardware reported invalid spool index 255 (expected 0-3)
mcu 'oams_mcu2': got {'ok': 1, '#name': 'oams_set_led_error_response', '#sent_time': 307.172813539, '#receive_time': 307.174473742}
mcu 'oams_mcu2': got {'ok': 1, '#name': 'oams_set_led_error_response', '#sent_time': 307.172847779, '#receive_time': 307.175699335}
mcu 'oams_mcu2': got {'ok': 1, '#name': 'oams_set_led_error_response', '#sent_time': 307.172906613, '#receive_time': 307.17689715}
mcu 'oams_mcu2': got {'ok': 1, '#name': 'oams_set_led_error_response', '#sent_time': 307.172906613, '#receive_time': 307.178274816}
OAMS[2]: Hardware reported invalid spool index 255 (expected 0-3)
hdc1080: manufacturer_id: 0x5449, device_id: 0x1050, serial_id: 0x2e48700
hdc1080: temp_resolution: 14-bit, humidity_resolution: 14-bit
hdc1080: battery_ok: true heater_enabled: false
hdc1080: manufacturer_id: 0x5449, device_id: 0x1050, serial_id: 0x2e40a00
hdc1080: temp_resolution: 14-bit, humidity_resolution: 14-bit
hdc1080: battery_ok: true heater_enabled: false
Starting heater checks for extruder
Starting heater checks for extruder1
Starting heater checks for extruder2
Starting heater checks for extruder3
Starting heater checks for extruder4
Starting heater checks for extruder5
Toolchanger: Checking initial tool detection states
Toolchanger: Detected tool at startup: tool T4
AFC M109 Deadband: Registered command handlers
OAMS[1]: Cleared software error states on ready
OAMS[2]: Cleared software error states on ready
AFC-OAMS integration validation found 4 issue(s):
  - AFC unit Turtle_1 has no oams_name defined
  - AFC unit Turtle_1 has no oams_name defined
  - AFC unit Turtle_1 has no oams_name defined
  - AFC unit Turtle_1 has no oams_name defined
AFC-OAMS integration: 8 lanes configured correctly
AFC integration detected; enabling same-FPS infinite runout support.
All monitors started (runout, FPS, and encoder checks active)
Stats 308.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.007 mcu_task_avg=0.000001 mcu_task_stddev=0.000000 bytes_write=4065 bytes_read=8713 bytes_retransmit=0 bytes_invalid=0 send_seq=278 receive_seq=278 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520044607 EBBT0: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1322 bytes_read=5531 bytes_retransmit=0 bytes_invalid=0 send_seq=140 receive_seq=140 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=1 freq=64000938 adj=63995674 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1355 bytes_read=5635 bytes_retransmit=0 bytes_invalid=0 send_seq=134 receive_seq=134 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001196 adj=63995962 EBBT2: mcu_awake=0.009 mcu_task_avg=0.000015 mcu_task_stddev=0.000017 bytes_write=1299 bytes_read=5366 bytes_retransmit=0 bytes_invalid=0 send_seq=127 receive_seq=127 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001859 adj=63997558 EBBT3: mcu_awake=0.009 mcu_task_avg=0.000015 mcu_task_stddev=0.000017 bytes_write=1322 bytes_read=5349 bytes_retransmit=0 bytes_invalid=0 send_seq=139 receive_seq=139 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001162 adj=64004834 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1385 bytes_read=5561 bytes_retransmit=0 bytes_invalid=0 send_seq=146 receive_seq=146 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001521 adj=64000341 EBBT5: mcu_awake=0.009 mcu_task_avg=0.000015 mcu_task_stddev=0.000017 bytes_write=1297 bytes_read=5272 bytes_retransmit=0 bytes_invalid=0 send_seq=128 receive_seq=128 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001407 adj=63993967 cartographer: mcu_awake=0.020 mcu_task_avg=0.000057 mcu_task_stddev=0.000186 bytes_write=633 bytes_read=3550 bytes_retransmit=9 bytes_invalid=0 send_seq=78 receive_seq=78 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47998272 adj=48026532 Pico: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000006 bytes_write=941 bytes_read=4762 bytes_retransmit=9 bytes_invalid=0 send_seq=109 receive_seq=109 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000496 adj=11999493 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.003 mcu_task_avg=0.000002 mcu_task_stddev=0.000051 bytes_write=3035 bytes_read=7199 bytes_retransmit=0 bytes_invalid=0 send_seq=230 receive_seq=230 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=519997234 adj=519856036 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.010 mcu_task_avg=0.000014 mcu_task_stddev=0.000016 bytes_write=885 bytes_read=5242 bytes_retransmit=0 bytes_invalid=0 send_seq=117 receive_seq=117 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000393 adj=63995518 oams_mcu1: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=575 bytes_read=2067 bytes_retransmit=0 bytes_invalid=0 send_seq=69 receive_seq=69 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=996601 adj=996262 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.010 mcu_task_avg=0.000014 mcu_task_stddev=0.000016 bytes_write=879 bytes_read=5086 bytes_retransmit=0 bytes_invalid=0 send_seq=116 receive_seq=116 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000739 adj=63997309 oams_mcu2: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=547 bytes_read=1958 bytes_retransmit=0 bytes_invalid=0 send_seq=66 receive_seq=66 retransmit_seq=0 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=999956 adj=997774 cartographer_coil: temp=23.7 Cartographer: temp=37.7 Host_temp: temp=48.5 heater_bed: target=0 temp=22.6 pwm=0.000 Turtle_1: temp=46.7 
OAMS[1]: current_spool=None fps_value=0.001953601837158203 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.003907203674316406 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=0.0 print_time=326.160 buffer_time=0.000 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000 extruder1: target=0 temp=21.2 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.6 pwm=0.000 extruder4: target=0 temp=22.1 pwm=0.000 extruder5: target=0 temp=24.2 pwm=0.000 sysload=0.13 cputime=3.387 memavail=7469824
autotune_tmc set AFC_stepper lane0 pwm_freq=2
autotune_tmc set AFC_stepper lane1 pwm_freq=2
autotune_tmc set AFC_stepper lane2 pwm_freq=2
autotune_tmc set AFC_stepper lane3 pwm_freq=2
autotune_tmc AFC_stepper lane0 ncycles=219 pfdcycles=83
autotune_tmc set AFC_stepper lane0 tbl=1
autotune_tmc AFC_stepper lane1 ncycles=219 pfdcycles=83
autotune_tmc set AFC_stepper lane1 tbl=1
autotune_tmc AFC_stepper lane2 ncycles=219 pfdcycles=83
autotune_tmc set AFC_stepper lane2 tbl=1
autotune_tmc AFC_stepper lane3 ncycles=219 pfdcycles=83
autotune_tmc set AFC_stepper lane3 tbl=1
autotune_tmc set AFC_stepper lane0 toff=1
autotune_tmc set AFC_stepper lane1 toff=1
autotune_tmc set AFC_stepper lane2 toff=1
autotune_tmc set AFC_stepper lane3 toff=1
autotune_tmc seting hysteresis based on 24.0 V
dcoilblank = 0.030000, dcoilsd = 0.007657
hysteresis = 16, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set AFC_stepper lane0 hstrt=7
autotune_tmc seting hysteresis based on 24.0 V
dcoilblank = 0.030000, dcoilsd = 0.007657
hysteresis = 16, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set AFC_stepper lane1 hstrt=7
autotune_tmc seting hysteresis based on 24.0 V
dcoilblank = 0.030000, dcoilsd = 0.007657
hysteresis = 16, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set AFC_stepper lane2 hstrt=7
autotune_tmc seting hysteresis based on 24.0 V
dcoilblank = 0.030000, dcoilsd = 0.007657
hysteresis = 16, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set AFC_stepper lane3 hstrt=7
autotune_tmc set AFC_stepper lane0 hend=9
autotune_tmc set AFC_stepper lane1 hend=9
autotune_tmc set AFC_stepper lane2 hend=9
autotune_tmc set AFC_stepper lane3 hend=9
autotune_tmc set AFC_stepper lane0 sgthrs=40
autotune_tmc set AFC_stepper lane1 sgthrs=40
autotune_tmc set AFC_stepper lane2 sgthrs=40
autotune_tmc set AFC_stepper lane3 sgthrs=40
autotune_tmc using max PWM speed 67.494428
autotune_tmc set AFC_stepper lane0 pwm_autoscale=True
autotune_tmc using max PWM speed 67.494428
autotune_tmc set AFC_stepper lane1 pwm_autoscale=True
autotune_tmc using max PWM speed 67.494428
autotune_tmc set AFC_stepper lane2 pwm_autoscale=True
autotune_tmc using max PWM speed 67.494428
autotune_tmc set AFC_stepper lane3 pwm_autoscale=True
autotune_tmc set AFC_stepper lane0 pwm_autograd=True
autotune_tmc set AFC_stepper lane1 pwm_autograd=True
autotune_tmc set AFC_stepper lane2 pwm_autograd=True
autotune_tmc set AFC_stepper lane3 pwm_autograd=True
autotune_tmc set AFC_stepper lane0 pwm_grad=5
autotune_tmc set AFC_stepper lane1 pwm_grad=5
autotune_tmc set AFC_stepper lane2 pwm_grad=5
autotune_tmc set AFC_stepper lane3 pwm_grad=5
autotune_tmc set AFC_stepper lane0 pwm_ofs=27
autotune_tmc set AFC_stepper lane1 pwm_ofs=27
autotune_tmc set AFC_stepper lane2 pwm_ofs=27
autotune_tmc set AFC_stepper lane3 pwm_ofs=27
autotune_tmc set AFC_stepper lane0 pwm_reg=15
autotune_tmc set AFC_stepper lane1 pwm_reg=15
autotune_tmc set AFC_stepper lane2 pwm_reg=15
autotune_tmc set AFC_stepper lane3 pwm_reg=15
autotune_tmc set AFC_stepper lane0 pwm_lim=4
autotune_tmc set AFC_stepper lane1 pwm_lim=4
autotune_tmc set AFC_stepper lane2 pwm_lim=4
autotune_tmc set AFC_stepper lane3 pwm_lim=4
autotune_tmc set AFC_stepper lane0 tpwmthrs=1048575
autotune_tmc set AFC_stepper lane1 tpwmthrs=1048575
autotune_tmc set AFC_stepper lane2 tpwmthrs=1048575
autotune_tmc set AFC_stepper lane3 tpwmthrs=1048575
autotune_tmc set AFC_stepper lane0 en_spreadcycle=True
autotune_tmc set AFC_stepper lane1 en_spreadcycle=True
autotune_tmc set AFC_stepper lane2 en_spreadcycle=True
Activating extruder extruder4
autotune_tmc set AFC_stepper lane3 en_spreadcycle=True
webhooks: registering remote method 'shutdown_machine' for connection id: 140733990035536
webhooks: registering remote method 'reboot_machine' for connection id: 140733990035536
webhooks: registering remote method 'pause_job_queue' for connection id: 140733990035536
webhooks: registering remote method 'start_job_queue' for connection id: 140733990035536
webhooks: registering remote method 'spoolman_set_active_spool' for connection id: 140733990035536
autotune_tmc set AFC_stepper lane0 tcoolthrs=313(3.4875000000000003)
autotune_tmc set AFC_stepper lane0 semin=2
autotune_tmc set AFC_stepper lane1 tcoolthrs=313(3.4875000000000003)
autotune_tmc set AFC_stepper lane1 semin=2
autotune_tmc set AFC_stepper lane2 tcoolthrs=313(3.4875000000000003)
autotune_tmc set AFC_stepper lane2 semin=2
autotune_tmc set AFC_stepper lane3 tcoolthrs=313(3.4875000000000003)
autotune_tmc set AFC_stepper lane3 semin=2
autotune_tmc set AFC_stepper lane0 semax=4
autotune_tmc set AFC_stepper lane1 semax=4
autotune_tmc set AFC_stepper lane2 semax=4
autotune_tmc set AFC_stepper lane3 semax=4
autotune_tmc set AFC_stepper lane0 seup=3
autotune_tmc set AFC_stepper lane1 seup=3
autotune_tmc set AFC_stepper lane2 seup=3
autotune_tmc set AFC_stepper lane3 seup=3
autotune_tmc set AFC_stepper lane0 sedn=2
autotune_tmc set AFC_stepper lane1 sedn=2
autotune_tmc set AFC_stepper lane2 sedn=2
autotune_tmc set AFC_stepper lane3 sedn=2
autotune_tmc set AFC_stepper lane0 seimin=1
autotune_tmc set AFC_stepper lane1 seimin=1
autotune_tmc set AFC_stepper lane2 seimin=1
autotune_tmc set AFC_stepper lane3 seimin=1
autotune_tmc set AFC_stepper lane0 iholddelay=12
autotune_tmc set AFC_stepper lane1 iholddelay=12
autotune_tmc set AFC_stepper lane2 iholddelay=12
autotune_tmc set AFC_stepper lane3 iholddelay=12
autotune_tmc set AFC_stepper lane0 multistep_filt=True
autotune_tmc set AFC_stepper lane1 multistep_filt=True
autotune_tmc set AFC_stepper lane2 multistep_filt=True
autotune_tmc set AFC_stepper lane3 multistep_filt=True
Stats 309.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.007 mcu_task_avg=0.000001 mcu_task_stddev=0.000000 bytes_write=4077 bytes_read=8846 bytes_retransmit=0 bytes_invalid=0 send_seq=280 receive_seq=280 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520044896 EBBT0: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1334 bytes_read=5608 bytes_retransmit=0 bytes_invalid=0 send_seq=142 receive_seq=142 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000797 adj=63995144 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1367 bytes_read=5711 bytes_retransmit=0 bytes_invalid=0 send_seq=136 receive_seq=136 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001326 adj=63995279 EBBT2: mcu_awake=0.009 mcu_task_avg=0.000015 mcu_task_stddev=0.000017 bytes_write=1311 bytes_read=5443 bytes_retransmit=0 bytes_invalid=0 send_seq=129 receive_seq=129 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001492 adj=63994105 EBBT3: mcu_awake=0.009 mcu_task_avg=0.000015 mcu_task_stddev=0.000017 bytes_write=1328 bytes_read=5410 bytes_retransmit=0 bytes_invalid=0 send_seq=140 receive_seq=140 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001076 adj=63978061 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1414 bytes_read=5655 bytes_retransmit=0 bytes_invalid=0 send_seq=150 receive_seq=150 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001290 adj=63988400 EBBT5: mcu_awake=0.009 mcu_task_avg=0.000015 mcu_task_stddev=0.000017 bytes_write=1345 bytes_read=5377 bytes_retransmit=0 bytes_invalid=0 send_seq=133 receive_seq=133 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001690 adj=63999285 cartographer: mcu_awake=0.020 mcu_task_avg=0.000057 mcu_task_stddev=0.000186 bytes_write=639 bytes_read=3662 bytes_retransmit=9 bytes_invalid=0 send_seq=79 receive_seq=79 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47998565 adj=47947895 Pico: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000006 bytes_write=947 bytes_read=4778 bytes_retransmit=9 bytes_invalid=0 send_seq=110 receive_seq=110 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000504 adj=11999447 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.003 mcu_task_avg=0.000002 mcu_task_stddev=0.000051 bytes_write=5943 bytes_read=10329 bytes_retransmit=0 bytes_invalid=0 send_seq=400 receive_seq=400 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520003820 adj=520068701 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.010 mcu_task_avg=0.000014 mcu_task_stddev=0.000016 bytes_write=897 bytes_read=5413 bytes_retransmit=0 bytes_invalid=0 send_seq=119 receive_seq=119 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64003015 adj=63994364 oams_mcu1: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=581 bytes_read=2130 bytes_retransmit=0 bytes_invalid=0 send_seq=70 receive_seq=70 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=996601 adj=996757 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.010 mcu_task_avg=0.000014 mcu_task_stddev=0.000016 bytes_write=891 bytes_read=5257 bytes_retransmit=0 bytes_invalid=0 send_seq=118 receive_seq=118 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000526 adj=63993628 oams_mcu2: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=580 bytes_read=2076 bytes_retransmit=0 bytes_invalid=0 send_seq=70 receive_seq=70 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000101 adj=1001329 cartographer_coil: temp=23.7 Cartographer: temp=37.7 Host_temp: temp=48.0 heater_bed: target=0 temp=22.7 pwm=0.000 Turtle_1: temp=46.9 
OAMS[1]: current_spool=None fps_value=0.00317460298538208 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.004884004592895508 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.9 print_time=328.211 buffer_time=0.000 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000 extruder1: target=0 temp=21.2 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.6 pwm=0.000 extruder4: target=0 temp=22.0 pwm=0.000 extruder5: target=0 temp=24.1 pwm=0.000 sysload=0.13 cputime=3.532 memavail=7472048
Stats 310.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.007 mcu_task_avg=0.000001 mcu_task_stddev=0.000000 bytes_write=4089 bytes_read=8965 bytes_retransmit=0 bytes_invalid=0 send_seq=282 receive_seq=282 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520046882 EBBT0: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1340 bytes_read=5698 bytes_retransmit=0 bytes_invalid=0 send_seq=143 receive_seq=143 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000752 adj=63994608 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1379 bytes_read=5802 bytes_retransmit=0 bytes_invalid=0 send_seq=138 receive_seq=138 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001318 adj=63995690 EBBT2: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1317 bytes_read=5533 bytes_retransmit=0 bytes_invalid=0 send_seq=130 receive_seq=130 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001360 adj=63993372 EBBT3: mcu_awake=0.003 mcu_task_avg=0.000011 mcu_task_stddev=0.000015 bytes_write=1334 bytes_read=5501 bytes_retransmit=0 bytes_invalid=0 send_seq=141 receive_seq=141 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002855 adj=63982076 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1426 bytes_read=5746 bytes_retransmit=0 bytes_invalid=0 send_seq=152 receive_seq=152 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001197 adj=63989499 EBBT5: mcu_awake=0.004 mcu_task_avg=0.000011 mcu_task_stddev=0.000015 bytes_write=1351 bytes_read=5468 bytes_retransmit=0 bytes_invalid=0 send_seq=134 receive_seq=134 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64003363 adj=63999120 cartographer: mcu_awake=0.020 mcu_task_avg=0.000057 mcu_task_stddev=0.000186 bytes_write=645 bytes_read=3759 bytes_retransmit=9 bytes_invalid=0 send_seq=80 receive_seq=80 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47999349 adj=47960167 Pico: mcu_awake=0.002 mcu_task_avg=0.000005 mcu_task_stddev=0.000006 bytes_write=953 bytes_read=4794 bytes_retransmit=9 bytes_invalid=0 send_seq=111 receive_seq=111 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000504 adj=11999449 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.003 mcu_task_avg=0.000002 mcu_task_stddev=0.000051 bytes_write=5955 bytes_read=10417 bytes_retransmit=0 bytes_invalid=0 send_seq=402 receive_seq=402 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520006385 adj=520054441 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.010 mcu_task_avg=0.000014 mcu_task_stddev=0.000016 bytes_write=909 bytes_read=5584 bytes_retransmit=0 bytes_invalid=0 send_seq=121 receive_seq=121 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001717 adj=64000365 oams_mcu1: mcu_awake=0.062 mcu_task_avg=0.000898 mcu_task_stddev=0.000424 bytes_write=587 bytes_read=2206 bytes_retransmit=0 bytes_invalid=0 send_seq=71 receive_seq=71 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=996601 adj=996695 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.010 mcu_task_avg=0.000014 mcu_task_stddev=0.000016 bytes_write=903 bytes_read=5428 bytes_retransmit=0 bytes_invalid=0 send_seq=120 receive_seq=120 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000594 adj=63993473 oams_mcu2: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=586 bytes_read=2139 bytes_retransmit=0 bytes_invalid=0 send_seq=71 receive_seq=71 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000244 adj=1001240 cartographer_coil: temp=23.7 Cartographer: temp=37.6 Host_temp: temp=48.0 heater_bed: target=0 temp=22.7 pwm=0.000 Turtle_1: temp=46.8 
OAMS[1]: current_spool=None fps_value=0.0034188032150268555 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.003663003444671631 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.9 print_time=329.025 buffer_time=0.000 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000 extruder1: target=0 temp=21.2 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.6 pwm=0.000 extruder4: target=0 temp=22.1 pwm=0.000 extruder5: target=0 temp=24.1 pwm=0.000 sysload=0.13 cputime=3.573 memavail=7469296
Stats 311.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.012 mcu_task_avg=0.000002 mcu_task_stddev=0.000006 bytes_write=4101 bytes_read=9113 bytes_retransmit=0 bytes_invalid=0 send_seq=284 receive_seq=284 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520047636 EBBT0: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1346 bytes_read=5759 bytes_retransmit=0 bytes_invalid=0 send_seq=144 receive_seq=144 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000722 adj=63993691 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1391 bytes_read=5878 bytes_retransmit=0 bytes_invalid=0 send_seq=140 receive_seq=140 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001263 adj=63994772 EBBT2: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1323 bytes_read=5594 bytes_retransmit=0 bytes_invalid=0 send_seq=131 receive_seq=131 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001279 adj=63992718 EBBT3: mcu_awake=0.003 mcu_task_avg=0.000011 mcu_task_stddev=0.000015 bytes_write=1340 bytes_read=5562 bytes_retransmit=0 bytes_invalid=0 send_seq=142 receive_seq=142 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64003620 adj=63990409 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1438 bytes_read=5822 bytes_retransmit=0 bytes_invalid=0 send_seq=154 receive_seq=154 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001103 adj=63989850 EBBT5: mcu_awake=0.004 mcu_task_avg=0.000011 mcu_task_stddev=0.000015 bytes_write=1357 bytes_read=5529 bytes_retransmit=0 bytes_invalid=0 send_seq=135 receive_seq=135 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64005077 adj=64002594 cartographer: mcu_awake=0.020 mcu_task_avg=0.000057 mcu_task_stddev=0.000186 bytes_write=651 bytes_read=3874 bytes_retransmit=9 bytes_invalid=0 send_seq=81 receive_seq=81 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47999703 adj=47970347 Pico: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000004 bytes_write=959 bytes_read=4821 bytes_retransmit=9 bytes_invalid=0 send_seq=112 receive_seq=112 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000501 adj=11999283 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.003 mcu_task_avg=0.000002 mcu_task_stddev=0.000051 bytes_write=5967 bytes_read=10489 bytes_retransmit=0 bytes_invalid=0 send_seq=404 receive_seq=404 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520006795 adj=520029827 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=927 bytes_read=5785 bytes_retransmit=0 bytes_invalid=0 send_seq=124 receive_seq=124 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000843 adj=63995454 oams_mcu1: mcu_awake=0.062 mcu_task_avg=0.000898 mcu_task_stddev=0.000424 bytes_write=593 bytes_read=2269 bytes_retransmit=0 bytes_invalid=0 send_seq=72 receive_seq=72 retransmit_seq=0 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=996601 adj=996636 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=915 bytes_read=5613 bytes_retransmit=0 bytes_invalid=0 send_seq=122 receive_seq=122 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000439 adj=63993091 oams_mcu2: mcu_awake=0.064 mcu_task_avg=0.000908 mcu_task_stddev=0.000357 bytes_write=592 bytes_read=2215 bytes_retransmit=0 bytes_invalid=0 send_seq=72 receive_seq=72 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000129 adj=1001229 cartographer_coil: temp=23.7 Cartographer: temp=36.8 Host_temp: temp=47.4 heater_bed: target=0 temp=22.6 pwm=0.000 Turtle_1: temp=46.6 
OAMS[1]: current_spool=None fps_value=0.0014652013778686523 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.00317460298538208 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.9 print_time=330.427 buffer_time=0.000 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000 extruder1: target=0 temp=21.2 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.5 pwm=0.000 extruder4: target=0 temp=22.1 pwm=0.000 extruder5: target=0 temp=24.1 pwm=0.000 sysload=0.12 cputime=3.598 memavail=7476752
Stats 312.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.012 mcu_task_avg=0.000002 mcu_task_stddev=0.000006 bytes_write=4113 bytes_read=9246 bytes_retransmit=0 bytes_invalid=0 send_seq=286 receive_seq=286 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520048154 EBBT0: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1352 bytes_read=5820 bytes_retransmit=0 bytes_invalid=0 send_seq=145 receive_seq=145 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000708 adj=63993531 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1403 bytes_read=5968 bytes_retransmit=0 bytes_invalid=0 send_seq=142 receive_seq=142 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001223 adj=63994391 EBBT2: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1329 bytes_read=5655 bytes_retransmit=0 bytes_invalid=0 send_seq=132 receive_seq=132 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001221 adj=63992774 EBBT3: mcu_awake=0.003 mcu_task_avg=0.000011 mcu_task_stddev=0.000015 bytes_write=1346 bytes_read=5623 bytes_retransmit=0 bytes_invalid=0 send_seq=143 receive_seq=143 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64004033 adj=63994409 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000012 bytes_write=1450 bytes_read=5912 bytes_retransmit=0 bytes_invalid=0 send_seq=156 receive_seq=156 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001076 adj=63990553 EBBT5: mcu_awake=0.004 mcu_task_avg=0.000011 mcu_task_stddev=0.000015 bytes_write=1363 bytes_read=5590 bytes_retransmit=0 bytes_invalid=0 send_seq=136 receive_seq=136 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64005387 adj=64006620 cartographer: mcu_awake=0.014 mcu_task_avg=0.000093 mcu_task_stddev=0.000275 bytes_write=657 bytes_read=4001 bytes_retransmit=9 bytes_invalid=0 send_seq=82 receive_seq=82 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47999802 adj=47977358 Pico: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000004 bytes_write=965 bytes_read=4837 bytes_retransmit=9 bytes_invalid=0 send_seq=113 receive_seq=113 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000498 adj=11999238 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.009 mcu_task_avg=0.000006 mcu_task_stddev=0.000053 bytes_write=5979 bytes_read=10576 bytes_retransmit=0 bytes_invalid=0 send_seq=406 receive_seq=406 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520007033 adj=520010419 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=939 bytes_read=5956 bytes_retransmit=0 bytes_invalid=0 send_seq=126 receive_seq=126 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000613 adj=63992803 oams_mcu1: mcu_awake=0.062 mcu_task_avg=0.000898 mcu_task_stddev=0.000424 bytes_write=599 bytes_read=2344 bytes_retransmit=0 bytes_invalid=0 send_seq=73 receive_seq=73 retransmit_seq=0 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=996601 adj=996599 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=927 bytes_read=5784 bytes_retransmit=0 bytes_invalid=0 send_seq=124 receive_seq=124 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000365 adj=63992766 oams_mcu2: mcu_awake=0.064 mcu_task_avg=0.000908 mcu_task_stddev=0.000357 bytes_write=598 bytes_read=2278 bytes_retransmit=0 bytes_invalid=0 send_seq=73 receive_seq=73 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000122 adj=1000680 cartographer_coil: temp=23.7 Cartographer: temp=37.4 Host_temp: temp=48.0 heater_bed: target=0 temp=22.6 pwm=0.000 Turtle_1: temp=46.8 
OAMS[1]: current_spool=None fps_value=0.0 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.00317460298538208 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.9 print_time=331.128 buffer_time=0.000 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000 extruder1: target=0 temp=21.2 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.5 pwm=0.000 extruder4: target=0 temp=22.1 pwm=0.000 extruder5: target=0 temp=24.1 pwm=0.000 sysload=0.12 cputime=3.617 memavail=7477856
Stats 313.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.012 mcu_task_avg=0.000002 mcu_task_stddev=0.000006 bytes_write=4125 bytes_read=9365 bytes_retransmit=0 bytes_invalid=0 send_seq=288 receive_seq=288 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520047976 EBBT0: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1358 bytes_read=5896 bytes_retransmit=0 bytes_invalid=0 send_seq=146 receive_seq=146 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000678 adj=63993540 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1415 bytes_read=6059 bytes_retransmit=0 bytes_invalid=0 send_seq=144 receive_seq=144 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001176 adj=63994215 EBBT2: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1335 bytes_read=5731 bytes_retransmit=0 bytes_invalid=0 send_seq=133 receive_seq=133 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001178 adj=63992947 EBBT3: mcu_awake=0.003 mcu_task_avg=0.000011 mcu_task_stddev=0.000015 bytes_write=1352 bytes_read=5699 bytes_retransmit=0 bytes_invalid=0 send_seq=144 receive_seq=144 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64003779 adj=63996526 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000012 bytes_write=1462 bytes_read=6003 bytes_retransmit=0 bytes_invalid=0 send_seq=158 receive_seq=158 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001015 adj=63991361 EBBT5: mcu_awake=0.004 mcu_task_avg=0.000011 mcu_task_stddev=0.000015 bytes_write=1387 bytes_read=5684 bytes_retransmit=0 bytes_invalid=0 send_seq=139 receive_seq=139 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64004301 adj=64005586 cartographer: mcu_awake=0.014 mcu_task_avg=0.000093 mcu_task_stddev=0.000275 bytes_write=663 bytes_read=4116 bytes_retransmit=9 bytes_invalid=0 send_seq=83 receive_seq=83 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47998961 adj=47981981 Pico: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000004 bytes_write=971 bytes_read=4853 bytes_retransmit=9 bytes_invalid=0 send_seq=114 receive_seq=114 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000493 adj=11999218 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.009 mcu_task_avg=0.000006 mcu_task_stddev=0.000053 bytes_write=5991 bytes_read=10664 bytes_retransmit=0 bytes_invalid=0 send_seq=408 receive_seq=408 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520025233 adj=519996157 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=951 bytes_read=6127 bytes_retransmit=0 bytes_invalid=0 send_seq=128 receive_seq=128 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000512 adj=63992398 oams_mcu1: mcu_awake=0.062 mcu_task_avg=0.000898 mcu_task_stddev=0.000424 bytes_write=641 bytes_read=2447 bytes_retransmit=0 bytes_invalid=0 send_seq=78 receive_seq=78 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=996601 adj=996573 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=945 bytes_read=5971 bytes_retransmit=0 bytes_invalid=0 send_seq=127 receive_seq=127 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000309 adj=63992747 oams_mcu2: mcu_awake=0.064 mcu_task_avg=0.000908 mcu_task_stddev=0.000357 bytes_write=604 bytes_read=2361 bytes_retransmit=0 bytes_invalid=0 send_seq=74 receive_seq=74 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000125 adj=1000494 cartographer_coil: temp=23.9 Cartographer: temp=37.0 Host_temp: temp=48.5 heater_bed: target=0 temp=22.7 pwm=0.000 Turtle_1: temp=47.0 
OAMS[1]: current_spool=None fps_value=0.0026862025260925293 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.001953601837158203 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.9 print_time=332.532 buffer_time=0.065 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000 extruder1: target=0 temp=21.2 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.6 pwm=0.000 extruder4: target=0 temp=22.1 pwm=0.000 extruder5: target=0 temp=24.2 pwm=0.000 sysload=0.12 cputime=3.639 memavail=7480176
Stats 314.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.012 mcu_task_avg=0.000002 mcu_task_stddev=0.000006 bytes_write=4137 bytes_read=9499 bytes_retransmit=0 bytes_invalid=0 send_seq=290 receive_seq=290 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520047786 EBBT0: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1364 bytes_read=5957 bytes_retransmit=0 bytes_invalid=0 send_seq=147 receive_seq=147 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000666 adj=63993817 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1427 bytes_read=6135 bytes_retransmit=0 bytes_invalid=0 send_seq=146 receive_seq=146 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001490 adj=63994387 EBBT2: mcu_awake=0.003 mcu_task_avg=0.000010 mcu_task_stddev=0.000011 bytes_write=1341 bytes_read=5792 bytes_retransmit=0 bytes_invalid=0 send_seq=134 receive_seq=134 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001151 adj=63993455 EBBT3: mcu_awake=0.003 mcu_task_avg=0.000011 mcu_task_stddev=0.000015 bytes_write=1358 bytes_read=5760 bytes_retransmit=0 bytes_invalid=0 send_seq=145 receive_seq=145 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64003568 adj=63996012 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000012 bytes_write=1474 bytes_read=6079 bytes_retransmit=0 bytes_invalid=0 send_seq=160 receive_seq=160 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000996 adj=63992240 EBBT5: mcu_awake=0.004 mcu_task_avg=0.000011 mcu_task_stddev=0.000015 bytes_write=1393 bytes_read=5745 bytes_retransmit=0 bytes_invalid=0 send_seq=140 receive_seq=140 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64003432 adj=64000093 cartographer: mcu_awake=0.014 mcu_task_avg=0.000093 mcu_task_stddev=0.000275 bytes_write=669 bytes_read=4213 bytes_retransmit=9 bytes_invalid=0 send_seq=84 receive_seq=84 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47999094 adj=47982373 Pico: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000004 bytes_write=977 bytes_read=4869 bytes_retransmit=9 bytes_invalid=0 send_seq=115 receive_seq=115 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000494 adj=11999264 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.009 mcu_task_avg=0.000006 mcu_task_stddev=0.000053 bytes_write=6003 bytes_read=10738 bytes_retransmit=0 bytes_invalid=0 send_seq=410 receive_seq=410 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520032920 adj=520048047 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=963 bytes_read=6298 bytes_retransmit=0 bytes_invalid=0 send_seq=130 receive_seq=130 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000401 adj=63992747 oams_mcu1: mcu_awake=0.062 mcu_task_avg=0.000898 mcu_task_stddev=0.000424 bytes_write=647 bytes_read=2510 bytes_retransmit=0 bytes_invalid=0 send_seq=79 receive_seq=79 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=996601 adj=996558 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=957 bytes_read=6142 bytes_retransmit=0 bytes_invalid=0 send_seq=129 receive_seq=129 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000272 adj=63993102 oams_mcu2: mcu_awake=0.064 mcu_task_avg=0.000908 mcu_task_stddev=0.000357 bytes_write=646 bytes_read=2464 bytes_retransmit=0 bytes_invalid=0 send_seq=79 receive_seq=79 retransmit_seq=0 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000148 adj=1000391 cartographer_coil: temp=23.8 Cartographer: temp=37.1 Host_temp: temp=47.4 heater_bed: target=0 temp=22.6 pwm=0.000 Turtle_1: temp=47.0 
OAMS[1]: current_spool=None fps_value=0.00317460298538208 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.003663003444671631 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.9 print_time=333.233 buffer_time=0.000 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000 extruder1: target=0 temp=21.2 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.5 pwm=0.000 extruder4: target=0 temp=22.0 pwm=0.000 extruder5: target=0 temp=24.1 pwm=0.000 sysload=0.12 cputime=3.661 memavail=7477712
Stats 315.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.012 mcu_task_avg=0.000002 mcu_task_stddev=0.000006 bytes_write=4149 bytes_read=9632 bytes_retransmit=0 bytes_invalid=0 send_seq=292 receive_seq=292 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520047937 EBBT0: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1370 bytes_read=6030 bytes_retransmit=0 bytes_invalid=0 send_seq=148 receive_seq=148 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000665 adj=63994112 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1439 bytes_read=6210 bytes_retransmit=0 bytes_invalid=0 send_seq=148 receive_seq=148 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001407 adj=63996098 EBBT2: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1347 bytes_read=5865 bytes_retransmit=0 bytes_invalid=0 send_seq=135 receive_seq=135 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001137 adj=63993900 EBBT3: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1364 bytes_read=5834 bytes_retransmit=0 bytes_invalid=0 send_seq=146 receive_seq=146 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64003059 adj=63995702 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000012 bytes_write=1492 bytes_read=6169 bytes_retransmit=0 bytes_invalid=0 send_seq=163 receive_seq=163 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001013 adj=63992989 EBBT5: mcu_awake=0.001 mcu_task_avg=0.000010 mcu_task_stddev=0.000014 bytes_write=1417 bytes_read=5837 bytes_retransmit=0 bytes_invalid=0 send_seq=143 receive_seq=143 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64003577 adj=63996341 cartographer: mcu_awake=0.014 mcu_task_avg=0.000093 mcu_task_stddev=0.000275 bytes_write=675 bytes_read=4325 bytes_retransmit=9 bytes_invalid=0 send_seq=85 receive_seq=85 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47999055 adj=47986005 Pico: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000004 bytes_write=983 bytes_read=4885 bytes_retransmit=9 bytes_invalid=0 send_seq=116 receive_seq=116 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000497 adj=11999316 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.009 mcu_task_avg=0.000006 mcu_task_stddev=0.000053 bytes_write=7036 bytes_read=11283 bytes_retransmit=0 bytes_invalid=0 send_seq=445 receive_seq=445 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=21 upcoming_bytes=41 freq=520038426 adj=520058454 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=975 bytes_read=6468 bytes_retransmit=0 bytes_invalid=0 send_seq=132 receive_seq=132 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000434 adj=63992941 oams_mcu1: mcu_awake=0.062 mcu_task_avg=0.000898 mcu_task_stddev=0.000424 bytes_write=653 bytes_read=2573 bytes_retransmit=0 bytes_invalid=0 send_seq=80 receive_seq=80 retransmit_seq=0 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=996601 adj=996548 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=969 bytes_read=6312 bytes_retransmit=0 bytes_invalid=0 send_seq=131 receive_seq=131 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000271 adj=63993418 oams_mcu2: mcu_awake=0.064 mcu_task_avg=0.000908 mcu_task_stddev=0.000357 bytes_write=652 bytes_read=2527 bytes_retransmit=0 bytes_invalid=0 send_seq=80 receive_seq=80 retransmit_seq=0 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000118 adj=1000373 cartographer_coil: temp=23.7 Cartographer: temp=37.0 Host_temp: temp=47.4 heater_bed: target=0 temp=22.6 pwm=0.000 Turtle_1: temp=47.0 
OAMS[1]: current_spool=None fps_value=0.003663003444671631 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.003663003444671631 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.9 print_time=334.827 buffer_time=0.359 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000 extruder1: target=0 temp=21.2 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.5 pwm=0.000 extruder4: target=0 temp=22.0 pwm=0.000 extruder5: target=0 temp=24.1 pwm=0.000 sysload=0.12 cputime=3.691 memavail=7476384
Resetting prediction variance 316.125: freq=996601 diff=39477 stddev=939.424
Stats 316.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.002 mcu_task_avg=0.000001 mcu_task_stddev=0.000000 bytes_write=4161 bytes_read=9766 bytes_retransmit=0 bytes_invalid=0 send_seq=294 receive_seq=294 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520047064 EBBT0: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1376 bytes_read=6101 bytes_retransmit=0 bytes_invalid=0 send_seq=149 receive_seq=149 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000652 adj=63994247 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1451 bytes_read=6296 bytes_retransmit=0 bytes_invalid=0 send_seq=150 receive_seq=150 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002274 adj=63995448 EBBT2: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1353 bytes_read=5935 bytes_retransmit=0 bytes_invalid=0 send_seq=136 receive_seq=136 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001145 adj=63994221 EBBT3: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1370 bytes_read=5905 bytes_retransmit=0 bytes_invalid=0 send_seq=147 receive_seq=147 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002647 adj=63994013 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000012 bytes_write=1504 bytes_read=6254 bytes_retransmit=0 bytes_invalid=0 send_seq=165 receive_seq=165 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001008 adj=63993708 EBBT5: mcu_awake=0.001 mcu_task_avg=0.000010 mcu_task_stddev=0.000014 bytes_write=1423 bytes_read=5907 bytes_retransmit=0 bytes_invalid=0 send_seq=144 receive_seq=144 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64003109 adj=63997286 cartographer: mcu_awake=0.014 mcu_task_avg=0.000093 mcu_task_stddev=0.000275 bytes_write=681 bytes_read=4440 bytes_retransmit=9 bytes_invalid=0 send_seq=86 receive_seq=86 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47999298 adj=47988768 Pico: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000002 bytes_write=989 bytes_read=4912 bytes_retransmit=9 bytes_invalid=0 send_seq=117 receive_seq=117 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000497 adj=11999338 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.009 mcu_task_avg=0.000006 mcu_task_stddev=0.000053 bytes_write=7942 bytes_read=11886 bytes_retransmit=0 bytes_invalid=0 send_seq=480 receive_seq=480 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=26 upcoming_bytes=16 freq=520037213 adj=520053660 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=987 bytes_read=6642 bytes_retransmit=0 bytes_invalid=0 send_seq=134 receive_seq=134 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000390 adj=63993518 oams_mcu1: mcu_awake=0.007 mcu_task_avg=0.000732 mcu_task_stddev=0.000186 bytes_write=659 bytes_read=2664 bytes_retransmit=0 bytes_invalid=0 send_seq=81 receive_seq=81 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000094 adj=996533 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=981 bytes_read=6486 bytes_retransmit=0 bytes_invalid=0 send_seq=133 receive_seq=133 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000298 adj=63993657 oams_mcu2: mcu_awake=0.064 mcu_task_avg=0.000908 mcu_task_stddev=0.000357 bytes_write=658 bytes_read=2590 bytes_retransmit=0 bytes_invalid=0 send_seq=81 receive_seq=81 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000103 adj=1000158 cartographer_coil: temp=24.0 Cartographer: temp=37.4 Host_temp: temp=47.4 heater_bed: target=0 temp=22.6 pwm=0.000 Turtle_1: temp=46.6 
OAMS[1]: current_spool=None fps_value=0.001953601837158203 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.001953601837158203 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.9 print_time=335.665 buffer_time=0.197 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000 extruder1: target=0 temp=21.1 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.5 pwm=0.000 extruder4: target=0 temp=22.1 pwm=0.000 extruder5: target=0 temp=24.1 pwm=0.000 sysload=0.11 cputime=3.723 memavail=7486256
Stats 317.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.002 mcu_task_avg=0.000001 mcu_task_stddev=0.000000 bytes_write=4173 bytes_read=9900 bytes_retransmit=0 bytes_invalid=0 send_seq=296 receive_seq=296 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520046876 EBBT0: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1382 bytes_read=6158 bytes_retransmit=0 bytes_invalid=0 send_seq=150 receive_seq=150 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000634 adj=63994833 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1463 bytes_read=6368 bytes_retransmit=0 bytes_invalid=0 send_seq=152 receive_seq=152 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002036 adj=64000216 EBBT2: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1359 bytes_read=5992 bytes_retransmit=0 bytes_invalid=0 send_seq=137 receive_seq=137 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001126 adj=63995004 EBBT3: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1376 bytes_read=5962 bytes_retransmit=0 bytes_invalid=0 send_seq=148 receive_seq=148 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002583 adj=63993271 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000012 bytes_write=1516 bytes_read=6326 bytes_retransmit=0 bytes_invalid=0 send_seq=167 receive_seq=167 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000986 adj=63994512 EBBT5: mcu_awake=0.001 mcu_task_avg=0.000010 mcu_task_stddev=0.000014 bytes_write=1429 bytes_read=5964 bytes_retransmit=0 bytes_invalid=0 send_seq=145 receive_seq=145 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64003041 adj=63995838 cartographer: mcu_awake=0.014 mcu_task_avg=0.000093 mcu_task_stddev=0.000275 bytes_write=687 bytes_read=4552 bytes_retransmit=9 bytes_invalid=0 send_seq=87 receive_seq=87 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47998878 adj=47991393 Pico: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000002 bytes_write=995 bytes_read=4928 bytes_retransmit=9 bytes_invalid=0 send_seq=118 receive_seq=118 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000494 adj=11999450 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.005 mcu_task_avg=0.000005 mcu_task_stddev=0.000064 bytes_write=9156 bytes_read=12498 bytes_retransmit=0 bytes_invalid=0 send_seq=519 receive_seq=519 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520039253 adj=520040603 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=999 bytes_read=6802 bytes_retransmit=0 bytes_invalid=0 send_seq=136 receive_seq=136 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000343 adj=63994095 oams_mcu1: mcu_awake=0.007 mcu_task_avg=0.000732 mcu_task_stddev=0.000186 bytes_write=665 bytes_read=2727 bytes_retransmit=0 bytes_invalid=0 send_seq=82 receive_seq=82 retransmit_seq=0 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000035 adj=1010451 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=993 bytes_read=6646 bytes_retransmit=0 bytes_invalid=0 send_seq=135 receive_seq=135 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000277 adj=63994447 oams_mcu2: mcu_awake=0.007 mcu_task_avg=0.000733 mcu_task_stddev=0.000190 bytes_write=664 bytes_read=2665 bytes_retransmit=0 bytes_invalid=0 send_seq=82 receive_seq=82 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000094 adj=1000088 cartographer_coil: temp=23.6 Cartographer: temp=37.9 Host_temp: temp=48.0 heater_bed: target=0 temp=22.6 pwm=0.000 Turtle_1: temp=47.1 
OAMS[1]: current_spool=None fps_value=0.0026862025260925293 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.005128204822540283 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.9 print_time=336.554 buffer_time=0.085 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000 extruder1: target=0 temp=21.2 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.5 pwm=0.000 extruder4: target=0 temp=22.0 pwm=0.000 extruder5: target=0 temp=24.1 pwm=0.000 sysload=0.11 cputime=3.753 memavail=7487552
Stats 318.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.002 mcu_task_avg=0.000001 mcu_task_stddev=0.000000 bytes_write=4185 bytes_read=10033 bytes_retransmit=0 bytes_invalid=0 send_seq=298 receive_seq=298 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520047031 EBBT0: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1388 bytes_read=6215 bytes_retransmit=0 bytes_invalid=0 send_seq=151 receive_seq=151 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000662 adj=63994870 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1475 bytes_read=6454 bytes_retransmit=0 bytes_invalid=0 send_seq=154 receive_seq=154 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001847 adj=63998162 EBBT2: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1365 bytes_read=6049 bytes_retransmit=0 bytes_invalid=0 send_seq=138 receive_seq=138 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001107 adj=63995124 EBBT3: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1382 bytes_read=6019 bytes_retransmit=0 bytes_invalid=0 send_seq=149 receive_seq=149 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002297 adj=63994014 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1528 bytes_read=6412 bytes_retransmit=0 bytes_invalid=0 send_seq=169 receive_seq=169 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000971 adj=63994712 EBBT5: mcu_awake=0.001 mcu_task_avg=0.000010 mcu_task_stddev=0.000014 bytes_write=1435 bytes_read=6021 bytes_retransmit=0 bytes_invalid=0 send_seq=146 receive_seq=146 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64003080 adj=63996029 cartographer: mcu_awake=0.014 mcu_task_avg=0.000093 mcu_task_stddev=0.000275 bytes_write=693 bytes_read=4682 bytes_retransmit=9 bytes_invalid=0 send_seq=88 receive_seq=88 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47999128 adj=47990507 Pico: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000002 bytes_write=1001 bytes_read=4944 bytes_retransmit=9 bytes_invalid=0 send_seq=119 receive_seq=119 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000494 adj=11999451 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.005 mcu_task_avg=0.000005 mcu_task_stddev=0.000064 bytes_write=10294 bytes_read=13079 bytes_retransmit=0 bytes_invalid=0 send_seq=556 receive_seq=556 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=39 upcoming_bytes=26 freq=520041067 adj=520037151 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1011 bytes_read=6962 bytes_retransmit=0 bytes_invalid=0 send_seq=138 receive_seq=138 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000311 adj=63994153 oams_mcu1: mcu_awake=0.007 mcu_task_avg=0.000732 mcu_task_stddev=0.000186 bytes_write=707 bytes_read=2830 bytes_retransmit=0 bytes_invalid=0 send_seq=87 receive_seq=87 retransmit_seq=0 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000057 adj=1007488 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1005 bytes_read=6806 bytes_retransmit=0 bytes_invalid=0 send_seq=137 receive_seq=137 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000272 adj=63994502 oams_mcu2: mcu_awake=0.007 mcu_task_avg=0.000733 mcu_task_stddev=0.000190 bytes_write=670 bytes_read=2748 bytes_retransmit=0 bytes_invalid=0 send_seq=83 receive_seq=83 retransmit_seq=0 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000077 adj=1000038 cartographer_coil: temp=23.7 Cartographer: temp=37.6 Host_temp: temp=47.4 heater_bed: target=0 temp=22.6 pwm=0.000 Turtle_1: temp=46.8 
OAMS[1]: current_spool=None fps_value=0.0004884004592895508 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.001953601837158203 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.9 print_time=337.733 buffer_time=0.264 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000 extruder1: target=0 temp=21.2 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.6 pwm=0.000 extruder4: target=0 temp=22.0 pwm=0.000 extruder5: target=0 temp=24.1 pwm=0.000 sysload=0.11 cputime=3.783 memavail=7491120
Running Command {reset_scanner}...:
Stats 319.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.002 mcu_task_avg=0.000001 mcu_task_stddev=0.000000 bytes_write=4197 bytes_read=10150 bytes_retransmit=0 bytes_invalid=0 send_seq=300 receive_seq=300 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520047204 EBBT0: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1394 bytes_read=6287 bytes_retransmit=0 bytes_invalid=0 send_seq=152 receive_seq=152 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000656 adj=63994915 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1487 bytes_read=6541 bytes_retransmit=0 bytes_invalid=0 send_seq=156 receive_seq=156 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001702 adj=63996491 EBBT2: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1371 bytes_read=6121 bytes_retransmit=0 bytes_invalid=0 send_seq=139 receive_seq=139 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001113 adj=63995003 EBBT3: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1388 bytes_read=6091 bytes_retransmit=0 bytes_invalid=0 send_seq=150 receive_seq=150 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002496 adj=63993274 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1540 bytes_read=6499 bytes_retransmit=0 bytes_invalid=0 send_seq=171 receive_seq=171 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000977 adj=63994680 EBBT5: mcu_awake=0.001 mcu_task_avg=0.000010 mcu_task_stddev=0.000014 bytes_write=1441 bytes_read=6093 bytes_retransmit=0 bytes_invalid=0 send_seq=147 receive_seq=147 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002676 adj=63996479 cartographer: mcu_awake=0.014 mcu_task_avg=0.000093 mcu_task_stddev=0.000275 bytes_write=699 bytes_read=4779 bytes_retransmit=9 bytes_invalid=0 send_seq=89 receive_seq=89 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47999149 adj=47992819 Pico: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000002 bytes_write=1007 bytes_read=4960 bytes_retransmit=9 bytes_invalid=0 send_seq=120 receive_seq=120 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000495 adj=11999422 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.005 mcu_task_avg=0.000005 mcu_task_stddev=0.000064 bytes_write=10850 bytes_read=13265 bytes_retransmit=0 bytes_invalid=0 send_seq=569 receive_seq=569 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=18 freq=520042195 adj=520031267 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1023 bytes_read=7122 bytes_retransmit=0 bytes_invalid=0 send_seq=140 receive_seq=140 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000288 adj=63994031 oams_mcu1: mcu_awake=0.007 mcu_task_avg=0.000732 mcu_task_stddev=0.000186 bytes_write=713 bytes_read=2893 bytes_retransmit=0 bytes_invalid=0 send_seq=88 receive_seq=88 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000056 adj=1005361 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1017 bytes_read=6966 bytes_retransmit=0 bytes_invalid=0 send_seq=139 receive_seq=139 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000266 adj=63994379 oams_mcu2: mcu_awake=0.007 mcu_task_avg=0.000733 mcu_task_stddev=0.000190 bytes_write=712 bytes_read=2851 bytes_retransmit=0 bytes_invalid=0 send_seq=88 receive_seq=88 retransmit_seq=0 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000076 adj=999956 cartographer_coil: temp=23.7 Cartographer: temp=37.5 Host_temp: temp=47.4 heater_bed: target=0 temp=22.6 pwm=0.000 Turtle_1: temp=47.0 
OAMS[1]: current_spool=None fps_value=0.0034188032150268555 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.002442002296447754 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.9 print_time=338.655 buffer_time=0.185 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000 extruder1: target=0 temp=21.2 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.6 pwm=0.000 extruder4: target=0 temp=22.1 pwm=0.000 extruder5: target=0 temp=24.1 pwm=0.000 sysload=0.11 cputime=3.815 memavail=7478624
Command {reset_scanner} finished

Stats 320.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.002 mcu_task_avg=0.000001 mcu_task_stddev=0.000000 bytes_write=4209 bytes_read=10281 bytes_retransmit=0 bytes_invalid=0 send_seq=302 receive_seq=302 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520047013 EBBT0: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1400 bytes_read=6362 bytes_retransmit=0 bytes_invalid=0 send_seq=153 receive_seq=153 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000646 adj=63994750 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1499 bytes_read=6617 bytes_retransmit=0 bytes_invalid=0 send_seq=158 receive_seq=158 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001583 adj=63995499 EBBT2: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1377 bytes_read=6196 bytes_retransmit=0 bytes_invalid=0 send_seq=140 receive_seq=140 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001103 adj=63994975 EBBT3: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1394 bytes_read=6166 bytes_retransmit=0 bytes_invalid=0 send_seq=151 receive_seq=151 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002232 adj=63994823 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1582 bytes_read=6606 bytes_retransmit=0 bytes_invalid=0 send_seq=176 receive_seq=176 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000989 adj=63994689 EBBT5: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1447 bytes_read=6168 bytes_retransmit=0 bytes_invalid=0 send_seq=148 receive_seq=148 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64003026 adj=63994483 cartographer: mcu_awake=0.014 mcu_task_avg=0.000093 mcu_task_stddev=0.000275 bytes_write=705 bytes_read=4876 bytes_retransmit=9 bytes_invalid=0 send_seq=90 receive_seq=90 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47998953 adj=47993208 Pico: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000002 bytes_write=1013 bytes_read=4976 bytes_retransmit=9 bytes_invalid=0 send_seq=121 receive_seq=121 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000493 adj=11999398 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.005 mcu_task_avg=0.000005 mcu_task_stddev=0.000064 bytes_write=10899 bytes_read=13356 bytes_retransmit=0 bytes_invalid=0 send_seq=573 receive_seq=573 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520038542 adj=520028355 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1035 bytes_read=7292 bytes_retransmit=0 bytes_invalid=0 send_seq=142 receive_seq=142 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000258 adj=63993905 oams_mcu1: mcu_awake=0.007 mcu_task_avg=0.000732 mcu_task_stddev=0.000186 bytes_write=719 bytes_read=2956 bytes_retransmit=0 bytes_invalid=0 send_seq=89 receive_seq=89 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000060 adj=1004312 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1029 bytes_read=7136 bytes_retransmit=0 bytes_invalid=0 send_seq=141 receive_seq=141 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000255 adj=63994253 oams_mcu2: mcu_awake=0.007 mcu_task_avg=0.000733 mcu_task_stddev=0.000190 bytes_write=718 bytes_read=2914 bytes_retransmit=0 bytes_invalid=0 send_seq=89 receive_seq=89 retransmit_seq=0 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000062 adj=999957 cartographer_coil: temp=23.8 Cartographer: temp=37.4 Host_temp: temp=47.4 heater_bed: target=0 temp=22.6 pwm=0.000 Turtle_1: temp=47.0 
OAMS[1]: current_spool=None fps_value=0.001953601837158203 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.001953601837158203 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.9 print_time=338.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=20.7 pwm=0.000 extruder1: target=0 temp=21.2 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.5 pwm=0.000 extruder4: target=0 temp=22.1 pwm=0.000 extruder5: target=0 temp=24.1 pwm=0.000 sysload=0.11 cputime=3.859 memavail=7477168
Stats 321.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.002 mcu_task_avg=0.000001 mcu_task_stddev=0.000000 bytes_write=4221 bytes_read=10429 bytes_retransmit=0 bytes_invalid=0 send_seq=304 receive_seq=304 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520046466 EBBT0: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1406 bytes_read=6423 bytes_retransmit=0 bytes_invalid=0 send_seq=154 receive_seq=154 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000640 adj=63994851 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1511 bytes_read=6693 bytes_retransmit=0 bytes_invalid=0 send_seq=160 receive_seq=160 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001602 adj=63995047 EBBT2: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1383 bytes_read=6257 bytes_retransmit=0 bytes_invalid=0 send_seq=141 receive_seq=141 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001092 adj=63995123 EBBT3: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1400 bytes_read=6227 bytes_retransmit=0 bytes_invalid=0 send_seq=152 receive_seq=152 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002646 adj=63993922 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1594 bytes_read=6682 bytes_retransmit=0 bytes_invalid=0 send_seq=178 receive_seq=178 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001006 adj=63994989 EBBT5: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1453 bytes_read=6229 bytes_retransmit=0 bytes_invalid=0 send_seq=149 receive_seq=149 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002766 adj=63996937 cartographer: mcu_awake=0.014 mcu_task_avg=0.000093 mcu_task_stddev=0.000275 bytes_write=711 bytes_read=5006 bytes_retransmit=9 bytes_invalid=0 send_seq=91 receive_seq=91 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47999082 adj=47992645 Pico: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000002 bytes_write=1019 bytes_read=5003 bytes_retransmit=9 bytes_invalid=0 send_seq=122 receive_seq=122 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000495 adj=11999418 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.005 mcu_task_avg=0.000005 mcu_task_stddev=0.000064 bytes_write=10911 bytes_read=13430 bytes_retransmit=0 bytes_invalid=0 send_seq=575 receive_seq=575 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520038058 adj=520004888 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1047 bytes_read=7477 bytes_retransmit=0 bytes_invalid=0 send_seq=144 receive_seq=144 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000285 adj=63994021 oams_mcu1: mcu_awake=0.007 mcu_task_avg=0.000732 mcu_task_stddev=0.000186 bytes_write=725 bytes_read=3039 bytes_retransmit=0 bytes_invalid=0 send_seq=90 receive_seq=90 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000051 adj=1003428 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1041 bytes_read=7321 bytes_retransmit=0 bytes_invalid=0 send_seq=143 receive_seq=143 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000258 adj=63994382 oams_mcu2: mcu_awake=0.007 mcu_task_avg=0.000733 mcu_task_stddev=0.000190 bytes_write=724 bytes_read=2977 bytes_retransmit=0 bytes_invalid=0 send_seq=90 receive_seq=90 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000075 adj=999902 cartographer_coil: temp=23.7 Cartographer: temp=37.7 Host_temp: temp=47.4 heater_bed: target=0 temp=22.6 pwm=0.000 Turtle_1: temp=46.8 
OAMS[1]: current_spool=None fps_value=0.0014652013778686523 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.0029304027557373047 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.9 print_time=338.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000 extruder1: target=0 temp=21.1 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.6 pwm=0.000 extruder4: target=0 temp=22.0 pwm=0.000 extruder5: target=0 temp=24.1 pwm=0.000 sysload=0.10 cputime=3.880 memavail=7475968
Stats 322.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.002 mcu_task_avg=0.000001 mcu_task_stddev=0.000000 bytes_write=4233 bytes_read=10548 bytes_retransmit=0 bytes_invalid=0 send_seq=306 receive_seq=306 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520046350 EBBT0: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1412 bytes_read=6499 bytes_retransmit=0 bytes_invalid=0 send_seq=155 receive_seq=155 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000634 adj=63995225 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1523 bytes_read=6784 bytes_retransmit=0 bytes_invalid=0 send_seq=162 receive_seq=162 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001506 adj=63995750 EBBT2: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1389 bytes_read=6333 bytes_retransmit=0 bytes_invalid=0 send_seq=142 receive_seq=142 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001080 adj=63995516 EBBT3: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1406 bytes_read=6303 bytes_retransmit=0 bytes_invalid=0 send_seq=153 receive_seq=153 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002368 adj=63997277 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1606 bytes_read=6773 bytes_retransmit=0 bytes_invalid=0 send_seq=180 receive_seq=180 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001018 adj=63995537 EBBT5: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1459 bytes_read=6305 bytes_retransmit=0 bytes_invalid=0 send_seq=150 receive_seq=150 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002744 adj=63996010 cartographer: mcu_awake=0.014 mcu_task_avg=0.000093 mcu_task_stddev=0.000275 bytes_write=717 bytes_read=5103 bytes_retransmit=9 bytes_invalid=0 send_seq=92 receive_seq=92 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47999012 adj=47994126 Pico: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000002 bytes_write=1025 bytes_read=5019 bytes_retransmit=9 bytes_invalid=0 send_seq=123 receive_seq=123 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000495 adj=11999503 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.005 mcu_task_avg=0.000005 mcu_task_stddev=0.000064 bytes_write=10923 bytes_read=13518 bytes_retransmit=0 bytes_invalid=0 send_seq=577 receive_seq=577 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520035237 adj=520002395 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1059 bytes_read=7648 bytes_retransmit=0 bytes_invalid=0 send_seq=146 receive_seq=146 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000255 adj=63994665 oams_mcu1: mcu_awake=0.009 mcu_task_avg=0.000871 mcu_task_stddev=0.000369 bytes_write=731 bytes_read=3114 bytes_retransmit=0 bytes_invalid=0 send_seq=91 receive_seq=91 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000046 adj=1002526 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1053 bytes_read=7492 bytes_retransmit=0 bytes_invalid=0 send_seq=145 receive_seq=145 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000243 adj=63994823 oams_mcu2: mcu_awake=0.007 mcu_task_avg=0.000733 mcu_task_stddev=0.000190 bytes_write=730 bytes_read=3060 bytes_retransmit=0 bytes_invalid=0 send_seq=91 receive_seq=91 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000086 adj=999984 cartographer_coil: temp=23.7 Cartographer: temp=37.5 Host_temp: temp=46.9 heater_bed: target=0 temp=22.6 pwm=0.000 Turtle_1: temp=47.0 
OAMS[1]: current_spool=None fps_value=0.0007326006889343262 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.004639804363250732 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.9 print_time=338.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000 extruder1: target=0 temp=21.2 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.5 pwm=0.000 extruder4: target=0 temp=22.0 pwm=0.000 extruder5: target=0 temp=24.1 pwm=0.000 sysload=0.10 cputime=3.902 memavail=7480944
Stats 323.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.002 mcu_task_avg=0.000001 mcu_task_stddev=0.000000 bytes_write=4245 bytes_read=10682 bytes_retransmit=0 bytes_invalid=0 send_seq=308 receive_seq=308 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520046241 EBBT0: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1418 bytes_read=6560 bytes_retransmit=0 bytes_invalid=0 send_seq=156 receive_seq=156 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000625 adj=63995198 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1535 bytes_read=6874 bytes_retransmit=0 bytes_invalid=0 send_seq=164 receive_seq=164 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001428 adj=63995296 EBBT2: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1395 bytes_read=6394 bytes_retransmit=0 bytes_invalid=0 send_seq=143 receive_seq=143 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001074 adj=63995497 EBBT3: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1412 bytes_read=6364 bytes_retransmit=0 bytes_invalid=0 send_seq=154 receive_seq=154 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002251 adj=63995666 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000014 bytes_write=1618 bytes_read=6863 bytes_retransmit=0 bytes_invalid=0 send_seq=182 receive_seq=182 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001005 adj=63995632 EBBT5: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1465 bytes_read=6366 bytes_retransmit=0 bytes_invalid=0 send_seq=151 receive_seq=151 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002771 adj=63996238 cartographer: mcu_awake=0.014 mcu_task_avg=0.000093 mcu_task_stddev=0.000275 bytes_write=723 bytes_read=5233 bytes_retransmit=9 bytes_invalid=0 send_seq=93 receive_seq=93 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47999160 adj=47993974 Pico: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000002 bytes_write=1031 bytes_read=5035 bytes_retransmit=9 bytes_invalid=0 send_seq=124 receive_seq=124 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000502 adj=11999499 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.004 mcu_task_avg=0.000008 mcu_task_stddev=0.000087 bytes_write=10935 bytes_read=13605 bytes_retransmit=0 bytes_invalid=0 send_seq=579 receive_seq=579 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520031293 adj=519985668 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1071 bytes_read=7819 bytes_retransmit=0 bytes_invalid=0 send_seq=148 receive_seq=148 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000245 adj=63994577 oams_mcu1: mcu_awake=0.009 mcu_task_avg=0.000871 mcu_task_stddev=0.000369 bytes_write=773 bytes_read=3217 bytes_retransmit=0 bytes_invalid=0 send_seq=96 receive_seq=96 retransmit_seq=0 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000040 adj=1001856 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1065 bytes_read=7663 bytes_retransmit=0 bytes_invalid=0 send_seq=147 receive_seq=147 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000251 adj=63994765 oams_mcu2: mcu_awake=0.010 mcu_task_avg=0.000980 mcu_task_stddev=0.000591 bytes_write=736 bytes_read=3135 bytes_retransmit=0 bytes_invalid=0 send_seq=92 receive_seq=92 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000072 adj=1000039 cartographer_coil: temp=23.8 Cartographer: temp=37.3 Host_temp: temp=48.0 heater_bed: target=0 temp=22.6 pwm=0.000 Turtle_1: temp=46.7 
OAMS[1]: current_spool=None fps_value=0.0034188032150268555 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.0029304027557373047 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.9 print_time=338.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=20.9 pwm=0.000 extruder1: target=0 temp=21.2 pwm=0.000 extruder2: target=0 temp=21.1 pwm=0.000 extruder3: target=0 temp=21.5 pwm=0.000 extruder4: target=0 temp=22.1 pwm=0.000 extruder5: target=0 temp=24.1 pwm=0.000 sysload=0.10 cputime=3.924 memavail=7486096
Stats 324.6: gcodein=0 canstat_mcu: bus_state=active rx_error=16 tx_error=0 tx_retries=0 mcu: mcu_awake=0.002 mcu_task_avg=0.000001 mcu_task_stddev=0.000000 bytes_write=4257 bytes_read=10815 bytes_retransmit=0 bytes_invalid=0 send_seq=310 receive_seq=310 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520045946 EBBT0: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1424 bytes_read=6621 bytes_retransmit=0 bytes_invalid=0 send_seq=157 receive_seq=157 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000620 adj=63995161 canstat_EBBT1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT1: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000009 bytes_write=1547 bytes_read=6950 bytes_retransmit=0 bytes_invalid=0 send_seq=166 receive_seq=166 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001356 adj=63995024 EBBT2: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1401 bytes_read=6455 bytes_retransmit=0 bytes_invalid=0 send_seq=144 receive_seq=144 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64001072 adj=63995515 EBBT3: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1418 bytes_read=6425 bytes_retransmit=0 bytes_invalid=0 send_seq=155 receive_seq=155 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002192 adj=63995301 canstat_EBBT4: bus_state=active rx_error=16 tx_error=0 tx_retries=0 EBBT4: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000014 bytes_write=1630 bytes_read=6939 bytes_retransmit=0 bytes_invalid=0 send_seq=184 receive_seq=184 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000988 adj=63995562 EBBT5: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000008 bytes_write=1471 bytes_read=6427 bytes_retransmit=0 bytes_invalid=0 send_seq=152 receive_seq=152 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64002666 adj=63996681 cartographer: mcu_awake=0.014 mcu_task_avg=0.000093 mcu_task_stddev=0.000275 bytes_write=729 bytes_read=5345 bytes_retransmit=9 bytes_invalid=0 send_seq=94 receive_seq=94 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47999260 adj=47995067 Pico: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000002 bytes_write=1037 bytes_read=5051 bytes_retransmit=9 bytes_invalid=0 send_seq=125 receive_seq=125 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000502 adj=11999535 canstat_Turtle_1: bus_state=active rx_error=16 tx_error=0 tx_retries=0 Turtle_1: mcu_awake=0.004 mcu_task_avg=0.000008 mcu_task_stddev=0.000087 bytes_write=10947 bytes_read=13679 bytes_retransmit=0 bytes_invalid=0 send_seq=581 receive_seq=581 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=520027758 adj=519965779 canstat_fps: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1083 bytes_read=7990 bytes_retransmit=0 bytes_invalid=0 send_seq=150 receive_seq=150 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000229 adj=63994607 oams_mcu1: mcu_awake=0.009 mcu_task_avg=0.000871 mcu_task_stddev=0.000369 bytes_write=779 bytes_read=3280 bytes_retransmit=0 bytes_invalid=0 send_seq=97 receive_seq=97 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000047 adj=1001349 canstat_fps2: bus_state=active rx_error=16 tx_error=0 tx_retries=0 fps2: mcu_awake=0.002 mcu_task_avg=0.000010 mcu_task_stddev=0.000009 bytes_write=1077 bytes_read=7834 bytes_retransmit=0 bytes_invalid=0 send_seq=149 receive_seq=149 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=64000240 adj=63994838 oams_mcu2: mcu_awake=0.010 mcu_task_avg=0.000980 mcu_task_stddev=0.000591 bytes_write=778 bytes_read=3238 bytes_retransmit=0 bytes_invalid=0 send_seq=97 receive_seq=97 retransmit_seq=0 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=1000075 adj=999962 cartographer_coil: temp=23.8 Cartographer: temp=37.3 Host_temp: temp=48.0 heater_bed: target=0 temp=22.6 pwm=0.000 Turtle_1: temp=47.1 
OAMS[1]: current_spool=None fps_value=0.0004884004592895508 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=1 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 
OAMS[2]: current_spool=None fps_value=0.003663003444671631 f1s_hes_value_0=1 f1s_hes_value_1=1 f1s_hes_value_2=1 f1s_hes_value_3=0 hub_hes_value_0=0 hub_hes_value_1=0 hub_hes_value_2=0 hub_hes_value_3=0 kp=6 ki=0 kd=0 encoder_clicks=0 i_value=0.00
 oams1: temp=26.5 oams2: temp=25.8 print_time=338.750 buffer_time=0.000 print_stall=0 extruder: target=0 temp=20.8 pwm=0.000 extruder1: target=0 temp=21.2 pwm=0.000 extruder2: target=0 temp=21.2 pwm=0.000 extruder3: target=0 temp=21.5 pwm=0.000 extruder4: target=0 temp=22.0 pwm=0.000 extruder5: target=0 temp=24.1 pwm=0.000 sysload=0.10 cputime=3.947 memavail=7485376
